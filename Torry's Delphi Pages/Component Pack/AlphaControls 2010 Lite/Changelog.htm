<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="Changelog.css">
<title>Text Compare</title>
</head>
<body>
Text Compare<br/>
Produced: 22.05.2011 10:02:26<br/>
&nbsp; &nbsp;
<br/>
Mode:&nbsp; Differences, With Context, Ignoring Unimportant &nbsp;
<br/>
Left base folder: e:\AlphaControls\ &nbsp;
<br/>
Right base folder: e:\AC_previous\ &nbsp;
<br/>
<br/>
&nbsp; &nbsp;
<br/>
File: acAlphaHints.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">517</td>
<td class="TextItemNum AlignRight">517</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">518</td>
<td class="TextItemNum AlignRight">518</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">519</td>
<td class="TextItemNum AlignRight">519</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">520</td>
<td class="TextItemNum AlignRight">520</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">521</td>
<td class="TextItemNum AlignRight">521</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Shown</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">IsWindowVisible</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">522</td>
<td class="TextItemNum AlignRight">522</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">523</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if Manager.Skinned and acLayered <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">((</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">100</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">))</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">523</td>
<td class="TextItemSigDel">&nbsp; if Manager.Skinned and acLayered</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">524</td>
<td class="TextItemNum AlignRight">524</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">NCS_DROPSHADOW</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">525</td>
<td class="TextItemNum AlignRight">525</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">SetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">NCS_DROPSHADOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">526</td>
<td class="TextItemNum AlignRight">526</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">527</td>
<td class="TextItemNum AlignRight">527</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Caption</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AHint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">528</td>
<td class="TextItemNum AlignRight">528</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHintLocation</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">X</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHintLocation</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Y</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">p</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetMousePosition</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">p</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FHintLocation</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">529</td>
<td class="TextItemNum AlignRight">529</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">w</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CreateAlphaBmp</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">550</td>
<td class="TextItemNum AlignRight">550</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">551</td>
<td class="TextItemNum AlignRight">551</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">WS_EX_LAYERED</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">552</td>
<td class="TextItemNum AlignRight">552</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateLayeredWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">@</span><span class="TextSegElementIdentifier">FBmpSize</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AlphaBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">@</span><span class="TextSegElementIdentifier">FBmpTopLeft</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">clNone</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">@</span><span class="TextSegElementIdentifier">FBlend</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ULW_ALPHA</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">553</td>
<td class="TextItemNum AlignRight">553</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Show window with hint</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">554</td>
<td class="TextItemNum AlignRight">554</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Animated</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">IsNTFamily</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Shown</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">555</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; if Manager.Skinned then i := DefaultManager.gd[SkinIndex].Transparency else</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">555</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Manager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Skinned</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">i</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">else</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">556</td>
<td class="TextItemNum AlignRight">556</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span><span class="TextSegElementComment">//Manager.HintKind.Transparency;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">557</td>
<td class="TextItemNum AlignRight">557</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">100</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">558</td>
<td class="TextItemNum AlignRight">558</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDestroying</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">559</td>
<td class="TextItemNum AlignRight">559</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">StepCount</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DefAnimationTime</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementIdentifier">DelayValue</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">560</td>
<td class="TextItemNum AlignRight">560</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">StepB</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Round</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">100</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">2.55</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">/</span> <span class="TextSegElementIdentifier">StepCount</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">561</td>
<td class="TextItemNum AlignRight">561</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Blend</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">821</td>
<td class="TextItemNum AlignRight">821</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">822</td>
<td class="TextItemNum AlignRight">822</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TacCustomHintWindow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetBody</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">823</td>
<td class="TextItemNum AlignRight">823</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">824</td>
<td class="TextItemNum AlignRight">824</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">825</td>
<td class="TextItemNum AlignRight">825</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">826</td>
<td class="TextItemNum AlignRight">826</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">827</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SBmp</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TBitmap</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">828</td>
<td class="TextItemNum AlignRight">827</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">829</td>
<td class="TextItemNum AlignRight">828</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">830</td>
<td class="TextItemNum AlignRight">829</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">831</td>
<td class="TextItemNum AlignRight">830</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ready</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">832</td>
<td class="TextItemNum AlignRight">831</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmpLike</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">833</td>
<td class="TextItemNum AlignRight">832</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">HintFrame</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BodyBmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">834</td>
<td class="TextItemNum AlignRight">833</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ClientRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">835</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">100</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Used BorderMask</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">836</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bmp</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">SBmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">MasterBitmap</span> <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">SBmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">837</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">ABmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">sGraphUtils</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">CreateAlphaBmp</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">838</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">PaintControlByTemplate</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">839</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">840</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WL</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WT</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WR</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WB</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">841</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WL</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WT</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WR</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WB</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">842</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span> // For internal shadows - stretch only allowed</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">843</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Free</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">844</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">TextOut</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">845</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FillAlphaRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WL</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WT</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WR</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WB</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MaxByte</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">846</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">847</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">848</td>
<td class="TextItemNum AlignRight">834</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">PaintItemFast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">''</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">849</td>
<td class="TextItemNum AlignRight">835</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TextOut</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">850</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">851</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">852</td>
<td class="TextItemNum AlignRight">836</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">853</td>
<td class="TextItemNum AlignRight">837</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">854</td>
<td class="TextItemNum AlignRight">838</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">855</td>
<td class="TextItemNum AlignRight">839</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TacCustomHintWindow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinMargin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Border</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">byte</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">856</td>
<td class="TextItemNum AlignRight">840</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">857</td>
<td class="TextItemNum AlignRight">841</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">858</td>
<td class="TextItemNum AlignRight">842</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BorderIndex</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">859</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">{&nbsp; &nbsp; if DefaultManager.ma[BorderIndex].BorderWidth &gt; 0 then begin</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">860</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; Result := DefaultManager.ma[BorderIndex].BorderWidth;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">861</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; end</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">843</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">BorderWidth</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">844</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">BorderWidth</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">845</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">862</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">863</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; case Border of</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">846</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> case Border of</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">864</td>
<td class="TextItemNum AlignRight">847</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementNumber">0</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">865</td>
<td class="TextItemNum AlignRight">848</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WL</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">866</td>
<td class="TextItemNum AlignRight">849</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WL</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">867</td>
<td class="TextItemNum AlignRight">850</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageCount</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">868</td>
<td class="TextItemNum AlignRight">851</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">869</td>
<td class="TextItemNum AlignRight">852</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementNumber">1</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">897</td>
<td class="TextItemNum AlignRight">880</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">c</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">898</td>
<td class="TextItemNum AlignRight">881</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">899</td>
<td class="TextItemNum AlignRight">882</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FBlend</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SourceConstantAlpha</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Round</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">255</span><span class="TextSegElementComment">{ - 2.55 * Manager.HintKind.Transparency}</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">900</td>
<td class="TextItemNum AlignRight">883</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AlphaBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">901</td>
<td class="TextItemNum AlignRight">884</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AlphaBmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">902</td>
<td class="TextItemNum AlignRight">885</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">903</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">PrepareMask</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">904</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BodyBmp</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">FreeAndNil</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BodyBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">905</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">BodyBmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">GetBody</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">906</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">907</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">AlphaBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">PixelFormat</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">pf32bit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">908</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">100</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Used BorderMask</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">909</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">AlphaBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Assign</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BodyBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">910</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">911</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">912</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FillDC</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Manager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Classes</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">clWhite</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">913</td>
<td class="TextItemNum AlignRight">886</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FastDst</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">914</td>
<td class="TextItemNum AlignRight">887</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FastShadow</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">915</td>
<td class="TextItemNum AlignRight">888</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FastMask</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">916</td>
<td class="TextItemNum AlignRight">889</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FastBody</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">890</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">891</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">PrepareMask</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">892</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">FreeAndNil</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BodyBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">893</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">BodyBmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">GetBody</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">894</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">FillDC</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Manager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Classes</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">clWhite</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">895</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">896</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">AlphaBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">PixelFormat</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">pf32bit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">917</td>
<td class="TextItemNum AlignRight">897</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FastDst</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AlphaBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FastShadow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FastMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MaskBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FastBody</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BodyBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">918</td>
<td class="TextItemNum AlignRight">898</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">y</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">x</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">919</td>
<td class="TextItemNum AlignRight">899</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FastMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pixels</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">].</span><span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">255</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">920</td>
<td class="TextItemNum AlignRight">900</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">c</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">I</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">921</td>
<td class="TextItemNum AlignRight">901</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">c</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">255</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">FastShadow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pixels</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">].</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">922</td>
<td class="TextItemNum AlignRight">902</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">928</td>
<td class="TextItemNum AlignRight">908</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">929</td>
<td class="TextItemNum AlignRight">909</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">930</td>
<td class="TextItemNum AlignRight">910</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastDst</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">931</td>
<td class="TextItemNum AlignRight">911</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastMask</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">932</td>
<td class="TextItemNum AlignRight">912</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastShadow</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">933</td>
<td class="TextItemNum AlignRight">913</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastBody</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">934</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">935</td>
<td class="TextItemNum AlignRight">914</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BodyBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BodyBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">936</td>
<td class="TextItemNum AlignRight">915</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">937</td>
<td class="TextItemNum AlignRight">916</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">938</td>
<td class="TextItemNum AlignRight">917</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TacCustomHintWindow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetArrowPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">Rect</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">mPos</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPoint</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacMousePosition</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">939</td>
<td class="TextItemNum AlignRight">918</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">const</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">940</td>
<td class="TextItemNum AlignRight">919</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">pArray</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">array</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementKeyword">of</span> <span class="TextSegElementIdentifier">TacMousePosition</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mpRightBottom</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mpLeftBottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mpRightTop</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mpLeftTop</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: acD5Ctrls.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2327</td>
<td class="TextItemNum AlignRight">2327</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2328</td>
<td class="TextItemNum AlignRight">2328</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2329</td>
<td class="TextItemNum AlignRight">2329</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2330</td>
<td class="TextItemNum AlignRight">2330</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bsSolid</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2331</td>
<td class="TextItemNum AlignRight">2331</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">odComboBoxEdit</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// if editor window ...</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2332</td>
<td class="TextItemNum AlignRight">2332</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Assign</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2333</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if <span class="TextSegSigDiff">(</span>Index &gt; -1<span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Index</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">ItemsEx</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Count</span><span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2333</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if Index &gt; -1 then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2334</td>
<td class="TextItemNum AlignRight">2334</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CurrentImage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemsEx</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2335</td>
<td class="TextItemNum AlignRight">2335</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2336</td>
<td class="TextItemNum AlignRight">2336</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ImgRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SelectedItem</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2337</td>
<td class="TextItemNum AlignRight">2337</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2338</td>
<td class="TextItemNum AlignRight">2338</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2339</td>
<td class="TextItemNum AlignRight">2339</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2349</td>
<td class="TextItemNum AlignRight">2349</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ffocused</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">Focused</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">odFocused</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">state</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">DroppedDown</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2350</td>
<td class="TextItemNum AlignRight">2350</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">clHighLight</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2351</td>
<td class="TextItemNum AlignRight">2351</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">clHighlightText</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2352</td>
<td class="TextItemNum AlignRight">2352</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FillRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2353</td>
<td class="TextItemNum AlignRight">2353</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawFocusRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2354</td>
<td class="TextItemNum AlignRight">2354</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2355</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if <span class="TextSegSigDiff">(</span>Index &gt; -1<span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Index</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">ItemsEx</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Count</span><span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2355</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if Index &gt; -1 then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2356</td>
<td class="TextItemNum AlignRight">2356</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CurrentImage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemsEx</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2357</td>
<td class="TextItemNum AlignRight">2357</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Images</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Draw</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCanvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2358</td>
<td class="TextItemNum AlignRight">2358</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Text out</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bsClear</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: acSBUtils.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">486</td>
<td class="TextItemNum AlignRight">486</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">487</td>
<td class="TextItemNum AlignRight">487</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">////////////////////////</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">488</td>
<td class="TextItemNum AlignRight">488</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// TGridEh compatible //</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">489</td>
<td class="TextItemNum AlignRight">489</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">////////////////////////</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">490</td>
<td class="TextItemNum AlignRight">490</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TacGridEhWnd</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">class</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TacGridWnd</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">491</td>
<td class="TextItemNum AlignRight">491</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">public</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">492</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">Fixed3D</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">493</td>
<td class="TextItemNum AlignRight">492</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">acWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">494</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">SaveStdParams</span><span class="TextSegSigDiff">;</span> <span class="TextSegSigDiff">override</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">495</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">SetSkinParams</span><span class="TextSegSigDiff">;</span> <span class="TextSegSigDiff">override</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">496</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">RestoreStdParams</span><span class="TextSegSigDiff">;</span> <span class="TextSegSigDiff">override</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">497</td>
<td class="TextItemNum AlignRight">493</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">498</td>
<td class="TextItemNum AlignRight">494</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">499</td>
<td class="TextItemNum AlignRight">495</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">////////////////////////////////</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">500</td>
<td class="TextItemNum AlignRight">496</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// TCustomTreeView compatible //</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">501</td>
<td class="TextItemNum AlignRight">497</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">////////////////////////////////</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">502</td>
<td class="TextItemNum AlignRight">498</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TacTreeViewWnd</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">class</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TacEditWnd</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1136</td>
<td class="TextItemNum AlignRight">1132</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1137</td>
<td class="TextItemNum AlignRight">1133</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">rCtrl</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1138</td>
<td class="TextItemNum AlignRight">1134</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ci</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1139</td>
<td class="TextItemNum AlignRight">1135</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">P</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPoint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1140</td>
<td class="TextItemNum AlignRight">1136</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">pHwnd</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1141</td>
<td class="TextItemNum AlignRight">1137</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">dk</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsDisabledKind</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1142</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">BGInfo</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TacBGInfo</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1143</td>
<td class="TextItemNum AlignRight">1138</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1144</td>
<td class="TextItemNum AlignRight">1139</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1145</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if CtrlHandle <span class="TextSegSigDiff">=</span> 0 the<span class="TextSegSigDiff">n</span> Exit;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1140</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if <span class="TextSegSigDiff">(</span>CtrlHandle <span class="TextSegSigDiff">&lt;&gt;</span> 0<span class="TextSegSigDiff">)</span> the<span class="TextSegSigDiff">n</span> <span class="TextSegSigDiff">GetWindowRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">CtrlHandle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">rCtrl</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">else</span> Exit;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1146</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1147</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; G<span class="TextSegSigDiff">e</span><span class="TextSegSigDiff">t</span><span class="TextSegSigDiff">Wi</span>nd<span class="TextSegSigDiff">owRect</span>(CtrlHandle<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">rCtrl</span>);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1141</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">CI</span> <span class="TextSegSigDiff">:=</span> G<span class="TextSegSigDiff">etParentCacheHw</span>nd(CtrlHandle);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1148</td>
<td class="TextItemNum AlignRight">1142</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">InitCacheBmp</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1149</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1150</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">pHwnd</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">GetParent</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">CtrlHandle</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1151</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">pHwnd</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1152</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">BGInfo</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">PleaseDraw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1153</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">GetBGInfo</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">@</span><span class="TextSegSigDiff">BGInfo</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">pHwnd</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1154</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">BGInfo</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BgType</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">btNotReady</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1155</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FUpdating</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1156</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1157</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1158</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">CI</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">BGInfoToCI</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">@</span><span class="TextSegSigDiff">BGInfo</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1159</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1160</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">CI</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">EmptyCI</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1161</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1162</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1163</td>
<td class="TextItemNum AlignRight">1143</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">rCtrl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1164</td>
<td class="TextItemNum AlignRight">1144</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">rCtrl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1165</td>
<td class="TextItemNum AlignRight">1145</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1166</td>
<td class="TextItemNum AlignRight">1146</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">DlgMode</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderColor</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">clFuchsia</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2886</td>
<td class="TextItemNum AlignRight">2868</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">Ac_Timer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sw</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacScrollWnd</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Handle</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">wTimerId</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">longint</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">lParam</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">longint</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">longint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2887</td>
<td class="TextItemNum AlignRight">2869</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2888</td>
<td class="TextItemNum AlignRight">2870</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">pt</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPoint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2889</td>
<td class="TextItemNum AlignRight">2871</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">rect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">winrect</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2890</td>
<td class="TextItemNum AlignRight">2872</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2891</td>
<td class="TextItemNum AlignRight">2873</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sbar</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacScrollBar</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2892</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">bCalled</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2893</td>
<td class="TextItemNum AlignRight">2874</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2894</td>
<td class="TextItemNum AlignRight">2875</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2895</td>
<td class="TextItemNum AlignRight">2876</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">//let all timer messages go past if we don't have a timer installed ourselves</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2896</td>
<td class="TextItemNum AlignRight">2877</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uScrollTimerId</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">uMouseOverId</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2897</td>
<td class="TextItemNum AlignRight">2878</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sw</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CallPrevWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_TIMER</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">wTimerID</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2898</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">bCalled</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2899</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; end</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">2900</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">bCalled</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2879</td>
<td class="TextItemSigDel">&nbsp; end<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2901</td>
<td class="TextItemNum AlignRight">2880</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">//mouse-over timer</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2902</td>
<td class="TextItemNum AlignRight">2881</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">wTimerId</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">COOLSB_TIMERID3</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2903</td>
<td class="TextItemNum AlignRight">2882</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">sw</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">fThumbTracking</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2904</td>
<td class="TextItemNum AlignRight">2883</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// if the mouse moves outside the current scrollbar, then kill the timer..</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2905</td>
<td class="TextItemNum AlignRight">2884</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">GetCursorPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">pt</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2906</td>
<td class="TextItemNum AlignRight">2885</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2964</td>
<td class="TextItemNum AlignRight">2943</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendScrollMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">uScrollTimerMsg</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">uScrollTimerPortion</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2965</td>
<td class="TextItemNum AlignRight">2944</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sw</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DontRepaint</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2966</td>
<td class="TextItemNum AlignRight">2945</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2967</td>
<td class="TextItemNum AlignRight">2946</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2968</td>
<td class="TextItemNum AlignRight">2947</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2969</td>
<td class="TextItemNum AlignRight">2948</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2970</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bCalled</span> <span class="TextSegSigDiff">then</span> Result := sw.CallPrevWndProc(Handle, WM_TIMER, wTimer<span class="TextSegSigDiff">ID</span>, LParam);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2949</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">else</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2950</td>
<td class="TextItemSigDel">&nbsp; &nbsp; Result := sw.CallPrevWndProc(Handle, WM_TIMER, W<span class="TextSegSigDiff">M_</span>TIMER, LParam);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2971</td>
<td class="TextItemNum AlignRight">2951</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2972</td>
<td class="TextItemNum AlignRight">2952</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2973</td>
<td class="TextItemNum AlignRight">2953</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">destructor</span> <span class="TextSegElementIdentifier">TacScrollWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Destroy</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2974</td>
<td class="TextItemNum AlignRight">2954</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2975</td>
<td class="TextItemNum AlignRight">2955</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sBarHorz</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sBarHorz</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2976</td>
<td class="TextItemNum AlignRight">2956</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sBarVert</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sBarVert</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3359</td>
<td class="TextItemNum AlignRight">3339</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ac_KeepOwnFont</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3360</td>
<td class="TextItemNum AlignRight">3340</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinSection</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">''</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinSection</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">s_Edit</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinSection</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3361</td>
<td class="TextItemNum AlignRight">3341</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SaveStdParams</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3362</td>
<td class="TextItemNum AlignRight">3342</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ParamsChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3363</td>
<td class="TextItemNum AlignRight">3343</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DlgMode</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">acDlgMode</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3364</td>
<td class="TextItemNum AlignRight">3344</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">InitializeACScrolls</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Repaint</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3365</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3366</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">OldCtrlStyle</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ControlStyle</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3367</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if not (SkinData.FOwnerControl is TCustomListView) then SkinData.FOwnerControl.ControlStyle := SkinData.FOwnerControl.ControlStyle + [csOpaque];</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3368</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3345</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> not (SkinData.FOwnerControl is TCustomListView) then SkinData.FOwnerControl.ControlStyle := SkinData.FOwnerControl.ControlStyle + [csOpaque];</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3369</td>
<td class="TextItemNum AlignRight">3346</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3370</td>
<td class="TextItemNum AlignRight">3347</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3371</td>
<td class="TextItemNum AlignRight">3348</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3372</td>
<td class="TextItemNum AlignRight">3349</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TacEditWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">RestoreStdParams</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3373</td>
<td class="TextItemNum AlignRight">3350</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3374</td>
<td class="TextItemNum AlignRight">3351</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3669</td>
<td class="TextItemNum AlignRight">3646</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3670</td>
<td class="TextItemNum AlignRight">3647</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3671</td>
<td class="TextItemNum AlignRight">3648</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TacListViewWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AHandle</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ASkinData</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ASkinManager</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SkinSection</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Repaint</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3672</td>
<td class="TextItemNum AlignRight">3649</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3673</td>
<td class="TextItemNum AlignRight">3650</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">HWND</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3674</td>
<td class="TextItemNum AlignRight">3651</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3675</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ASkinData</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">ASkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">COC</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">COC_TsListView</span><span class="TextSegSigDiff">;</span> // Prevent a disabling of native themes</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3676</td>
<td class="TextItemNum AlignRight">3652</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3677</td>
<td class="TextItemNum AlignRight">3653</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">HoverColIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3678</td>
<td class="TextItemNum AlignRight">3654</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FhHeaderProc</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MakeObjectInstance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">HeaderWndProc</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3679</td>
<td class="TextItemNum AlignRight">3655</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FindWindowEx</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WC_HEADER</span><span class="TextSegElementComment">{'SysHeader32'}</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3680</td>
<td class="TextItemNum AlignRight">3656</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FPressedColumn</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3681</td>
<td class="TextItemNum AlignRight">3657</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FhWndHeader</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3682</td>
<td class="TextItemNum AlignRight">3658</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FhWndHeader</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3683</td>
<td class="TextItemNum AlignRight">3659</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FhDefHeaderProc</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Pointer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">GetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FhWndHeader</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_WNDPROC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3684</td>
<td class="TextItemNum AlignRight">3660</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FhWndHeader</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_WNDPROC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Longint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FhHeaderProc</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3685</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; end<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3661</td>
<td class="TextItemSigDel">&nbsp; end</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3686</td>
<td class="TextItemNum AlignRight">3662</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3687</td>
<td class="TextItemNum AlignRight">3663</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3688</td>
<td class="TextItemNum AlignRight">3664</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TacListViewWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetHeaderColumnRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3689</td>
<td class="TextItemNum AlignRight">3665</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3690</td>
<td class="TextItemNum AlignRight">3666</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SectionOrder</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">array</span> <span class="TextSegElementKeyword">of</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3691</td>
<td class="TextItemNum AlignRight">3667</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">rc</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4528</td>
<td class="TextItemNum AlignRight">4504</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4529</td>
<td class="TextItemNum AlignRight">4505</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TacGridEhWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">acWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4530</td>
<td class="TextItemNum AlignRight">4506</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4531</td>
<td class="TextItemNum AlignRight">4507</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4532</td>
<td class="TextItemNum AlignRight">4508</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4533</td>
<td class="TextItemNum AlignRight">4509</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4534</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">TacGridEhWnd</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">RestoreStdParams</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4535</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4536</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">inherited</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4537</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">HasProperty</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'OptionsEh'</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Disable themed columns if not Win7 </td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4538</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">SetSetPropValue</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'OptionsEh'</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'dghFixed3D'</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Fixed3D</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4539</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4540</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">4541</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4542</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">TacGridEhWnd</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SaveStdParams</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4543</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4544</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">inherited</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4545</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">HasProperty</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'OptionsEh'</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4546</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">Fixed3D</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">CheckSetProp</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'OptionsEh'</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'dghFixed3D'</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4547</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4548</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">4549</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4550</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">TacGridEhWnd</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SetSkinParams</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4551</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4552</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">inherited</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4553</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">HasProperty</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'OptionsEh'</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4554</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">SetSetPropValue</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'OptionsEh'</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'dghFixed3D'</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4555</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4556</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4557</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4558</td>
<td class="TextItemNum AlignRight">4510</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TacComboListWnd }</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4559</td>
<td class="TextItemNum AlignRight">4511</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4560</td>
<td class="TextItemNum AlignRight">4512</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TacComboListWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">acWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4561</td>
<td class="TextItemNum AlignRight">4513</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4562</td>
<td class="TextItemNum AlignRight">4514</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">pDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4817</td>
<td class="TextItemNum AlignRight">4769</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4818</td>
<td class="TextItemNum AlignRight">4770</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">bw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">GetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">WS_EX_CLIENTEDGE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">WS_EX_CLIENTEDGE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4819</td>
<td class="TextItemNum AlignRight">4771</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FillDCBorder</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">bw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">bw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">bw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">bw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormColor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4820</td>
<td class="TextItemNum AlignRight">4772</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4821</td>
<td class="TextItemNum AlignRight">4773</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4822</td>
<td class="TextItemNum AlignRight">4774</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4823</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">{$IFDEF LOGGED}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4824</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">AddToLog</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4825</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">{$ENDIF}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4826</td>
<td class="TextItemNum AlignRight">4775</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">SM_ALPHACMD</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParamHi</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4827</td>
<td class="TextItemNum AlignRight">4776</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_GETCACHE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4828</td>
<td class="TextItemNum AlignRight">4777</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendAMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FForm</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AC_GETCACHE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4829</td>
<td class="TextItemNum AlignRight">4778</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4830</td>
<td class="TextItemNum AlignRight">4779</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4831</td>
<td class="TextItemNum AlignRight">4780</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_BEFORESCROLL</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4904</td>
<td class="TextItemNum AlignRight">4853</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4905</td>
<td class="TextItemNum AlignRight">4854</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InvalidateRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4906</td>
<td class="TextItemNum AlignRight">4855</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ClientHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ALLCHILDREN</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4907</td>
<td class="TextItemNum AlignRight">4856</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateItems</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4908</td>
<td class="TextItemNum AlignRight">4857</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4909</td>
<td class="TextItemNum AlignRight">4858</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4910</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">WM_WINDOWPOSCHANGED</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">SkinProvider</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Update menu after restoring of child windows (WindowState := wsNormal)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4911</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">RedrawWindow</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinProvider</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">RDW_FRAME</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_INVALIDATE</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4912</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">4913</td>
<td class="TextItemNum AlignRight">4859</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_VSCROLL</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_HSCROLL</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4914</td>
<td class="TextItemNum AlignRight">4860</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParamLo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">SB_THUMBTRACK</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4915</td>
<td class="TextItemNum AlignRight">4861</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParamLo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">SB_THUMBPOSITION</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4916</td>
<td class="TextItemNum AlignRight">4862</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">si</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">cbSize</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SizeOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TScrollInfo</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">4917</td>
<td class="TextItemNum AlignRight">4863</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">si</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">fMask</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SIF_ALL</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">4918</td>
<td class="TextItemNum AlignRight">4864</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">WM_VSCROLL</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5497</td>
<td class="TextItemNum AlignRight">5443</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5498</td>
<td class="TextItemNum AlignRight">5444</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5499</td>
<td class="TextItemNum AlignRight">5445</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">destructor</span> <span class="TextSegElementIdentifier">TacMainWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Destroy</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5500</td>
<td class="TextItemNum AlignRight">5446</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5501</td>
<td class="TextItemNum AlignRight">5447</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5502</td>
<td class="TextItemNum AlignRight">5448</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Destroyed</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinManager</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">5503</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if <span class="TextSegSigDiff">(</span>SkinData.FOwnerControl &lt;&gt; ni<span class="TextSegSigDiff">l</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">OldCtrlStyle</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">[])</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">5449</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; if SkinData.FOwnerControl &lt;&gt; ni<span class="TextSegSigDiff">l</span> then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5504</td>
<td class="TextItemNum AlignRight">5450</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ControlStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">OldCtrlStyle</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5505</td>
<td class="TextItemNum AlignRight">5451</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5506</td>
<td class="TextItemNum AlignRight">5452</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">bRemoving</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinRemoving</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5507</td>
<td class="TextItemNum AlignRight">5453</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5508</td>
<td class="TextItemNum AlignRight">5454</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerObject</span> <span class="TextSegElementKeyword">is</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5509</td>
<td class="TextItemNum AlignRight">5455</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerObject</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowProc</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">OldWndProc</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7161</td>
<td class="TextItemNum AlignRight">7107</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7162</td>
<td class="TextItemNum AlignRight">7108</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7163</td>
<td class="TextItemNum AlignRight">7109</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7164</td>
<td class="TextItemNum AlignRight">7110</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TacSpinWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">acWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7165</td>
<td class="TextItemNum AlignRight">7111</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7166</td>
<td class="TextItemNum AlignRight">7112</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF LOGGED}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">7167</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; AddToLog(Message);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7113</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">AddToLog</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7168</td>
<td class="TextItemNum AlignRight">7114</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7169</td>
<td class="TextItemNum AlignRight">7115</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7170</td>
<td class="TextItemNum AlignRight">7116</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_NCPAINT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_ERASEBKGND</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7171</td>
<td class="TextItemNum AlignRight">7117</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7172</td>
<td class="TextItemNum AlignRight">7118</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7173</td>
<td class="TextItemNum AlignRight">7119</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7575</td>
<td class="TextItemNum AlignRight">7521</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF LOGGED}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7576</td>
<td class="TextItemNum AlignRight">7522</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; AddToLog(Message);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7577</td>
<td class="TextItemNum AlignRight">7523</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7578</td>
<td class="TextItemNum AlignRight">7524</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7579</td>
<td class="TextItemNum AlignRight">7525</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_TIMER</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7580</td>
<td class="TextItemNum AlignRight">7526</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CallPrevWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">7581</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7582</td>
<td class="TextItemNum AlignRight">7527</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7583</td>
<td class="TextItemNum AlignRight">7528</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_DESTROY</span><span class="TextSegElementComment">{7.07}</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_NCDESTROY</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7584</td>
<td class="TextItemNum AlignRight">7529</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OldProc</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7585</td>
<td class="TextItemNum AlignRight">7530</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CallPrevWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7586</td>
<td class="TextItemNum AlignRight">7531</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UninitializeACWnd</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TacMainWnd</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7587</td>
<td class="TextItemNum AlignRight">7532</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7614</td>
<td class="TextItemNum AlignRight">7558</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7615</td>
<td class="TextItemNum AlignRight">7559</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7616</td>
<td class="TextItemNum AlignRight">7560</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ReleaseDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7617</td>
<td class="TextItemNum AlignRight">7561</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RgnChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7618</td>
<td class="TextItemNum AlignRight">7562</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7619</td>
<td class="TextItemNum AlignRight">7563</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_NCPAINT</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7564</td>
<td class="TextItemSigDel"><span class="TextSegSigDiff">{$IFDEF LOGGED}</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7565</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; LogLines.Add('TacMnuWnd.acWndProc');</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7566</td>
<td class="TextItemSigDel"><span class="TextSegSigDiff">{$ENDIF}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7620</td>
<td class="TextItemNum AlignRight">7567</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">IsNT</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">inherited</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7621</td>
<td class="TextItemNum AlignRight">7568</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7622</td>
<td class="TextItemNum AlignRight">7569</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">mi</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMenuInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7623</td>
<td class="TextItemNum AlignRight">7570</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetWindowDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7571</td>
<td class="TextItemSame"><span class="TextSegElementComment">//(Win32MajorVersion &gt;= 6)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7624</td>
<td class="TextItemNum AlignRight">7572</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">6</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">WndSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">cx</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">WndSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">cy</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementComment">// If cache image is exists already</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7628</td>
<td class="TextItemNum AlignRight">7576</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBltBorder</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7629</td>
<td class="TextItemNum AlignRight">7577</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7630</td>
<td class="TextItemNum AlignRight">7578</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ReleaseDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CtrlHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7631</td>
<td class="TextItemNum AlignRight">7579</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7632</td>
<td class="TextItemNum AlignRight">7580</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7633</td>
<td class="TextItemNum AlignRight">7581</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7634</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">7635</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; else inherited;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">7582</td>
<td class="TextItemSigDel">&nbsp; e<span class="TextSegSigDiff">nd</span> <span class="TextSegSigDiff">e</span>lse inherited;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">7636</td>
<td class="TextItemNum AlignRight">7583</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7637</td>
<td class="TextItemNum AlignRight">7584</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7638</td>
<td class="TextItemNum AlignRight">7585</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TacMnuWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AHandle</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ASkinData</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ASkinManager</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Repaint</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7639</td>
<td class="TextItemNum AlignRight">7586</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">7640</td>
<td class="TextItemNum AlignRight">7587</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">7641</td>
<td class="TextItemNum AlignRight">7588</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">RgnChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">8911</td>
<td class="TextItemNum AlignRight">8858</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8912</td>
<td class="TextItemNum AlignRight">8859</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ChildWnd</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">HWND</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8913</td>
<td class="TextItemNum AlignRight">8860</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8914</td>
<td class="TextItemNum AlignRight">8861</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">pw</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacPageWnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8915</td>
<td class="TextItemNum AlignRight">8862</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">8916</td>
<td class="TextItemNum AlignRight">8863</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span> <span class="TextSegElementKeyword">is</span> <span class="TextSegElementIdentifier">TPageControl</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">8917</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; for i := 0 to TPageControl(SkinData.FOwnerControl).PageCount - 1 do <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">TPageControl</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwnerControl</span><span class="TextSegSigDiff">).</span><span class="TextSegSigDiff">Pages</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">HandleAllocated</span> <span class="TextSegSigDiff">then</span> begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">8864</td>
<td class="TextItemSigDel">&nbsp; &nbsp; for i := 0 to TPageControl(SkinData.FOwnerControl).PageCount - 1 do begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">8918</td>
<td class="TextItemNum AlignRight">8865</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">GetBoolMsg</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AC_CTRLHANDLED</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8919</td>
<td class="TextItemNum AlignRight">8866</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ServWndList</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ServWndList</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8920</td>
<td class="TextItemNum AlignRight">8867</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">pw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TacPageWnd</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_CheckBox</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8921</td>
<td class="TextItemNum AlignRight">8868</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">pw</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Page</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">8922</td>
<td class="TextItemNum AlignRight">8869</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ServWndList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Add</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">pw</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">8923</td>
<td class="TextItemNum AlignRight">8870</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sAlphaGraph.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementComment">// NOTFORHELP</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">SwapColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">SwapRedBlue</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">BlendColorRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Transparency</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPercent</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">procedure FillRect32(const Bmp : TBItmap; R : TRect; Color : TColor);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemSigDel">procedure FillRect32(const Bmp : TBItmap; <span class="TextSegSigDiff">const</span> R : TRect; Color : TColor);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">FillAlphaRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBItmap</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Value</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">byte</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">SkipFuchsia</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Copy with AlphaMask from MasterBmp (get transp. pixels from parent)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">CopyMasterRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R2</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">MaskData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsMaskData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">DrawSmallSkinRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Filling</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ci</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">MaskData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsMaskData</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">296</td>
<td class="TextItemNum AlignRight">294</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TsColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsColor_</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">297</td>
<td class="TextItemNum AlignRight">295</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TsColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsColor_</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">298</td>
<td class="TextItemNum AlignRight">296</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TsColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">G</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsColor_</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">G</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">299</td>
<td class="TextItemNum AlignRight">297</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TsColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">B</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsColor_</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">B</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">300</td>
<td class="TextItemNum AlignRight">298</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">301</td>
<td class="TextItemNum AlignRight">299</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">302</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">procedure FillRect32(const Bmp : TBItmap; R : TRect; Color : TColor);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">300</td>
<td class="TextItemSigDel">procedure FillRect32(const Bmp : TBItmap; <span class="TextSegSigDiff">const</span> R : TRect; Color : TColor);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">303</td>
<td class="TextItemNum AlignRight">301</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">304</td>
<td class="TextItemNum AlignRight">302</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Fast32</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">305</td>
<td class="TextItemNum AlignRight">303</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">S</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">PRGBAArray</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">306</td>
<td class="TextItemNum AlignRight">304</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">X</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">307</td>
<td class="TextItemNum AlignRight">305</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsColor_</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">308</td>
<td class="TextItemNum AlignRight">306</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">309</td>
<td class="TextItemNum AlignRight">307</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Fast32</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">310</td>
<td class="TextItemNum AlignRight">308</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">311</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> </td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">312</td>
<td class="TextItemNum AlignRight">309</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">313</td>
<td class="TextItemNum AlignRight">310</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">314</td>
<td class="TextItemNum AlignRight">311</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">B</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">315</td>
<td class="TextItemNum AlignRight">312</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">B</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">316</td>
<td class="TextItemNum AlignRight">313</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MaxByte</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">317</td>
<td class="TextItemNum AlignRight">314</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">S</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ScanLine</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">];</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">318</td>
<td class="TextItemNum AlignRight">315</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">X</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementIdentifier">S</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">C</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">319</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">320</td>
<td class="TextItemNum AlignRight">316</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">321</td>
<td class="TextItemNum AlignRight">317</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Fast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">322</td>
<td class="TextItemNum AlignRight">318</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SwapColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">323</td>
<td class="TextItemNum AlignRight">319</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Fast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FillRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">324</td>
<td class="TextItemNum AlignRight">320</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">325</td>
<td class="TextItemNum AlignRight">321</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Fast32</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">986</td>
<td class="TextItemNum AlignRight">982</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">987</td>
<td class="TextItemNum AlignRight">983</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">MaskBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TmpBmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">988</td>
<td class="TextItemNum AlignRight">984</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">S1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">S2</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">M</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">PRGBAArray</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">989</td>
<td class="TextItemNum AlignRight">985</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">iY</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">iX</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">990</td>
<td class="TextItemNum AlignRight">986</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsColor_</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">991</td>
<td class="TextItemNum AlignRight">987</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">992</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if (DstX1 &lt; 0) or (Dst<span class="TextSegSigDiff">Y1</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Dst</span>_Width &lt; 0) or (Dst_Height &lt; 1) or (Dst_Width &lt; 1) or (BmpDst.Height &lt; 2) or (BmpDst.Width &lt; 2) then Exit;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">988</td>
<td class="TextItemSigDel">&nbsp; if (DstX1 &lt; 0) or (Dst_Width &lt; 0) or (Dst_Height &lt; 1) or (Dst_Width &lt; 1) or (BmpDst.Height &lt; 2) or (BmpDst.Width &lt; 2) then Exit;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">993</td>
<td class="TextItemNum AlignRight">989</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">994</td>
<td class="TextItemNum AlignRight">990</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MaskOffset</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// If masked</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">995</td>
<td class="TextItemNum AlignRight">991</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BmpSrc</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">SrcX1</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Src_Width</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">996</td>
<td class="TextItemNum AlignRight">992</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BmpSrc</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">SrcY1</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Src_Height</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">997</td>
<td class="TextItemNum AlignRight">993</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">998</td>
<td class="TextItemNum AlignRight">994</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">NoStdStretch</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Src_Width</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Src_Height</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1470</td>
<td class="TextItemNum AlignRight">1449</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1471</td>
<td class="TextItemNum AlignRight">1450</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TacFast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FillRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1472</td>
<td class="TextItemNum AlignRight">1451</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1473</td>
<td class="TextItemNum AlignRight">1452</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1474</td>
<td class="TextItemNum AlignRight">1453</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">P</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">PRGBAArray</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1475</td>
<td class="TextItemNum AlignRight">1454</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1476</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1477</td>
<td class="TextItemNum AlignRight">1455</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TsColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MaxByte</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1478</td>
<td class="TextItemNum AlignRight">1456</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1479</td>
<td class="TextItemNum AlignRight">1457</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">w</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1480</td>
<td class="TextItemNum AlignRight">1458</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1481</td>
<td class="TextItemNum AlignRight">1459</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">P</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FBitmap</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Scanline</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1482</td>
<td class="TextItemNum AlignRight">1460</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FillLongword</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">P</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Cardinal</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sCheckBox.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">793</td>
<td class="TextItemNum AlignRight">793</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">DoChangePaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FadeTimer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">EventEnabled</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aeMouseUp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FAnimatEvents</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">794</td>
<td class="TextItemNum AlignRight">794</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">795</td>
<td class="TextItemNum AlignRight">795</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Invalidate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">796</td>
<td class="TextItemNum AlignRight">796</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">797</td>
<td class="TextItemNum AlignRight">797</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BM_SETCHECK</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">798</td>
<td class="TextItemNum AlignRight">798</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FadeTimer</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FadeTimer</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FadeLevel</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">FadeTimer</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Iterations</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">StopFading</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FadeTimer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">799</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Exit; v7.42</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">799</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">800</td>
<td class="TextItemNum AlignRight">800</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">801</td>
<td class="TextItemNum AlignRight">801</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_ERASEBKGND</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">802</td>
<td class="TextItemNum AlignRight">802</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">803</td>
<td class="TextItemNum AlignRight">803</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">804</td>
<td class="TextItemNum AlignRight">804</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">805</td>
<td class="TextItemNum AlignRight">805</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_PRINT</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">840</td>
<td class="TextItemNum AlignRight">840</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">WM_LBUTTONDBLCLK</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">841</td>
<td class="TextItemNum AlignRight">841</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnDblClick</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OnDblClick</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">842</td>
<td class="TextItemNum AlignRight">842</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">843</td>
<td class="TextItemNum AlignRight">843</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnMouseDown</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OnMouseDown</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mbLeft</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">KeysToShiftState</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMMouse</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Keys</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TWMMouse</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">XPos</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TWMMouse</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">YPos</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">844</td>
<td class="TextItemNum AlignRight">844</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">845</td>
<td class="TextItemNum AlignRight">845</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">846</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; WM_KEYUP : if not (csDesigning in ComponentState) and Enabled <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TWMKey</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">).</span><span class="TextSegSigDiff">CharCode</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">VK_SPACE</span><span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">846</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; WM_KEYUP : if not (csDesigning in ComponentState) and Enabled then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">847</td>
<td class="TextItemNum AlignRight">847</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ReadOnly</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">848</td>
<td class="TextItemNum AlignRight">848</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FPressed</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">849</td>
<td class="TextItemNum AlignRight">849</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FPressed</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">850</td>
<td class="TextItemNum AlignRight">850</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Toggle</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">851</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">851</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; end <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">FPressed</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">852</td>
<td class="TextItemNum AlignRight">852</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnKeyUp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OnKeyUp</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TWMKey</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CharCode</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">KeysToShiftState</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMKey</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">KeyData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">853</td>
<td class="TextItemNum AlignRight">853</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FadeTimer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FadeTimer</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Repaint after animation if size of control is changed</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">854</td>
<td class="TextItemNum AlignRight">854</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">StopFading</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FadeTimer</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">855</td>
<td class="TextItemNum AlignRight">855</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Repaint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">856</td>
<td class="TextItemNum AlignRight">856</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">857</td>
<td class="TextItemNum AlignRight">857</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sComboBox.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; AddToLog(Message);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ReadOnly</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_KEYDOWN</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_CHAR</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_KEYUP</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SYSKEYUP</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CN_KEYDOWN</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CN_CHAR</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CN_SYSKEYDOWN</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CN_SYSCHAR</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_PASTE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_CUT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_CLEAR</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_UNDO</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Exit</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemSigDel"><span class="TextSegSigDiff">{$IFDEF TNTUNICODE}</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; if not TntCombo_ComboWndProc(Self, Message, ComboWnd, ComboProc, DoEditCharMsg) then</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemSigDel"><span class="TextSegSigDiff">{$ENDIF}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">203</td>
<td class="TextItemSigDel"><span class="TextSegSigDiff">{$IFDEF TNTUNICODE}</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">204</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; if not TntCombo_ComboWndProc(Self, Message, ComboWnd, ComboProc, DoEditCharMsg) then</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">205</td>
<td class="TextItemSigDel"><span class="TextSegSigDiff">{$ENDIF}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemNum AlignRight">206</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemNum AlignRight">207</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDestroying</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemNum AlignRight">208</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_ERASEBKGND</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_NCPAINT</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">csSimple</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Focused</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FFocused</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">ReadOnly</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">203</td>
<td class="TextItemNum AlignRight">209</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">204</td>
<td class="TextItemNum AlignRight">210</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">205</td>
<td class="TextItemNum AlignRight">211</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">538</td>
<td class="TextItemNum AlignRight">557</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">539</td>
<td class="TextItemNum AlignRight">558</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">540</td>
<td class="TextItemNum AlignRight">559</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">541</td>
<td class="TextItemNum AlignRight">560</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">542</td>
<td class="TextItemNum AlignRight">561</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_COMMAND</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ReadOnly</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">543</td>
<td class="TextItemNum AlignRight">562</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FDropDown</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">544</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BGChanged</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">545</td>
<td class="TextItemNum AlignRight">563</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OurPaintHandler</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">546</td>
<td class="TextItemNum AlignRight">564</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">547</td>
<td class="TextItemNum AlignRight">565</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF TNTUNICODE}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">548</td>
<td class="TextItemNum AlignRight">566</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_CTLCOLORLISTBOX</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">lBoxHandle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemNum AlignRight">567</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">DropDownCount</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">550</td>
<td class="TextItemNum AlignRight">568</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">lBoxHandle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">614</td>
<td class="TextItemNum AlignRight">636</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">615</td>
<td class="TextItemNum AlignRight">637</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">616</td>
<td class="TextItemNum AlignRight">638</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">617</td>
<td class="TextItemNum AlignRight">639</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomComboBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CreateParams</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">Params</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCreateParams</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">618</td>
<td class="TextItemNum AlignRight">640</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">619</td>
<td class="TextItemNum AlignRight">641</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">620</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if Style in [csDropDown, csDropDownList] then Params.Style := Params.Style or CBS_OWNERDRAW<span class="TextSegSigDiff">F</span><span class="TextSegSigDiff">IX</span><span class="TextSegSigDiff">ED</span> and not CBS_OWNERDRAW<span class="TextSegSigDiff">VARIABLE</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">642</td>
<td class="TextItemSigDel">&nbsp; if Style in [csDropDown, csDropDownList] then Params.Style := Params.Style or CBS_OWNERDRAW<span class="TextSegSigDiff">VARIABLE</span> and not CBS_OWNERDRAW<span class="TextSegSigDiff">F</span><span class="TextSegSigDiff">IX</span><span class="TextSegSigDiff">ED</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">621</td>
<td class="TextItemNum AlignRight">643</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">622</td>
<td class="TextItemNum AlignRight">644</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">623</td>
<td class="TextItemNum AlignRight">645</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomComboBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CNDrawItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TWMDrawItem</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">624</td>
<td class="TextItemNum AlignRight">646</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">625</td>
<td class="TextItemNum AlignRight">647</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TOwnerDrawState</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">626</td>
<td class="TextItemNum AlignRight">648</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">657</td>
<td class="TextItemNum AlignRight">679</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">658</td>
<td class="TextItemNum AlignRight">680</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">odSelected</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">659</td>
<td class="TextItemNum AlignRight">681</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetSkinIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_Selection</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">660</td>
<td class="TextItemNum AlignRight">682</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetHighLightColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">odFocused</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">661</td>
<td class="TextItemNum AlignRight">683</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">662</td>
<td class="TextItemNum AlignRight">684</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">663</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; else PaintItem(sNdx, s_Selection, CI, True, <span class="TextSegSigDiff">1</span>{integer((odFocused in State) or (Style = csDropDown))}, Classes.Rect(0, 0, Bmp.Width, Bmp.Height), Point(0, 0), Bmp, SkinData.SkinManager)</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">685</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; else PaintItem(sNdx, s_Selection, CI, True, <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">((</span><span class="TextSegSigDiff">odFocused</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">State</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Style</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">csDropDown</span><span class="TextSegSigDiff">))</span>, Classes.Rect(0, 0, Bmp.Width, Bmp.Height), Point(0, 0), Bmp, SkinData.SkinManager)</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">664</td>
<td class="TextItemNum AlignRight">686</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">665</td>
<td class="TextItemNum AlignRight">687</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">666</td>
<td class="TextItemNum AlignRight">688</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">667</td>
<td class="TextItemNum AlignRight">689</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ready</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">668</td>
<td class="TextItemNum AlignRight">690</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">odComboBoxEdit</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetActiveEditColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">669</td>
<td class="TextItemNum AlignRight">691</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sCommonData.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">12</td>
<td class="TextItemNum AlignRight">12</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TsCommonData</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">class</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TPersistent</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">13</td>
<td class="TextItemNum AlignRight">13</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF NOTFORHELP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">14</td>
<td class="TextItemNum AlignRight">14</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">private</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">15</td>
<td class="TextItemNum AlignRight">15</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FSkinSection</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinSection</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">16</td>
<td class="TextItemNum AlignRight">16</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FCustomFont</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">17</td>
<td class="TextItemNum AlignRight">17</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FCustomColor</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">18</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">FHUEOffset</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">19</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">FSaturation</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">18</td>
<td class="TextItemNum AlignRight">20</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FUpdateCount</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">19</td>
<td class="TextItemNum AlignRight">21</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetSkinSection</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">20</td>
<td class="TextItemNum AlignRight">22</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetUpdating</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">21</td>
<td class="TextItemNum AlignRight">23</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetUpdating</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">22</td>
<td class="TextItemNum AlignRight">24</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetCustomColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">23</td>
<td class="TextItemNum AlignRight">25</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetCustomFont</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">24</td>
<td class="TextItemNum AlignRight">26</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetSkinManager</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">25</td>
<td class="TextItemNum AlignRight">27</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetSkinManager</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">26</td>
<td class="TextItemNum AlignRight">28</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetHUEOffset</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">27</td>
<td class="TextItemNum AlignRight">29</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetSaturation</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">28</td>
<td class="TextItemNum AlignRight">30</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">public</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">29</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FHUEOffset</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">30</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FSaturation</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">31</td>
<td class="TextItemNum AlignRight">31</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">GlowID</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">32</td>
<td class="TextItemNum AlignRight">32</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">33</td>
<td class="TextItemNum AlignRight">33</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FSkinManager</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">34</td>
<td class="TextItemNum AlignRight">34</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">BorderIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">35</td>
<td class="TextItemNum AlignRight">35</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">36</td>
<td class="TextItemNum AlignRight">36</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Texture</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sTerminated</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">IsCached</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; Result := {InAnimationProcess or v7.42 }(SkinData.CtrlSkinState and ACS_FAST &lt;&gt; ACS_FAST) or ControlIsActive(SkinData);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemSigDel">&nbsp; Result := <span class="TextSegSigDiff">InAnimationProcess</span> <span class="TextSegSigDiff">or</span> (SkinData.CtrlSkinState and ACS_FAST &lt;&gt; ACS_FAST) or ControlIsActive(SkinData);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">UpdateCtrlColors</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Redraw</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">505</td>
<td class="TextItemNum AlignRight">505</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">506</td>
<td class="TextItemNum AlignRight">506</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">507</td>
<td class="TextItemNum AlignRight">507</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">InitCacheBmp</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">508</td>
<td class="TextItemNum AlignRight">508</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">509</td>
<td class="TextItemNum AlignRight">509</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">with</span> <span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">510</td>
<td class="TextItemNum AlignRight">510</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">511</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FCacheBmp := Create<span class="TextSegSigDiff">Bmp32</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span>;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">512</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FCacheBmp.<span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OnChange</span> := <span class="TextSegSigDiff">n</span><span class="TextSegSigDiff">il</span>;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">511</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; FCacheBmp := <span class="TextSegSigDiff">TBitmap</span><span class="TextSegSigDiff">.</span>Create;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">512</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; FCacheBmp.<span class="TextSegSigDiff">PixelF</span><span class="TextSegSigDiff">orm</span><span class="TextSegSigDiff">at</span> := <span class="TextSegSigDiff">pf32bit</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">513</td>
<td class="TextItemNum AlignRight">513</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">514</td>
<td class="TextItemNum AlignRight">514</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HandleType</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">bmDIB</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HandleType</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bmDIB</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">515</td>
<td class="TextItemNum AlignRight">515</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">516</td>
<td class="TextItemNum AlignRight">516</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">517</td>
<td class="TextItemNum AlignRight">517</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">518</td>
<td class="TextItemNum AlignRight">518</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">689</td>
<td class="TextItemNum AlignRight">689</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">InvalidRectH</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">690</td>
<td class="TextItemNum AlignRight">690</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">InvalidRectV</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">691</td>
<td class="TextItemNum AlignRight">691</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">692</td>
<td class="TextItemNum AlignRight">692</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FSaturation</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">693</td>
<td class="TextItemNum AlignRight">693</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FHUEOffset</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">694</td>
<td class="TextItemNum AlignRight">694</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">695</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">CreateCacheBmp</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">696</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; FCacheBmp := CreateBmp32(0, 0);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">697</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OnChange</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">698</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">695</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">CreateCacheBmp</span> <span class="TextSegSigDiff">then</span> FCacheBmp := CreateBmp32(0, 0);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">699</td>
<td class="TextItemNum AlignRight">696</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF RUNIDEONLY}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">700</td>
<td class="TextItemNum AlignRight">697</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">IsIDERunning</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwnerObject</span> <span class="TextSegElementKeyword">is</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwnerObject</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">sTerminated</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">701</td>
<td class="TextItemNum AlignRight">698</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sTerminated</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">702</td>
<td class="TextItemNum AlignRight">699</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ShowWarning</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sIsRUNIDEONLYMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">703</td>
<td class="TextItemNum AlignRight">700</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">704</td>
<td class="TextItemNum AlignRight">701</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">960</td>
<td class="TextItemNum AlignRight">957</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateIndexes</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">961</td>
<td class="TextItemNum AlignRight">958</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateSkinState</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">962</td>
<td class="TextItemNum AlignRight">959</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RestrictDrawing</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">963</td>
<td class="TextItemNum AlignRight">960</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">964</td>
<td class="TextItemNum AlignRight">961</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_SETBGCHANGED</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">965</td>
<td class="TextItemNum AlignRight">962</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_SETHALFVISIBLE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">HalfVisible</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">966</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">AC_GETSKINDATA</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">967</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Longint</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">968</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">969</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">970</td>
<td class="TextItemNum AlignRight">963</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_REFRESH</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">971</td>
<td class="TextItemNum AlignRight">964</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">972</td>
<td class="TextItemNum AlignRight">965</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Updating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">973</td>
<td class="TextItemNum AlignRight">966</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateCtrlColors</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">974</td>
<td class="TextItemNum AlignRight">967</td>
<td class="TextItemSame"><span class="TextSegElementComment">{&nbsp; &nbsp; &nbsp; if Skinned and Assigned(FOwnerControl) then begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">975</td>
<td class="TextItemNum AlignRight">968</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; if (FOwnerControl is TCustomEdit) then begin</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sConst.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">public</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FHandle</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">HDC</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">PacBGInfo</span> <span class="TextSegElementOperator">=</span> ^<span class="TextSegElementIdentifier">TacBGInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; TacBGType = (btUnknown, btFill, btCache<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">btNotReady</span>); // Returned by control type of BG</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemSigDel">&nbsp; TacBGType = (btUnknown, btFill, btCache); // Returned by control type of BG</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TacBGInfo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">record</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Graphics</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// Color returned if btFill is used</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Offset</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPoint</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Offset of bg, used with Cache</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Rectangle used if PlsDraw is True</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">BgType</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacBGType</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp;&nbsp; <span class="TextSegElementComment">// btUnknown, btFill, btCache</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">441</td>
<td class="TextItemNum AlignRight">441</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">442</td>
<td class="TextItemNum AlignRight">442</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_AvailSkins</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Available skins&quot;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">443</td>
<td class="TextItemNum AlignRight">443</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_InternalSkin</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;(internal)&quot;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">444</td>
<td class="TextItemNum AlignRight">444</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">445</td>
<td class="TextItemNum AlignRight">445</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ErrorSettingCount</span>&nbsp; &nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Error setting %s.Count&quot;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">446</td>
<td class="TextItemNum AlignRight">446</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ListBoxMustBeVirtual</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Listbox (%s) style must be virtual in order to set Count&quot;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">447</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">acs_InvalidDate</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">acString</span><span class="TextSegSigDiff">;</span> // &quot;Invalid date&quot;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">448</td>
<td class="TextItemNum AlignRight">447</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">449</td>
<td class="TextItemNum AlignRight">448</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgAdd</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Add to custom colors set&quot;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">450</td>
<td class="TextItemNum AlignRight">449</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgDefine</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Define colors&quot;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">451</td>
<td class="TextItemNum AlignRight">450</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgMainPal</span>&nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Main palette :&quot;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">452</td>
<td class="TextItemNum AlignRight">451</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgAddPal</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Additional colors :&quot;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">453</td>
<td class="TextItemNum AlignRight">452</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgTitle</span>&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">acString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// &quot;Color&quot;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">541</td>
<td class="TextItemNum AlignRight">540</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">542</td>
<td class="TextItemNum AlignRight">541</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_AvailSkins</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_AvailSkins</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">543</td>
<td class="TextItemNum AlignRight">542</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_InternalSkin</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_InternalSkin</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">544</td>
<td class="TextItemNum AlignRight">543</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">545</td>
<td class="TextItemNum AlignRight">544</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ErrorSettingCount</span>&nbsp; &nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_ErrorSettingCount</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">546</td>
<td class="TextItemNum AlignRight">545</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ListBoxMustBeVirtual</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_ListBoxMustBeVirtual</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">547</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">acs_InvalidDate</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">s_InvalidDate</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">548</td>
<td class="TextItemNum AlignRight">546</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemNum AlignRight">547</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// Color dialog</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">550</td>
<td class="TextItemNum AlignRight">548</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgAdd</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_ColorDlgAdd</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">551</td>
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgDefine</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_ColorDlgDefine</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">552</td>
<td class="TextItemNum AlignRight">550</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgMainPal</span>&nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_ColorDlgMainPal</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">553</td>
<td class="TextItemNum AlignRight">551</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">acs_ColorDlgAddPal</span>&nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">LoadStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_ColorDlgAddPal</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sEdit.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; else begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if not FCommonData.CustomColor and (Color &lt;&gt; FCommonData.SkinManager.gd[FCommonData.SkinIndex].Color) then Color := FCommonData.SkinManager.gd[FCommonData.SkinIndex].Color;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if not FCommonData.CustomFont and (Font.Color &lt;&gt; FCommonData.SkinManager.gd[FCommonData.SkinIndex].FontColor[1]) then Font.Color := FCommonData.SkinManager.gd[FCommonData.SkinIndex].FontColor[1];</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; end;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemSame"><span class="TextSegElementComment">}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">ControlIsActive</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">inherited</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; else OurPaintHandler(TWMPaint(Message).DC);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemSigDel">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">inherited</span> else OurPaintHandler(TWMPaint(Message).DC);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemNum AlignRight">252</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_PRINT</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Updating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TWMPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PrepareCache</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sFrameAdapter.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_UPDATING</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Updating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParamLo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">Frame</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ControlCount</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementIdentifier">Frame</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Controls</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_ENDPARENTUPDATE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if FCommonData.FUpdating <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">IsCached</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">)</span> {$IFDEF D2006} and not (csRecreating in Frame.ControlState) and not (csAligning in Frame.ControlState) {$ENDIF} then begin</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCommonData.<span class="TextSegSigDiff">F</span>Updating := False;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; if FCommonData.FUpdating {$IFDEF D2006} and not (csRecreating in Frame.ControlState) and not (csAligning in Frame.ControlState) {$ENDIF} then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FCommonData.Updating := False;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Frame</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_ALLCHILDREN</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_GETCONTROLCOLOR</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sFrameBar.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">uses</span> <span class="TextSegElementIdentifier">sMessages</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sSkinProps</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sVCLUtils</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sFrameAdapter</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sLabel</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">stdctrls</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">acntUtils</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">acSBUtils</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TsTitles }</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DontAnim</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">bCanChange</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">172</td>
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">173</td>
<td class="TextItemNum AlignRight">172</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TsTitles</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsFrameBar</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">174</td>
<td class="TextItemNum AlignRight">173</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">175</td>
<td class="TextItemNum AlignRight">174</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span> <span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsTitleItem</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">176</td>
<td class="TextItemNum AlignRight">175</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FOwner</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">177</td>
<td class="TextItemNum AlignRight">176</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">DontAnim</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FAnimation</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Visible</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Steps</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">StepsCount</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Steps</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">cRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CalcClientRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Arranging</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AutoHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">bCanChange</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">ShowHintStored</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">227</td>
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AppShowHint</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ShowHint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">228</td>
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ShowHint</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">229</td>
<td class="TextItemNum AlignRight">227</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ShowHintStored</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">230</td>
<td class="TextItemNum AlignRight">228</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">231</td>
<td class="TextItemNum AlignRight">229</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FadingForbidden</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_ALLCHILDREN</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetParentUpdated</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">acMagnForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">acMagnForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SM_ALPHACMD</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">MakeWParam</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AC_REFRESH</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; if Steps &gt; 0 then Application.ProcessMessages;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">bCanChange</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FadingForbidden</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sHeight</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BorderWidth</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">bsSingle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">347</td>
<td class="TextItemNum AlignRight">347</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">VertScrollBar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Range</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">sHeight</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">VertScrollBar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Range</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sHeight</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">348</td>
<td class="TextItemNum AlignRight">348</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Arranging</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">349</td>
<td class="TextItemNum AlignRight">349</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">UpdateWidths</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">350</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Showing</span> <span class="TextSegSigDiff">then</span> RedrawWindow(Handle, nil, 0, RDW_ALLCHILDREN or RDW_INVALIDATE or RDW_ERASE or RDW_FRAME);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">350</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Showing</span> <span class="TextSegSigDiff">then</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">351</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; RedrawWindow(Handle, nil, 0, RDW_ALLCHILDREN or RDW_INVALIDATE or RDW_ERASE or RDW_FRAME);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">351</td>
<td class="TextItemNum AlignRight">352</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">acMagnForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">acMagnForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SM_ALPHACMD</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">MakeWParam</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AC_REFRESH</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">352</td>
<td class="TextItemNum AlignRight">353</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">MouseForbidden</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">353</td>
<td class="TextItemNum AlignRight">354</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ShowHint</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AppShowHint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">354</td>
<td class="TextItemNum AlignRight">355</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ShowHintStored</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">355</td>
<td class="TextItemNum AlignRight">356</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">356</td>
<td class="TextItemNum AlignRight">357</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">563</td>
<td class="TextItemNum AlignRight">564</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">564</td>
<td class="TextItemNum AlignRight">565</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">565</td>
<td class="TextItemNum AlignRight">566</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">566</td>
<td class="TextItemNum AlignRight">567</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsFrameBar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateFrame</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">567</td>
<td class="TextItemNum AlignRight">568</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">568</td>
<td class="TextItemNum AlignRight">569</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">rgn</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hrgn</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">570</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">569</td>
<td class="TextItemNum AlignRight">571</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">570</td>
<td class="TextItemNum AlignRight">572</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">571</td>
<td class="TextItemNum AlignRight">573</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">572</td>
<td class="TextItemNum AlignRight">574</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Frame</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">573</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">574</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if Assigned(FOnChanging) then begin</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">575</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; b := True;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">576</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; FOnChanging(Self, Items[i], b);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">577</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if not b then Exit;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">578</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; end;}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">575</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FOnChanging</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">576</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">577</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FOnChanging</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Items</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">],</span> <span class="TextSegSigDiff">b</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">578</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">579</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">579</td>
<td class="TextItemNum AlignRight">580</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnCreateFrame</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">580</td>
<td class="TextItemNum AlignRight">581</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnCreateFrame</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Frame</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">581</td>
<td class="TextItemNum AlignRight">582</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Frame</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateDefaultFrame</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">582</td>
<td class="TextItemNum AlignRight">583</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Frame</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">583</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if <span class="TextSegSigDiff">bCanChange</span> <span class="TextSegSigDiff">and</span> Assigned(FOnChange) then FOnChange(Self, Items[i]);</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">584</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">bCanChange</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">584</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; if Assigned(FOnChange) then FOnChange(Self, Items[i]);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">585</td>
<td class="TextItemNum AlignRight">585</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">586</td>
<td class="TextItemNum AlignRight">586</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">587</td>
<td class="TextItemNum AlignRight">587</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Frame</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">588</td>
<td class="TextItemNum AlignRight">588</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FrameSize</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FrameSize</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Frame</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">589</td>
<td class="TextItemNum AlignRight">589</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">590</td>
<td class="TextItemNum AlignRight">590</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FrameSize</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// if frame has not been created</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">792</td>
<td class="TextItemNum AlignRight">792</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">793</td>
<td class="TextItemNum AlignRight">793</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">794</td>
<td class="TextItemNum AlignRight">794</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">795</td>
<td class="TextItemNum AlignRight">795</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsTitleItem</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TitleButtonClick</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">796</td>
<td class="TextItemNum AlignRight">796</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">797</td>
<td class="TextItemNum AlignRight">797</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">798</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">799</td>
<td class="TextItemNum AlignRight">798</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">800</td>
<td class="TextItemNum AlignRight">799</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">801</td>
<td class="TextItemNum AlignRight">800</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TitleButton</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOnClick</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOnClick</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TitleButton</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">802</td>
<td class="TextItemNum AlignRight">801</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">803</td>
<td class="TextItemNum AlignRight">802</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">stClosed</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">804</td>
<td class="TextItemNum AlignRight">803</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">stOpening</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">805</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOnChanging</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">806</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">807</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOnChanging</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">b</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">808</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">809</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">State</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">stClosed</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">810</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">811</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">812</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">813</td>
<td class="TextItemNum AlignRight">804</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AllowAllOpen</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">814</td>
<td class="TextItemNum AlignRight">805</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">stOpened</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">stClosing</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">815</td>
<td class="TextItemNum AlignRight">806</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">816</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">stOpened</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">817</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOnChanging</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">818</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">819</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOnChanging</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FOwner</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">b</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">820</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">b</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">821</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">822</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">823</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">824</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if FOwner.FOwner.AllowAllClose then FOwner[Index].State := stClosing;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">825</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">807</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">stOpened</span> <span class="TextSegSigDiff">:</span> if FOwner.FOwner.AllowAllClose then FOwner[Index].State := stClosing;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">826</td>
<td class="TextItemNum AlignRight">808</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">827</td>
<td class="TextItemNum AlignRight">809</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ArrangeTitles</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">828</td>
<td class="TextItemNum AlignRight">810</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">829</td>
<td class="TextItemNum AlignRight">811</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">830</td>
<td class="TextItemNum AlignRight">812</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TsTitleButton }</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">831</td>
<td class="TextItemNum AlignRight">813</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsTitleButton</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CurrentState</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sGraphUtils.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Copying rectangle from SrcBmp to DstBmp, excluding pixels with color TransColor (get trans pixels from parent)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">CopyTransRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DstBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SrcBmp</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Graphics</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TBitMap</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Y</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">SrcRect</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">TransColor</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">UpdateTrans</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Skip transarent part</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">CopyTransRectA</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DstBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SrcBmp</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Graphics</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TBitMap</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Y</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">SrcRect</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">TransColor</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemSame"><span class="TextSegElementComment">// Creates bitmap like Bmp</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">CreateBmpLike</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">128</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">function</span> <span class="TextSegSigDiff">CreateAlphaBmp</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SrcMaskedBmp</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TBitmap</span><span class="TextSegSigDiff">;</span> <span class="TextSegSigDiff">SrcRect</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TRect</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TBitmap</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">129</td>
<td class="TextItemNum AlignRight">128</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">CreateBmp24</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementCompiler_32Directive">{$IFDEF WARN_DEPRECATED}</span> <span class="TextSegElementKeyword">deprecated</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementComment">// Only pf32bit images are used in the v7</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">130</td>
<td class="TextItemNum AlignRight">129</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">131</td>
<td class="TextItemNum AlignRight">130</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">WriteTextOnDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">PChar</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Enabled</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Flags</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Cardinal</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">132</td>
<td class="TextItemNum AlignRight">131</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">acDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">hDC</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">HDC</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">ACString</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">lpRect</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">uFormat</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Cardinal</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">133</td>
<td class="TextItemNum AlignRight">132</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">acTextWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCanvas</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">ACString</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">134</td>
<td class="TextItemNum AlignRight">133</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">acTextHeight</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCanvas</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">ACString</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2157</td>
<td class="TextItemNum AlignRight">2156</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2158</td>
<td class="TextItemNum AlignRight">2157</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2159</td>
<td class="TextItemNum AlignRight">2158</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2160</td>
<td class="TextItemNum AlignRight">2159</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementString">''</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2161</td>
<td class="TextItemNum AlignRight">2160</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">nLength</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">StrLen</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2162</td>
<td class="TextItemNum AlignRight">2161</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2163</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if Hot and (SkinData.SkinIndex <span class="TextSegSigDiff">&gt;=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span> = SkinData.SkinManager.ConstData.IndexWebBtn) then Canvas.Font.Style := Canvas.Font.Style + [fsUnderline];</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2162</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if Hot and (SkinData.SkinIndex = SkinData.SkinManager.ConstData.IndexWebBtn) then Canvas.Font.Style := Canvas.Font.Style + [fsUnderline];</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2164</td>
<td class="TextItemNum AlignRight">2163</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SaveDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2165</td>
<td class="TextItemNum AlignRight">2164</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2166</td>
<td class="TextItemNum AlignRight">2165</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">IntersectClipRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2167</td>
<td class="TextItemNum AlignRight">2166</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bsClear</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2168</td>
<td class="TextItemNum AlignRight">2167</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2169</td>
<td class="TextItemNum AlignRight">2168</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Hot</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2264</td>
<td class="TextItemNum AlignRight">2263</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2265</td>
<td class="TextItemNum AlignRight">2264</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2266</td>
<td class="TextItemNum AlignRight">2265</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2267</td>
<td class="TextItemNum AlignRight">2266</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementString">''</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2268</td>
<td class="TextItemNum AlignRight">2267</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">nLength</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Length</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2269</td>
<td class="TextItemNum AlignRight">2268</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2270</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if Hot and (SkinData.SkinIndex <span class="TextSegSigDiff">&gt;=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span> = SkinData.SkinManager.ConstData.IndexWebBtn) then Canvas.Font.Style := Canvas.Font.Style + [fsUnderline];</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2269</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if Hot and (SkinData.SkinIndex = SkinData.SkinManager.ConstData.IndexWebBtn) then Canvas.Font.Style := Canvas.Font.Style + [fsUnderline];</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2271</td>
<td class="TextItemNum AlignRight">2270</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SaveDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2272</td>
<td class="TextItemNum AlignRight">2271</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2273</td>
<td class="TextItemNum AlignRight">2272</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">IntersectClipRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2274</td>
<td class="TextItemNum AlignRight">2273</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2275</td>
<td class="TextItemNum AlignRight">2274</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Hot</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2276</td>
<td class="TextItemNum AlignRight">2275</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">COC</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">COC_TsGroupBox</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">COC_TsCheckBox</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">COC_TsRadioButton</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FOwnerControl</span> <span class="TextSegElementKeyword">is</span> <span class="TextSegElementIdentifier">TGraphicControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2358</td>
<td class="TextItemNum AlignRight">2357</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">nLength</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemNum AlignRight">2358</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">nLength</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Length</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2362</td>
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2363</td>
<td class="TextItemNum AlignRight">2362</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2364</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if Hot and (SkinData.SkinIndex <span class="TextSegSigDiff">&gt;=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span> = SkinData.SkinManager.ConstData.IndexWebBtn) then Canvas.Font.Style := Canvas.Font.Style + [fsUnderline];</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2363</td>
<td class="TextItemSigDel">&nbsp; if Hot and (SkinData.SkinIndex = SkinData.SkinManager.ConstData.IndexWebBtn) then Canvas.Font.Style := Canvas.Font.Style + [fsUnderline];</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2365</td>
<td class="TextItemNum AlignRight">2364</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Hot</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2366</td>
<td class="TextItemNum AlignRight">2365</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2367</td>
<td class="TextItemNum AlignRight">2366</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SaveDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2368</td>
<td class="TextItemNum AlignRight">2367</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2369</td>
<td class="TextItemNum AlignRight">2368</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">IntersectClipRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2370</td>
<td class="TextItemNum AlignRight">2369</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3741</td>
<td class="TextItemNum AlignRight">3740</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3742</td>
<td class="TextItemNum AlignRight">3741</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3743</td>
<td class="TextItemNum AlignRight">3742</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3744</td>
<td class="TextItemNum AlignRight">3743</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PixelFormat</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PixelFormat</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3745</td>
<td class="TextItemNum AlignRight">3744</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3746</td>
<td class="TextItemNum AlignRight">3745</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3747</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">function</span> <span class="TextSegSigDiff">CreateAlphaBmp</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SrcMaskedBmp</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TBitmap</span><span class="TextSegSigDiff">;</span> <span class="TextSegSigDiff">SrcRect</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TRect</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TBitmap</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3748</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3749</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">w</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">h</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Y</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">X</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3750</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">S</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">D</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">PRGBAArray</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3751</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3752</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">w</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">WidthOf</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SrcRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3753</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">h</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">HeightOf</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SrcRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">div</span> <span class="TextSegSigDiff">2</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3754</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">w</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">h</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3755</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">CreateBmp32</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">w</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">h</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3756</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3757</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">BitBlt</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">w</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">h</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SrcMaskedBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SrcRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SrcRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SRCCOPY</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3758</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3759</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">Y</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">h</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span> <span class="TextSegSigDiff">do</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3760</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">S</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">SrcMaskedBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ScanLine</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SrcRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">Y</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">h</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3761</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">D</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ScanLine</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">Y</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3762</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">X</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">w</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span> <span class="TextSegSigDiff">do</span> <span class="TextSegSigDiff">D</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">X</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">A</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">MaxByte</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">S</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SrcRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">X</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3763</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3764</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3765</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3766</td>
<td class="TextItemNum AlignRight">3746</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">CreateBmp24</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3767</td>
<td class="TextItemNum AlignRight">3747</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3768</td>
<td class="TextItemNum AlignRight">3748</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3769</td>
<td class="TextItemNum AlignRight">3749</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PixelFormat</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">pf32bit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3770</td>
<td class="TextItemNum AlignRight">3750</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HandleType</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bmDIB</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sHintManager.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">326</td>
<td class="TextItemNum AlignRight">326</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">327</td>
<td class="TextItemNum AlignRight">327</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FHTMLMode</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FPauseHide</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">5000</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FDefaultMousePos</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">mpLeftTop</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FHintPos</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; Application.HintPause := <span class="TextSegSigDiff">3</span>00;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemSigDel">&nbsp; Application.HintPause := <span class="TextSegSigDiff">5</span>00;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HintShortPause</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">200</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FPreDefinitions</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">shEllipse</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FAnimated</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FUseSkinData</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">793</td>
<td class="TextItemNum AlignRight">793</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AlphaBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">794</td>
<td class="TextItemNum AlignRight">794</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AlphaBmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">795</td>
<td class="TextItemNum AlignRight">795</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FBmpSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">cx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">796</td>
<td class="TextItemNum AlignRight">796</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FBmpSize</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">cy</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">797</td>
<td class="TextItemNum AlignRight">797</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FBmpTopLeft</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">798</td>
<td class="TextItemNum AlignRight">798</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">799</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">FastDst</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacFast32</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">800</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">FastShadow</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacFast32</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">801</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">FastMask</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacFast32</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">802</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">FastBody</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacFast32</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">803</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">799</td>
<td class="TextItemNum AlignRight">804</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">PrepareMask</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">800</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BodyBmp</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> FreeAndNil(BodyBmp);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">805</td>
<td class="TextItemSigDel">&nbsp; &nbsp; FreeAndNil(BodyBmp);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">801</td>
<td class="TextItemNum AlignRight">806</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">BodyBmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetBody</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">802</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">803</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">AlphaBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">PixelFormat</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">pf32bit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">804</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">805</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">IsValidSkinIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">100</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Used BorderMask</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">806</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">AlphaBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Assign</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BodyBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">807</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">808</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">809</td>
<td class="TextItemNum AlignRight">807</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">w</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">h</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">clWhite</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">810</td>
<td class="TextItemNum AlignRight">808</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintShadow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">811</td>
<td class="TextItemNum AlignRight">809</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">812</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">F</span><span class="TextSegSigDiff">astDst</span> := <span class="TextSegSigDiff">TacFast</span>32<span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span>;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">813</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FastShadow</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacFast32</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">814</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FastMask</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacFast32</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">815</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FastBody</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">TacFast32</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Create</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">810</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">AlphaBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">PixelForma</span><span class="TextSegSigDiff">t</span> := <span class="TextSegSigDiff">p</span><span class="TextSegSigDiff">f</span>32<span class="TextSegSigDiff">bi</span><span class="TextSegSigDiff">t</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">816</td>
<td class="TextItemNum AlignRight">811</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FastDst</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AlphaBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FastShadow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FastMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MaskBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FastBody</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attach</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BodyBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">817</td>
<td class="TextItemNum AlignRight">812</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">y</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">x</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">w</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">818</td>
<td class="TextItemNum AlignRight">813</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FastMask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pixels</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">].</span><span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">MaxByte</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">819</td>
<td class="TextItemNum AlignRight">814</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">c</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">I</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">820</td>
<td class="TextItemNum AlignRight">815</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">c</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">A</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MaxByte</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">FastShadow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pixels</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">].</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">821</td>
<td class="TextItemNum AlignRight">816</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">827</td>
<td class="TextItemNum AlignRight">822</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">828</td>
<td class="TextItemNum AlignRight">823</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">829</td>
<td class="TextItemNum AlignRight">824</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastDst</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">830</td>
<td class="TextItemNum AlignRight">825</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastMask</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">831</td>
<td class="TextItemNum AlignRight">826</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastShadow</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">832</td>
<td class="TextItemNum AlignRight">827</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndnil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FastBody</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">833</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">834</td>
<td class="TextItemNum AlignRight">828</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BodyBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BodyBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">835</td>
<td class="TextItemNum AlignRight">829</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">836</td>
<td class="TextItemNum AlignRight">830</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">837</td>
<td class="TextItemNum AlignRight">831</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HintKind</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">hsNone</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementComment">{or not HandleAllocated }</span><span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">838</td>
<td class="TextItemNum AlignRight">832</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Shown</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">IsWindowVisible</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">839</td>
<td class="TextItemNum AlignRight">833</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">840</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if Manager.Skinned and acLayered <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">((</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">100</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">))</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">834</td>
<td class="TextItemSigDel">&nbsp; if Manager.Skinned and acLayered</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">841</td>
<td class="TextItemNum AlignRight">835</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">NCS_DROPSHADOW</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">842</td>
<td class="TextItemNum AlignRight">836</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">SetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetClassLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GCL_STYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">NCS_DROPSHADOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">843</td>
<td class="TextItemNum AlignRight">837</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">844</td>
<td class="TextItemNum AlignRight">838</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Caption</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AHint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">845</td>
<td class="TextItemNum AlignRight">839</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHintLocation</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">X</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHintLocation</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Y</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">p</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetMousePosition</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">p</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FHintLocation</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">846</td>
<td class="TextItemNum AlignRight">840</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">w</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">895</td>
<td class="TextItemNum AlignRight">889</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">896</td>
<td class="TextItemNum AlignRight">890</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">WS_EX_LAYERED</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">897</td>
<td class="TextItemNum AlignRight">891</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateLayeredWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">@</span><span class="TextSegElementIdentifier">FBmpSize</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AlphaBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">@</span><span class="TextSegElementIdentifier">FBmpTopLeft</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">clNone</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">@</span><span class="TextSegElementIdentifier">FBlend</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ULW_ALPHA</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">898</td>
<td class="TextItemNum AlignRight">892</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Show window with hint</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">899</td>
<td class="TextItemNum AlignRight">893</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Animated</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">IsNTFamily</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Shown</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">900</td>
<td class="TextItemNum AlignRight">894</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">901</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; if Manager.Skinned then i := DefaultManager.gd[SkinIndex].Transparency else</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">895</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Manager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Skinned</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">i</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">else</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">902</td>
<td class="TextItemNum AlignRight">896</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">903</td>
<td class="TextItemNum AlignRight">897</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HintKind</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Transparency</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">904</td>
<td class="TextItemNum AlignRight">898</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">100</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">905</td>
<td class="TextItemNum AlignRight">899</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDestroying</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">906</td>
<td class="TextItemNum AlignRight">900</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">StepCount</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DefAnimationTime</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementIdentifier">DelayValue</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">907</td>
<td class="TextItemNum AlignRight">901</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">StepB</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Round</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">100</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">2.55</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">/</span> <span class="TextSegElementIdentifier">StepCount</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemNum AlignRight">1263</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemNum AlignRight">1264</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsCustomHintWindow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetBody</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemNum AlignRight">1265</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemNum AlignRight">1266</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemNum AlignRight">1267</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemNum AlignRight">1268</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SBmp</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TBitmap</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ready</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1280</td>
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmpLike</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Manager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1281</td>
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">HintFrame</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BodyBmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1282</td>
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ClientRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1283</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1284</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">100</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Used BorderMask</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1285</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bmp</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">SBmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">MasterBitmap</span> <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">SBmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1286</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ABmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">sGraphUtils</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">CreateAlphaBmp</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1287</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintControlByTemplate</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1288</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1289</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WL</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WT</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WR</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WB</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1290</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WL</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WT</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WR</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WB</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1291</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span> // For internal shadows - stretch only allowed</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1292</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ABmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Free</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1293</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">TextOut</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1294</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FillAlphaRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WL</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WT</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WR</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WB</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MaxByte</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1295</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1296</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1297</td>
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ScreenBmp</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1298</td>
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MakeCacheInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ScreenBmp</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1299</td>
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintItemFast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">''</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1300</td>
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1301</td>
<td class="TextItemNum AlignRight">1280</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">PaintItemFast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">''</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1281</td>
<td class="TextItemSame"><span class="TextSegElementComment">{&nbsp; if HintFrame &lt;&gt; nil then begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1282</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; //</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1283</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1284</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; else}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1302</td>
<td class="TextItemNum AlignRight">1285</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">TextOut</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1303</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1304</td>
<td class="TextItemNum AlignRight">1286</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1305</td>
<td class="TextItemNum AlignRight">1287</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1306</td>
<td class="TextItemNum AlignRight">1288</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1307</td>
<td class="TextItemNum AlignRight">1289</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomHintWindow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PaintShadow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1308</td>
<td class="TextItemNum AlignRight">1290</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1309</td>
<td class="TextItemNum AlignRight">1291</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemNum AlignRight">1313</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemNum AlignRight">1314</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemNum AlignRight">1315</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsCustomHintWindow</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinMargin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Border</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">byte</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemNum AlignRight">1316</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemNum AlignRight">1317</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ACHINTS}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemNum AlignRight">1318</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BorderIndex</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">{&nbsp; &nbsp; if DefaultManager.ma[BorderIndex].BorderWidth &gt; 0 then begin</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; Result := DefaultManager.ma[BorderIndex].BorderWidth;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; end</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1319</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">BorderWidth</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1320</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">DefaultManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">BorderWidth</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1321</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1341</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; case Border of</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1322</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> case Border of</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemNum AlignRight">1323</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementNumber">0</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1343</td>
<td class="TextItemNum AlignRight">1324</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WL</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1344</td>
<td class="TextItemNum AlignRight">1325</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WL</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1345</td>
<td class="TextItemNum AlignRight">1326</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DefaultManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageCount</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1346</td>
<td class="TextItemNum AlignRight">1327</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1347</td>
<td class="TextItemNum AlignRight">1328</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementNumber">1</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sListBox.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DoubleBuffered</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomListBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CreateParams</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">Params</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCreateParams</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Style</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">lbStandard</span> then Params.Style := Params.Style or LBS_OWNERDRAWFIXED and not LBS_OWNERDRAWVARIABLE;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Style</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">lbStandard</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemSigDel">&nbsp; &nbsp; then Params.Style := Params.Style or LBS_OWNERDRAWFIXED and not LBS_OWNERDRAWVARIABLE;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemNum AlignRight">89</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FAutoHideScroll</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Params</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Params</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">LBS_DISABLENOSCROLL</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">89</td>
<td class="TextItemNum AlignRight">90</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">90</td>
<td class="TextItemNum AlignRight">91</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">91</td>
<td class="TextItemNum AlignRight">92</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomListBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CreateWnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">92</td>
<td class="TextItemNum AlignRight">93</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">93</td>
<td class="TextItemNum AlignRight">94</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">354</td>
<td class="TextItemNum AlignRight">355</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">355</td>
<td class="TextItemNum AlignRight">356</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">356</td>
<td class="TextItemNum AlignRight">357</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">357</td>
<td class="TextItemNum AlignRight">358</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">358</td>
<td class="TextItemNum AlignRight">359</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">359</td>
<td class="TextItemNum AlignRight">360</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// Aligning of the bound label</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">360</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">case</span> <span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Msg</span> <span class="TextSegSigDiff">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">361</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">WM_SIZE</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">WM_WINDOWPOSCHANGED</span> <span class="TextSegSigDiff">:</span> if Assigned(BoundLabel) and Assigned(BoundLabel.FtheLabel) then <span class="TextSegSigDiff">BoundLab</span><span class="TextSegSigDiff">el</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AlignLabel</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">362</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; CM_VISIBLECHANGED : <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BoundLabel</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BoundLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FtheLabel</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> begin BoundLabel.FtheLabel.Visible := Visible; BoundLabel.AlignLabel end;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">363</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; CM_ENABLEDCHANGED : <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BoundLabel</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BoundLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FtheLabel</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> begin BoundLabel.FtheLabel.Enabled := Enabled or not (dkBlended in DisabledKind); BoundLabel.AlignLabel end;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">364</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; CM_BIDIMODECHANGED : <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BoundLabel</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BoundLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FtheLabel</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> begin BoundLabel.FtheLabel.BiDiMode := BiDiMode; BoundLabel.AlignLabel end;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">365</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">CM_FONTCHANGED</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Style</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">lbStandard</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csLoading</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csFreeNotification</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">HandleAllocated</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">366</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Assign</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">367</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ItemHeight</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">TextHeight</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">'A'</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">368</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">361</td>
<td class="TextItemSigDel">&nbsp; if Assigned(BoundLabel) and Assigned(BoundLabel.FtheLabel) then <span class="TextSegSigDiff">c</span><span class="TextSegSigDiff">ase</span> <span class="TextSegSigDiff">Messa</span><span class="TextSegSigDiff">g</span><span class="TextSegSigDiff">e</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Msg</span> <span class="TextSegSigDiff">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">362</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">WM_SIZE</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">WM_WINDOWPOSCHANGED</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">begin</span> <span class="TextSegSigDiff">BoundLabel</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AlignLabel</span> <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">363</td>
<td class="TextItemSigDel">&nbsp; &nbsp; CM_VISIBLECHANGED : begin BoundLabel.FtheLabel.Visible := Visible; BoundLabel.AlignLabel end;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">364</td>
<td class="TextItemSigDel">&nbsp; &nbsp; CM_ENABLEDCHANGED : begin BoundLabel.FtheLabel.Enabled := Enabled or not (dkBlended in DisabledKind); BoundLabel.AlignLabel end;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">365</td>
<td class="TextItemSigDel">&nbsp; &nbsp; CM_BIDIMODECHANGED : begin BoundLabel.FtheLabel.BiDiMode := BiDiMode; BoundLabel.AlignLabel end;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">369</td>
<td class="TextItemNum AlignRight">366</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">370</td>
<td class="TextItemNum AlignRight">367</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">371</td>
<td class="TextItemNum AlignRight">368</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">372</td>
<td class="TextItemNum AlignRight">369</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF DELPHI6UP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">373</td>
<td class="TextItemNum AlignRight">370</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsCustomListBox</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">374</td>
<td class="TextItemNum AlignRight">371</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">375</td>
<td class="TextItemNum AlignRight">372</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">376</td>
<td class="TextItemNum AlignRight">373</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">377</td>
<td class="TextItemNum AlignRight">374</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">378</td>
<td class="TextItemNum AlignRight">375</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">379</td>
<td class="TextItemNum AlignRight">376</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">.</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">380</td>
<td class="TextItemNum AlignRight">377</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sListView.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemNum AlignRight">42</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">PrepareCache</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemNum AlignRight">43</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetHeaderColumnRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemNum AlignRight">44</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">ColumnSkinPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ControlRect</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">cIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemNum AlignRight">45</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">PaintHeader</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemNum AlignRight">46</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">ColumnLeft</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Index</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemNum AlignRight">47</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">protected</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemNum AlignRight">48</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ListSW</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacScrollWnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemNum AlignRight">49</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Varibles initialized after skin changing</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemNum AlignRight">50</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">GridColor</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemNum AlignRight">51</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">iSelectIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">StyleChanging</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF D2006}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FOnMouseLeave</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TNotifyEvent</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FOnMouseEnter</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TNotifyEvent</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">58</td>
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">WndProc</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">InitSkinParams</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemNum AlignRight">60</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">AllColWidth</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">63</td>
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">FullRepaint</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">64</td>
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">BorderStyle</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">65</td>
<td class="TextItemNum AlignRight">63</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">InvalidateSmooth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Always</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">66</td>
<td class="TextItemNum AlignRight">64</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetImageList</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomImageList</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">virtual</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">67</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">SetViewStyle</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TViewStyle</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span> <span class="TextSegSigDiff">{$IFDEF DELPHI7UP}</span><span class="TextSegSigDiff">override</span><span class="TextSegSigDiff">;</span><span class="TextSegSigDiff">{$ENDIF}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">68</td>
<td class="TextItemNum AlignRight">65</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">public</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">69</td>
<td class="TextItemNum AlignRight">66</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ListLineHeight</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">70</td>
<td class="TextItemNum AlignRight">67</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">71</td>
<td class="TextItemNum AlignRight">68</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">InitControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">virtual</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">72</td>
<td class="TextItemNum AlignRight">69</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">destructor</span> <span class="TextSegElementIdentifier">Destroy</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">73</td>
<td class="TextItemNum AlignRight">70</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">211</td>
<td class="TextItemNum AlignRight">208</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FNoRedraw</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">212</td>
<td class="TextItemNum AlignRight">209</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemNum AlignRight">210</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementComment">// NOTFORHELP</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemNum AlignRight">211</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemNum AlignRight">212</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">implementation</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">uses sStyleSimply, acntUtils, sVclUtils, sMaskData, sGraphUtils, sSkinProps, sAlphaGraph, sSkinManager, math<span class="TextSegSigDiff">{$IFDEF DELPHI7UP}</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Themes</span><span class="TextSegSigDiff">{$ENDIF}</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemSigDel">uses sStyleSimply, acntUtils, sVclUtils, sMaskData, sGraphUtils, sSkinProps, sAlphaGraph, sSkinManager, math;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">LocalMsg</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">LocalFlag</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TsCustomListView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemNum AlignRight">222</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FhWndHeader</span>&nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemNum AlignRight">223</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FhDefHeaderProc</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">227</td>
<td class="TextItemNum AlignRight">224</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FPressedColumn</span>&nbsp; <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">228</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">229</td>
<td class="TextItemNum AlignRight">225</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Loading</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">230</td>
<td class="TextItemNum AlignRight">226</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">231</td>
<td class="TextItemNum AlignRight">227</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span> <span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">232</td>
<td class="TextItemNum AlignRight">228</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">233</td>
<td class="TextItemNum AlignRight">229</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">COC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">COC_TsListView</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">234</td>
<td class="TextItemNum AlignRight">230</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">235</td>
<td class="TextItemNum AlignRight">231</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FBoundLabel</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsBoundLabel</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">236</td>
<td class="TextItemNum AlignRight">232</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ListLineHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Size</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">237</td>
<td class="TextItemNum AlignRight">233</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FHighlightHeaders</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">238</td>
<td class="TextItemNum AlignRight">234</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">HoverColIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">239</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">StyleChanging</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">240</td>
<td class="TextItemNum AlignRight">235</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FOldAdvancedCustomDraw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">241</td>
<td class="TextItemNum AlignRight">236</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FOldAdvancedCustomDrawItem</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">242</td>
<td class="TextItemNum AlignRight">237</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemNum AlignRight">238</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FhHeaderProc</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MakeObjectInstance</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">HeaderWndProc</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemNum AlignRight">239</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">except</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemNum AlignRight">240</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HandleException</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF D2009}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">si</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TScrollInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DstPos</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Delta</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">li</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TListItem</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; i, TopIndex, LastIndex : integer;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; iSize : TSize;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; himg : HIMAGELIST;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">284</td>
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">285</td>
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF LOGGED}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">286</td>
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AddToLog</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemNum AlignRight">413</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemNum AlignRight">414</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemNum AlignRight">415</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemNum AlignRight">416</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Selected</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ListView_RedrawItems</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Selected</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Selected</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">426</td>
<td class="TextItemNum AlignRight">417</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">427</td>
<td class="TextItemNum AlignRight">418</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">428</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; WM_ERASEBKGND : if (SkinData.PrintDC &lt;&gt; 0) <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">StyleChanging</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">419</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; WM_ERASEBKGND : if (SkinData.PrintDC &lt;&gt; 0) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">429</td>
<td class="TextItemNum AlignRight">420</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TWMPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PrintDC</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">430</td>
<td class="TextItemNum AlignRight">421</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">431</td>
<td class="TextItemNum AlignRight">422</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">432</td>
<td class="TextItemNum AlignRight">423</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">433</td>
<td class="TextItemNum AlignRight">424</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">434</td>
<td class="TextItemNum AlignRight">425</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Updating</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">450</td>
<td class="TextItemNum AlignRight">441</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Delta</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DstPos</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">nLastSBPos</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">451</td>
<td class="TextItemNum AlignRight">442</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ViewStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">vsReport</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementCompiler_32Directive">{$IFDEF D2009}</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">GroupView</span> <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">452</td>
<td class="TextItemNum AlignRight">443</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ListView_GetItemRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">LVIR_BOUNDS</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">453</td>
<td class="TextItemNum AlignRight">444</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Delta</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Delta</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">454</td>
<td class="TextItemNum AlignRight">445</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">455</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">456</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ViewStyle</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">vsIcon</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">vsSmallIcon</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">vsReport</span><span class="TextSegSigDiff">]</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">457</td>
<td class="TextItemNum AlignRight">446</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">458</td>
<td class="TextItemNum AlignRight">447</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ListView_Scroll</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Delta</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">448</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ViewStyle</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">vsIcon</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">vsSmallIcon</span><span class="TextSegSigDiff">]</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">RedrawWindow</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">RDW_INVALIDATE</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">459</td>
<td class="TextItemNum AlignRight">449</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">460</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">R</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">ClientRect</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">461</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Delta</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">Delta</span> <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">Delta</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">462</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">RedrawWindow</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">@</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">RDW_INVALIDATE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_UPDATENOW</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_ALLCHILDREN</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">463</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">464</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">465</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">466</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">467</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">468</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">469</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">ListView_Scroll</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Delta</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">470</td>
<td class="TextItemNum AlignRight">450</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">471</td>
<td class="TextItemNum AlignRight">451</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">472</td>
<td class="TextItemNum AlignRight">452</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">473</td>
<td class="TextItemNum AlignRight">453</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">474</td>
<td class="TextItemNum AlignRight">454</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">475</td>
<td class="TextItemNum AlignRight">455</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">495</td>
<td class="TextItemNum AlignRight">475</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">496</td>
<td class="TextItemNum AlignRight">476</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">497</td>
<td class="TextItemNum AlignRight">477</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">498</td>
<td class="TextItemNum AlignRight">478</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CommonWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">499</td>
<td class="TextItemNum AlignRight">479</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">500</td>
<td class="TextItemNum AlignRight">480</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">501</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">WM_MOUSEMOVE</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">502</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">TopLeft</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">ScreenToClient</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">acMousePos</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">503</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">li</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">GetItemAt</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">504</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">li</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">505</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">Items</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Count</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Repaint prev Hot Item</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">506</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">li</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Index</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">507</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">R</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Items</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">HotItem</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">DisplayRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">drBounds</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">508</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">InvalidateRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">@</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">509</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">510</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">511</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">512</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">513</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">514</td>
<td class="TextItemNum AlignRight">481</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_MOUSEWHEEL</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_MOUSEWHEEL</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMMouseWheel</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Keys</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">515</td>
<td class="TextItemNum AlignRight">482</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InvalidateSmooth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">516</td>
<td class="TextItemNum AlignRight">483</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">517</td>
<td class="TextItemNum AlignRight">484</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CN_KEYDOWN</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CN_KEYUP</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">TWMKey</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CharCode</span> <span class="TextSegElementKeyword">of</span> <span class="TextSegElementIdentifier">VK_PRIOR</span><span class="TextSegElementOperator">.</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">VK_DOWN</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">InvalidateSmooth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">518</td>
<td class="TextItemNum AlignRight">485</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_SHOWINGCHANGED</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">519</td>
<td class="TextItemNum AlignRight">486</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">HandleAllocated</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Ac_UninitializeFlatSB</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Ac_UninitializeFlatSB</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">598</td>
<td class="TextItemNum AlignRight">565</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">599</td>
<td class="TextItemNum AlignRight">566</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">600</td>
<td class="TextItemNum AlignRight">567</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">601</td>
<td class="TextItemNum AlignRight">568</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">602</td>
<td class="TextItemNum AlignRight">569</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ViewStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">vsReport</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">603</td>
<td class="TextItemNum AlignRight">570</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">604</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Msg</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">SM_ALPHACMD</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">case</span> <span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">WParamHi</span> <span class="TextSegSigDiff">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">605</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">AC_MOUSELEAVE</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">606</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">HoverColIndex</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">2</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">607</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintHeader</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">608</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">609</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">610</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> with Message do begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">571</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; with Message do begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">611</td>
<td class="TextItemNum AlignRight">572</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">612</td>
<td class="TextItemNum AlignRight">573</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_NCHITTEST</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ColumnClick</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">613</td>
<td class="TextItemNum AlignRight">574</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CallWindowProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FhDefHeaderProc</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FhWndHeader</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Msg</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WParam</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">614</td>
<td class="TextItemNum AlignRight">575</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FHighLightHeaders</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">615</td>
<td class="TextItemNum AlignRight">576</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CurIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MouseToColIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMNCHitTest</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pos</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">616</td>
<td class="TextItemNum AlignRight">577</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">HoverColIndex</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">CurIndex</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">617</td>
<td class="TextItemNum AlignRight">578</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HoverColIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CurIndex</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">618</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ActiveControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FhWndHeader</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">619</td>
<td class="TextItemNum AlignRight">579</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintHeader</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">620</td>
<td class="TextItemNum AlignRight">580</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">621</td>
<td class="TextItemNum AlignRight">581</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">622</td>
<td class="TextItemNum AlignRight">582</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">623</td>
<td class="TextItemNum AlignRight">583</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_LBUTTONUP</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ColumnClick</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">624</td>
<td class="TextItemNum AlignRight">584</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FPressedColumn</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">708</td>
<td class="TextItemNum AlignRight">668</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">count</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RightPos</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">709</td>
<td class="TextItemNum AlignRight">669</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">rc</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">HeaderR</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">710</td>
<td class="TextItemNum AlignRight">670</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">PS</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPaintStruct</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">711</td>
<td class="TextItemNum AlignRight">671</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">712</td>
<td class="TextItemNum AlignRight">672</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">BeginPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FhWndHeader</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PS</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">713</td>
<td class="TextItemNum AlignRight">673</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">714</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if not FCommonData.FCacheBmp.Empty <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">StyleChanging</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">674</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if not FCommonData.FCacheBmp.Empty then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">715</td>
<td class="TextItemNum AlignRight">675</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RightPos</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">716</td>
<td class="TextItemNum AlignRight">676</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">count</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Header_GetItemCount</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FhWndHeader</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">717</td>
<td class="TextItemNum AlignRight">677</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">count</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">718</td>
<td class="TextItemNum AlignRight">678</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Draw Columns Headers</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">719</td>
<td class="TextItemNum AlignRight">679</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">count</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">720</td>
<td class="TextItemNum AlignRight">680</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">rc</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetHeaderColumnRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">907</td>
<td class="TextItemNum AlignRight">867</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TopIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">LastIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">908</td>
<td class="TextItemNum AlignRight">868</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">909</td>
<td class="TextItemNum AlignRight">869</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">910</td>
<td class="TextItemNum AlignRight">870</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// inherited</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">911</td>
<td class="TextItemNum AlignRight">871</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOldAdvancedCustomDraw</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOldAdvancedCustomDraw</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Arect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Stage</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DefaultDraw</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">912</td>
<td class="TextItemNum AlignRight">872</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DefaultDraw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">913</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">StyleChanging</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">914</td>
<td class="TextItemNum AlignRight">873</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Stage</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">cdPostErase</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cdPostPaint</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">915</td>
<td class="TextItemNum AlignRight">874</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Stage</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">cdPreErase</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cdPrePaint</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">916</td>
<td class="TextItemNum AlignRight">875</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DefaultDraw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">917</td>
<td class="TextItemNum AlignRight">876</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">918</td>
<td class="TextItemNum AlignRight">877</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Updating</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">919</td>
<td class="TextItemNum AlignRight">878</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">978</td>
<td class="TextItemNum AlignRight">937</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementKeyword">as</span> <span class="TextSegElementIdentifier">TListItem</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Selected</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">979</td>
<td class="TextItemNum AlignRight">938</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementKeyword">as</span> <span class="TextSegElementIdentifier">TListItem</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Focused</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">980</td>
<td class="TextItemNum AlignRight">939</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">LVM_ENSUREVISIBLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Index</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">981</td>
<td class="TextItemNum AlignRight">940</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">982</td>
<td class="TextItemNum AlignRight">941</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">983</td>
<td class="TextItemNum AlignRight">942</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">984</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">TsCustomListView</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SetViewStyle</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TViewStyle</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">985</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">986</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">StyleChanging</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">987</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">988</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">HandleAllocated</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">989</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">StyleChanging</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">990</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BeginUpdate</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">991</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">992</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">inherited</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">993</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">HandleAllocated</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">994</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">StyleChanging</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">995</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">ListView_Arrange</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">LVA_DEFAULT</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">996</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">EndUpdate</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">997</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Skinned</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">998</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">RedrawWindow</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">RDW_INVALIDATE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_UPDATENOW</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_ERASE</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">999</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ViewStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">vsReport</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">PaintHeader</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1000</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1001</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1002</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1003</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1004</td>
<td class="TextItemNum AlignRight">943</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomListView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InitControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Skinned</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1005</td>
<td class="TextItemNum AlignRight">944</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1006</td>
<td class="TextItemNum AlignRight">945</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FTempValue</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TLVAdvancedCustomDrawEvent</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1007</td>
<td class="TextItemNum AlignRight">946</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FTempItemValue</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TLVAdvancedCustomDrawItemEvent</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1008</td>
<td class="TextItemNum AlignRight">947</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1060</td>
<td class="TextItemNum AlignRight">999</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1061</td>
<td class="TextItemNum AlignRight">1000</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1062</td>
<td class="TextItemNum AlignRight">1001</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomColor</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1063</td>
<td class="TextItemNum AlignRight">1002</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FontColor</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1064</td>
<td class="TextItemNum AlignRight">1003</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">InitControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1065</td>
<td class="TextItemNum AlignRight">1004</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1066</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">{$IFDEF DELPHI7UP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1067</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">{$IFNDEF D2010}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1068</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ThemeServices</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ThemesEnabled</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Ac_SetWindowTheme</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">'explorer'</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span> // do not localize</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1069</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">{$ENDIF}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1070</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">{$ENDIF}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1071</td>
<td class="TextItemNum AlignRight">1005</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1072</td>
<td class="TextItemNum AlignRight">1006</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1073</td>
<td class="TextItemNum AlignRight">1007</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomListView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">NewAdvancedCustomDrawItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomListView</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TListItem</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomDrawState</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Stage</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomDrawStage</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">DefaultDraw</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1074</td>
<td class="TextItemNum AlignRight">1008</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1075</td>
<td class="TextItemNum AlignRight">1009</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1076</td>
<td class="TextItemNum AlignRight">1010</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ACanvas</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCanvas</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1077</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; fText, nRect, aRect, imgRect, cRect<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">iRect</span> : TRect;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1011</td>
<td class="TextItemSigDel">&nbsp; fText, nRect, aRect, imgRect, cRect : TRect;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1078</td>
<td class="TextItemNum AlignRight">1012</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1079</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">vStyle</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TViewStyle</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1080</td>
<td class="TextItemNum AlignRight">1013</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1081</td>
<td class="TextItemNum AlignRight">1014</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Size</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TSize</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1082</td>
<td class="TextItemNum AlignRight">1015</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Cardinal</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1083</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">p</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TPoint</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1084</td>
<td class="TextItemNum AlignRight">1016</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DisabledKind</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsDisabledKind</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1085</td>
<td class="TextItemNum AlignRight">1017</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">ImgList</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomImageList</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1086</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; b, bSelected<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">bHot</span> : boolean;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1018</td>
<td class="TextItemSigDel">&nbsp; b, bSelected : boolean;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1087</td>
<td class="TextItemNum AlignRight">1019</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI6UP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1088</td>
<td class="TextItemNum AlignRight">1020</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">iDrawStyle</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TDrawingStyle</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1089</td>
<td class="TextItemNum AlignRight">1021</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1090</td>
<td class="TextItemNum AlignRight">1022</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">CheckState</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCheckBoxState</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1091</td>
<td class="TextItemNum AlignRight">1023</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1092</td>
<td class="TextItemNum AlignRight">1024</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI6UP}</span><span class="TextSegElementKeyword">or</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HandleAllocated</span><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1095</td>
<td class="TextItemNum AlignRight">1027</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1096</td>
<td class="TextItemNum AlignRight">1028</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1097</td>
<td class="TextItemNum AlignRight">1029</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Stage</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">cdPrePaint</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cdPostPaint</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1098</td>
<td class="TextItemNum AlignRight">1030</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1099</td>
<td class="TextItemNum AlignRight">1031</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ready</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1100</td>
<td class="TextItemNum AlignRight">1032</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FillColor</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1101</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">vStyle</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">ViewStyle</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1102</td>
<td class="TextItemNum AlignRight">1033</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1103</td>
<td class="TextItemNum AlignRight">1034</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DT_NOPREFIX</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_EXPANDTABS</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_SINGLELINE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_VCENTER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_NOCLIP</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1104</td>
<td class="TextItemNum AlignRight">1035</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">UseRightToLeftReading</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_RTLREADING</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1105</td>
<td class="TextItemNum AlignRight">1036</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1106</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; bSelected := Item.Selected <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">HideSelection</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">Focused</span><span class="TextSegSigDiff">)</span>;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1107</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">bHot</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1037</td>
<td class="TextItemSigDel">&nbsp; &nbsp; bSelected := Item.Selected;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1108</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1109</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">ListView_GetItemRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Index</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">LVIR_BOUNDS</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">2147483613</span> {is not ready}<span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1110</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1111</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if bSelected then sNdx := iSelectIndex else <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1112</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">sNdx</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1038</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if bSelected then sNdx := iSelectIndex else <span class="TextSegSigDiff">s</span><span class="TextSegSigDiff">Ndx</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1113</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1114</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1115</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">p</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ScreenToClient</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">acMousePos</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1116</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if <span class="TextSegSigDiff">PtInRec</span><span class="TextSegSigDiff">t</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Cli</span><span class="TextSegSigDiff">e</span><span class="TextSegSigDiff">nt</span>Rect<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">p</span><span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1117</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">PtInRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">p</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1118</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">GetClipBox</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1119</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">max</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1120</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">max</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1121</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">min</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1122</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">min</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1123</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">PtInRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">p</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1124</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">Items</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Count</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Index</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span> // Repaint prev Hot Item</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1125</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">c</span>Rect := Item<span class="TextSegSigDiff">s</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">HotItem</span><span class="TextSegSigDiff">]</span>.DisplayRect(drBounds);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1126</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">InvalidateRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">@</span><span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1127</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1128</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">HotItem</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Index</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1129</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">bHot</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1130</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">bSelected</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1131</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">sNdx</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">iSelectIndex</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1132</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1133</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1134</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1135</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1136</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1137</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">vStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">vsReport</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">RowSelect</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1138</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">nRect</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1039</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Vi</span><span class="TextSegSigDiff">ewSty</span><span class="TextSegSigDiff">le</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">vsReport</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> R<span class="TextSegSigDiff">owSel</span>ect then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1040</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">n</span>Rect := Item.DisplayRect(drBounds);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1139</td>
<td class="TextItemNum AlignRight">1041</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsRectEmpty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1140</td>
<td class="TextItemNum AlignRight">1042</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_END_ELLIPSIS</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1141</td>
<td class="TextItemNum AlignRight">1043</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1142</td>
<td class="TextItemNum AlignRight">1044</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1143</td>
<td class="TextItemNum AlignRight">1045</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1144</td>
<td class="TextItemNum AlignRight">1046</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">GridLines</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1145</td>
<td class="TextItemNum AlignRight">1047</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1146</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">sNdx</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">0</span> then FillDC(Bmp.Canvas.Handle, aRect, SkinData.SkinManager.GetHighLightColor(cdsFocused in State)) <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1147</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PaintItem(sNdx, s_Selection, CI, True, integer(Focused), aRect, Point(nRect.Left, nRect.Top), Bmp, SkinData.SkinManager);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1148</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">bHot</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">BlendTransRectangle</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0.5</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1149</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1048</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">sNdx</span> <span class="TextSegSigDiff">&lt;</span> <span class="TextSegSigDiff">0</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1049</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; then FillDC(Bmp.Canvas.Handle, aRect, SkinData.SkinManager.GetHighLightColor(cdsFocused in State))</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1050</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> PaintItem(sNdx, s_Selection, CI, True, integer(Focused), aRect, Point(nRect.Left, nRect.Top), Bmp, SkinData.SkinManager);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1150</td>
<td class="TextItemNum AlignRight">1051</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1151</td>
<td class="TextItemNum AlignRight">1052</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1152</td>
<td class="TextItemNum AlignRight">1053</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1153</td>
<td class="TextItemNum AlignRight">1054</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1154</td>
<td class="TextItemNum AlignRight">1055</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1155</td>
<td class="TextItemNum AlignRight">1056</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1192</td>
<td class="TextItemNum AlignRight">1093</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1193</td>
<td class="TextItemNum AlignRight">1094</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1194</td>
<td class="TextItemNum AlignRight">1095</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">imgRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1195</td>
<td class="TextItemNum AlignRight">1096</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1196</td>
<td class="TextItemNum AlignRight">1097</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Text</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1197</td>
<td class="TextItemNum AlignRight">1098</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">imgRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1198</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Columns</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span> <span class="TextSegSigDiff">then</span> fText.Right := nRect.Left + Columns[0].Width - 2 <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">fText</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">nRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1099</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; fText.Right := nRect.Left + Columns[0].Width - 2;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1199</td>
<td class="TextItemNum AlignRight">1100</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1200</td>
<td class="TextItemNum AlignRight">1101</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1201</td>
<td class="TextItemNum AlignRight">1102</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">IsRectEmpty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1202</td>
<td class="TextItemNum AlignRight">1103</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">dec</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1203</td>
<td class="TextItemNum AlignRight">1104</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1204</td>
<td class="TextItemNum AlignRight">1105</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1205</td>
<td class="TextItemNum AlignRight">1106</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bsClear</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1206</td>
<td class="TextItemNum AlignRight">1107</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1207</td>
<td class="TextItemNum AlignRight">1108</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PChar</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Length</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1208</td>
<td class="TextItemNum AlignRight">1109</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1209</td>
<td class="TextItemNum AlignRight">1110</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1210</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if bSelected <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1111</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if bSelected</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1211</td>
<td class="TextItemNum AlignRight">1112</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetHighLightFontColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cdsFocused</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1212</td>
<td class="TextItemNum AlignRight">1113</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Props</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FontColor</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1213</td>
<td class="TextItemNum AlignRight">1114</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AcDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1214</td>
<td class="TextItemNum AlignRight">1115</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1215</td>
<td class="TextItemNum AlignRight">1116</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1216</td>
<td class="TextItemNum AlignRight">1117</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1217</td>
<td class="TextItemNum AlignRight">1118</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementCompiler_32Directive">{$IFDEF TNTUNICODE}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1218</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(TTntListItem(Item).Caption), True, fText, DrawStyle, sNdx, Focused <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1119</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(TTntListItem(Item).Caption), True, fText, DrawStyle, sNdx, Focused, SkinData.SkinManager);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1219</td>
<td class="TextItemNum AlignRight">1120</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementCompiler_32Directive">{$ELSE}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1220</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(Item.Caption), True, fText, DrawStyle, sNdx, Focused <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1121</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(ACanvas, PacChar(Item.Caption), True, fText, DrawStyle, sNdx, Focused, SkinData.SkinManager);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1221</td>
<td class="TextItemNum AlignRight">1122</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1222</td>
<td class="TextItemNum AlignRight">1123</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1223</td>
<td class="TextItemNum AlignRight">1124</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1224</td>
<td class="TextItemNum AlignRight">1125</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1225</td>
<td class="TextItemNum AlignRight">1126</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">GridLines</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Mouse</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Capture</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementComment">{If column is not resized}</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Draw grid horz line</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1226</td>
<td class="TextItemNum AlignRight">1127</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pen</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">clBtnFace</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1246</td>
<td class="TextItemNum AlignRight">1147</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1247</td>
<td class="TextItemNum AlignRight">1148</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1248</td>
<td class="TextItemNum AlignRight">1149</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">nRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">drLabel</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1249</td>
<td class="TextItemNum AlignRight">1150</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsRectEmpty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1250</td>
<td class="TextItemNum AlignRight">1151</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1251</td>
<td class="TextItemNum AlignRight">1152</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1252</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; if not bSelected then FillDC(Canvas.Handle, aRect, Color);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1153</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FillDC</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1253</td>
<td class="TextItemNum AlignRight">1154</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1254</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; case vStyle of</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1155</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; case V<span class="TextSegSigDiff">iew</span>Style of</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1255</td>
<td class="TextItemNum AlignRight">1156</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">vsReport</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_END_ELLIPSIS</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1256</td>
<td class="TextItemNum AlignRight">1157</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">vsIcon</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1257</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DrawStyle := DrawStyle and not DT_SINGLELINE and not DT_VCENTER <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">DT_NOCLIP</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">DT_EXPANDTABS</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1158</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DrawStyle := DrawStyle and not DT_SINGLELINE and not DT_VCENTER;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1258</td>
<td class="TextItemNum AlignRight">1159</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_CENTER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_WORDBREAK</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_END_ELLIPSIS</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_WORD_ELLIPSIS</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1259</td>
<td class="TextItemNum AlignRight">1160</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1260</td>
<td class="TextItemNum AlignRight">1161</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1261</td>
<td class="TextItemNum AlignRight">1162</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AcDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_CALCRECT</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">DT_END_ELLIPSIS</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1262</td>
<td class="TextItemNum AlignRight">1163</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1263</td>
<td class="TextItemNum AlignRight">1164</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1264</td>
<td class="TextItemNum AlignRight">1165</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1265</td>
<td class="TextItemNum AlignRight">1166</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1266</td>
<td class="TextItemNum AlignRight">1167</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1267</td>
<td class="TextItemNum AlignRight">1168</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1268</td>
<td class="TextItemNum AlignRight">1169</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; case vStyle of</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1170</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; case V<span class="TextSegSigDiff">iew</span>Style of</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemNum AlignRight">1171</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">vsSmallIcon</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">vsList</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">vsReport</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemNum AlignRight">1172</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">acGetTextExtent</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Size</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemNum AlignRight">1173</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ftext</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Size</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">cx</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">5</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemNum AlignRight">1174</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemNum AlignRight">1175</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemNum AlignRight">1176</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemNum AlignRight">1177</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetHighLightColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cdsFocused</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">cRect</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1280</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">vStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">vsReport</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">ListView_GetColumnWidth</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1281</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1282</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">cRect</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">min</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">WidthOf</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">fText</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1283</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1284</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1285</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Bmp</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">CreateBmp32</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">WidthOf</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">HeightOf</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1286</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PaintItem(sNdx, s_Selection, CI, True, integer(Focused), Rect(<span class="TextSegSigDiff">0</span>, <span class="TextSegSigDiff">0</span>, <span class="TextSegSigDiff">Bmp</span>.Width, Bm<span class="TextSegSigDiff">p</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span>), Point(0, 0), <span class="TextSegSigDiff">Bmp</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1287</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">bHot</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1288</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderStyle</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">bsNone</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">cw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">1</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Ctl3d</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">cw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1289</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">OffsetRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cw</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cw</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1290</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">BlendTransRectangle</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0.5</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1291</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">OffsetRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">cw</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">cw</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1292</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1293</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">BitBlt</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SRCCOPY</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1294</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FreeAndNil</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1295</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1178</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> PaintItem(sNdx, s_Selection, CI, True, integer(Focused), Rect(<span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span>, <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span>, <span class="TextSegSigDiff">min</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">aRect</span>.<span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> Width<span class="TextSegSigDiff">Of</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">fText</span><span class="TextSegSigDiff">))</span>, <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span>B<span class="TextSegSigDiff">otto</span>m), Point(0, 0), <span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1296</td>
<td class="TextItemNum AlignRight">1179</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1297</td>
<td class="TextItemNum AlignRight">1180</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1298</td>
<td class="TextItemNum AlignRight">1181</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1299</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if vStyle &lt;&gt; vsIcon then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1182</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; if V<span class="TextSegSigDiff">iew</span>Style &lt;&gt; vsIcon then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1300</td>
<td class="TextItemNum AlignRight">1183</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1301</td>
<td class="TextItemNum AlignRight">1184</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InflateRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1302</td>
<td class="TextItemNum AlignRight">1185</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1303</td>
<td class="TextItemNum AlignRight">1186</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1304</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">vStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">vsIcon</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">bSelected</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1305</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">min</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1306</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">acGetTextExtent</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Caption</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Size</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1307</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">HeightOf</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">mod</span> <span class="TextSegSigDiff">Size</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">cy</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span> // Fix of the Ellipsis problem</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1308</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1309</td>
<td class="TextItemNum AlignRight">1187</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1188</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Brush</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Style</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">bsClear</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1310</td>
<td class="TextItemNum AlignRight">1189</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetHighLightFontColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cdsFocused</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1311</td>
<td class="TextItemNum AlignRight">1190</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AcDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1312</td>
<td class="TextItemNum AlignRight">1191</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1313</td>
<td class="TextItemNum AlignRight">1192</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1314</td>
<td class="TextItemNum AlignRight">1193</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF TNTUNICODE}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1315</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(Canvas, PacChar(TTntListItem(Item).Caption), True, aRect, DrawStyle, sNdx, Focused <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1194</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(Canvas, PacChar(TTntListItem(Item).Caption), True, aRect, DrawStyle, sNdx, Focused, SkinData.SkinManager);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1316</td>
<td class="TextItemNum AlignRight">1195</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ELSE}</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1317</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(Canvas, PacChar(Item.Caption), True, aRect, DrawStyle, sNdx, Focused <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bHot</span>, SkinData.SkinManager);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1196</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; acWriteTextEx(Canvas, PacChar(Item.Caption), True, aRect, DrawStyle, sNdx, Focused, SkinData.SkinManager);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1318</td>
<td class="TextItemNum AlignRight">1197</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1319</td>
<td class="TextItemNum AlignRight">1198</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1320</td>
<td class="TextItemNum AlignRight">1199</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1321</td>
<td class="TextItemNum AlignRight">1200</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Focused</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1322</td>
<td class="TextItemNum AlignRight">1201</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawFocusRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1323</td>
<td class="TextItemNum AlignRight">1202</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1328</td>
<td class="TextItemNum AlignRight">1207</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1329</td>
<td class="TextItemNum AlignRight">1208</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemNum AlignRight">1209</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">CheckBoxes</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemNum AlignRight">1210</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Checked</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">CheckState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cbChecked</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">CheckState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cbUnChecked</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemNum AlignRight">1211</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemNum AlignRight">1212</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CheckWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if vStyle = vsIcon then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1213</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; if V<span class="TextSegSigDiff">iew</span>Style = vsIcon then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemNum AlignRight">1214</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LargeImages</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemNum AlignRight">1215</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">drIcon</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemNum AlignRight">1216</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Win32MajorVersion</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">5</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// if Vista and newer</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemNum AlignRight">1217</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">LargeImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemNum AlignRight">1218</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemNum AlignRight">1219</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1360</td>
<td class="TextItemNum AlignRight">1239</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">drBounds</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1361</td>
<td class="TextItemNum AlignRight">1240</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1362</td>
<td class="TextItemNum AlignRight">1241</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemNum AlignRight">1242</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemNum AlignRight">1243</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemNum AlignRight">1244</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">cw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">BitBlt</span>(Bmp.Canvas.Handle, 0, 0, Bmp.Width, Bmp.Height<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">TAccessCanvas</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Canvas</span>)<span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FHandle</span>, c<span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">.</span>L<span class="TextSegSigDiff">eft</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SRCCOPY</span>);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1245</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Fil</span><span class="TextSegSigDiff">lDC</span>(Bmp.Canvas.Handle, <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span>0, 0, Bmp.Width, Bmp.Height), C<span class="TextSegSigDiff">o</span>l<span class="TextSegSigDiff">o</span><span class="TextSegSigDiff">r</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemNum AlignRight">1246</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">acDrawCheck</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CheckState</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemNum AlignRight">1247</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TAccessCanvas</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemNum AlignRight">1248</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1370</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; end</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1371</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">cRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">iRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1249</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; end<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1372</td>
<td class="TextItemNum AlignRight">1250</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1373</td>
<td class="TextItemNum AlignRight">1251</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1374</td>
<td class="TextItemNum AlignRight">1252</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ImgList</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetImageList</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1375</td>
<td class="TextItemNum AlignRight">1253</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ImgList</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">ImgList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1376</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">ListView_GetItem</span>Rect<span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> Item.<span class="TextSegSigDiff">Index</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">a</span>Rect<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">LVIR_</span>ICON) <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1254</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">a</span>Rect <span class="TextSegSigDiff">:=</span> Item.<span class="TextSegSigDiff">Displ</span><span class="TextSegSigDiff">ay</span>Rect<span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">d</span><span class="TextSegSigDiff">r</span>Icon)<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1377</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1378</td>
<td class="TextItemNum AlignRight">1255</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Win32MajorVersion</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">5</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// if Vista </span><span class="TextSegElementComment">and</span><span class="TextSegElementComment"> newer</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1379</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">vStyle</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">vsList</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">vsReport</span><span class="TextSegSigDiff">]</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1380</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">WidthOf</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">aRect</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ImgList</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">div</span> <span class="TextSegSigDiff">2</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1381</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> aRect.Left := aRect.Left + (WidthOf(aRect) - ImgList.Width - cw) div 2 + cw;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1256</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aRect.Left := aRect.Left + (WidthOf(aRect) - ImgList.Width - cw) div 2 + cw;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1382</td>
<td class="TextItemNum AlignRight">1257</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1383</td>
<td class="TextItemNum AlignRight">1258</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1384</td>
<td class="TextItemNum AlignRight">1259</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ImgList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1385</td>
<td class="TextItemNum AlignRight">1260</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1386</td>
<td class="TextItemNum AlignRight">1261</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ImgList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1387</td>
<td class="TextItemNum AlignRight">1262</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1388</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bSelected</span> <span class="TextSegSigDiff">then</span> FillDC(TAccessCanvas(Canvas).FHandle, aRect, Color);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1263</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FillDC(TAccessCanvas(Canvas).FHandle, aRect, Color);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1389</td>
<td class="TextItemNum AlignRight">1264</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI6UP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1390</td>
<td class="TextItemNum AlignRight">1265</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Focused</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">iDrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">dsFocus</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">iDrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">dsNormal</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1391</td>
<td class="TextItemNum AlignRight">1266</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ImgList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Draw</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">iDrawStyle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">itImage</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1392</td>
<td class="TextItemNum AlignRight">1267</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ELSE}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1393</td>
<td class="TextItemNum AlignRight">1268</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ImgList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Draw</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1394</td>
<td class="TextItemNum AlignRight">1269</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1395</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1396</td>
<td class="TextItemNum AlignRight">1270</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1397</td>
<td class="TextItemNum AlignRight">1271</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1398</td>
<td class="TextItemNum AlignRight">1272</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1399</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if (vStyle = vsReport) then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1273</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; if (V<span class="TextSegSigDiff">iew</span>Style = vsReport) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1400</td>
<td class="TextItemNum AlignRight">1274</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">nRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">drBounds</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1401</td>
<td class="TextItemNum AlignRight">1275</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">GridLines</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Mouse</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Capture</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementComment">{If column is not resized}</span><span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Draw grid horz line</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemNum AlignRight">1276</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Pen</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">clBtnFace</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemNum AlignRight">1277</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MoveTo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1404</td>
<td class="TextItemNum AlignRight">1278</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LineTo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1405</td>
<td class="TextItemNum AlignRight">1279</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">cw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Columns</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1433</td>
<td class="TextItemNum AlignRight">1307</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1434</td>
<td class="TextItemNum AlignRight">1308</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">Index</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ListView_GetColumnWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1435</td>
<td class="TextItemNum AlignRight">1309</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1436</td>
<td class="TextItemNum AlignRight">1310</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1437</td>
<td class="TextItemNum AlignRight">1311</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomListView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InitSkinParams</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1438</td>
<td class="TextItemNum AlignRight">1312</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1439</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; GridColor := ColorToRGB(cl<span class="TextSegSigDiff">BtnFace</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1313</td>
<td class="TextItemSigDel">&nbsp; GridColor := ColorToRGB(cl<span class="TextSegSigDiff">Red</span><span class="TextSegSigDiff">);</span>//clBtnFace;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1440</td>
<td class="TextItemNum AlignRight">1314</td>
<td class="TextItemSame"><span class="TextSegElementComment">// &nbsp;</span><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; </span><span class="TextSegElementComment">GridColor := MixColors(ColorToRgb(FCommonData.SkinManager.gd[FCommonData.SkinIndex].FontColor[1]), ColorToRgb(FCommonData.SkinManager.gd[FCommonData.SkinIndex].Color), 0.15);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1441</td>
<td class="TextItemNum AlignRight">1315</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">iSelectIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetSkinIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_Selection</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1442</td>
<td class="TextItemNum AlignRight">1316</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1443</td>
<td class="TextItemNum AlignRight">1317</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1444</td>
<td class="TextItemNum AlignRight">1318</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsCustomListView</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">NewAdvancedCustomDrawSubItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomListView</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TListItem</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">SubItem</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomDrawState</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Stage</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCustomDrawStage</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">DefaultDraw</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Boolean</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1445</td>
<td class="TextItemNum AlignRight">1319</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1457</td>
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1458</td>
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnCustomDrawSubItem</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1459</td>
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">OnCustomDrawSubItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SubItem</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DefaultDraw</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1460</td>
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">DefaultDraw</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1461</td>
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1462</td>
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Stage</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">cdPrePaint</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">cdPostPaint</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1463</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; bSelected := RowSelect and <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Bmp</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">);</span>//RowSelect and Item.Selected;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemSigDel">&nbsp; &nbsp; bSelected := RowSelect and <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Selected</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1464</td>
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">gRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">drBounds</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1465</td>
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsRectEmpty</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">gRect</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1466</td>
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1467</td>
<td class="TextItemNum AlignRight">1341</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">gRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">ColumnLeft</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SubItem</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1468</td>
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">ListView_GetColumnWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SubItem</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1469</td>
<td class="TextItemNum AlignRight">1343</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1470</td>
<td class="TextItemNum AlignRight">1344</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">gRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1471</td>
<td class="TextItemNum AlignRight">1345</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">gRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1472</td>
<td class="TextItemNum AlignRight">1346</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1473</td>
<td class="TextItemNum AlignRight">1347</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Text rect receiving</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1474</td>
<td class="TextItemNum AlignRight">1348</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">nRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">drLabel</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1475</td>
<td class="TextItemNum AlignRight">1349</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">iNdx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SubItemImages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">SubItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1476</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; fText.Left := aRect.Left<span class="TextSegSigDiff">;</span>// + 3;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1350</td>
<td class="TextItemSigDel">&nbsp; &nbsp; fText.Left := aRect.Left <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">3</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1477</td>
<td class="TextItemNum AlignRight">1351</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">4</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1478</td>
<td class="TextItemNum AlignRight">1352</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1479</td>
<td class="TextItemNum AlignRight">1353</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1480</td>
<td class="TextItemNum AlignRight">1354</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1481</td>
<td class="TextItemNum AlignRight">1355</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OffsetRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">gRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">gRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1482</td>
<td class="TextItemNum AlignRight">1356</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ACanvas</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1487</td>
<td class="TextItemNum AlignRight">1361</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1488</td>
<td class="TextItemNum AlignRight">1362</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1489</td>
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">iNdx</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">iNdx</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1490</td>
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Draw</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">iNdx</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1491</td>
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SmallImages</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1492</td>
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1493</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">fText</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">fText</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">3</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1494</td>
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1495</td>
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DT_NOPREFIX</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_EXPANDTABS</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_SINGLELINE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_VCENTER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">DT_END_ELLIPSIS</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">GetStringFlags</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Columns</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">Subitem</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Alignment</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1496</td>
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">bSelected</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">iSelectIndex</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1370</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">AverageColor</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1497</td>
<td class="TextItemNum AlignRight">1371</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1498</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1499</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Bmp</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1500</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">AverageColor</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Bmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1501</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">AverageColor</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Font</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1502</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1503</td>
<td class="TextItemNum AlignRight">1372</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bsSolid</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1504</td>
<td class="TextItemNum AlignRight">1373</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetTextColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1374</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; Canvas.Brush.Color := Color;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1505</td>
<td class="TextItemNum AlignRight">1375</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AcDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SubItems</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">SubItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1506</td>
<td class="TextItemNum AlignRight">1376</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1507</td>
<td class="TextItemNum AlignRight">1377</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1508</td>
<td class="TextItemNum AlignRight">1378</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1509</td>
<td class="TextItemNum AlignRight">1379</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomFont</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1510</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if bSelected <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Selected</span> then Bmp.Canvas.Font.Color := SkinData.SkinManager.GetHighLightFontColor<span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Focused</span>{(cdsFocused in State) and RowSelected} <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Selected</span>) else Bmp.Canvas.Font.Color := Font.Color;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1380</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if bSelected then Bmp.Canvas.Font.Color := SkinData.SkinManager.GetHighLightFontColor<span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">cdsFocused</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">State</span>) else Bmp.Canvas.Font.Color := Font.Color;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1511</td>
<td class="TextItemNum AlignRight">1381</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1512</td>
<td class="TextItemNum AlignRight">1382</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1513</td>
<td class="TextItemNum AlignRight">1383</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AverageColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1514</td>
<td class="TextItemNum AlignRight">1384</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Brush</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">bsClear</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1515</td>
<td class="TextItemNum AlignRight">1385</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; &nbsp; OffsetRect(fText, -gRect.Left, -gRect.Top);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1516</td>
<td class="TextItemNum AlignRight">1386</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AcDrawText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SubItems</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">SubItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fText</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DrawStyle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sMessages.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemNum AlignRight">52</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_BEGINUPDATE</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">31</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemNum AlignRight">53</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_ENDUPDATE</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">32</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemNum AlignRight">54</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemNum AlignRight">55</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_GETBG</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">34</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemNum AlignRight">56</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_GETDISKIND</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">35</span><span class="TextSegElementOperator">;</span>&nbsp; <span class="TextSegElementComment">// Init disable kind for control</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemNum AlignRight">57</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_GETSKINSTATE</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">36</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">58</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">AC_GE</span><span class="TextSegSigDiff">TSKIN</span><span class="TextSegSigDiff">DATA</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">37</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">58</td>
<td class="TextItemSigDel">//&nbsp; AC_EXTINVALIDATE&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 37;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemNum AlignRight">59</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_PRINTING</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">38</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">60</td>
<td class="TextItemNum AlignRight">60</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; AC_UPDATESCROLLS&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = 50;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">61</td>
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_BEFORESCROLL</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">51</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">62</td>
<td class="TextItemNum AlignRight">63</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_AFTERSCROLL</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">52</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">63</td>
<td class="TextItemNum AlignRight">64</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AC_GETAPPLICATION</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">60</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sPageControl.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FShowUpDown</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FShowFocus</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FHoveredBtnIndex</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FPressedBtnIndex</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FRotateCaptions</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FActiveIsBold</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; FOn<span class="TextSegSigDiff">Page</span>Changing: TacTabChangingEvent;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FTabPadding</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemSigDel">&nbsp; &nbsp; FOnChanging: TacTabChangingEvent;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetShowUpDown</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetShowFocus</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetHoveredBtnIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">147</td>
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetRotateCaptions</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">148</td>
<td class="TextItemNum AlignRight">147</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetActiveIsBold</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">149</td>
<td class="TextItemNum AlignRight">148</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetActivePageIndex</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">150</td>
<td class="TextItemNum AlignRight">149</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetActivePageIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">151</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">SetTabPadding</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">const</span> <span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">152</td>
<td class="TextItemNum AlignRight">150</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">protected</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">153</td>
<td class="TextItemNum AlignRight">151</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SpinWnd</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacSpinWnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">154</td>
<td class="TextItemNum AlignRight">152</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CurItem</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">155</td>
<td class="TextItemNum AlignRight">153</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DroppedDownItem</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">156</td>
<td class="TextItemNum AlignRight">154</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">BtnIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">157</td>
<td class="TextItemNum AlignRight">155</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">BtnWidth</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetTabUnderMouse</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">p</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPoint</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">RepaintTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">State</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">TabDC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">RepaintTabs</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">HDC</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ActiveTabNdx</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">VisibleTabsCount</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">IsSpecialTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">IsMenu</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">CheckActiveTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TTabSheet</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">function</span> <span class="TextSegSigDiff">TabIndexFromPageIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">PageIndex</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">Integer</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">Integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI7UP}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetTabIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">172</td>
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">HoveredBtnIndex</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FHoveredBtnIndex</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetHoveredBtnIndex</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">173</td>
<td class="TextItemNum AlignRight">170</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">public</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">174</td>
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ActivePageIndex</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">GetActivePageIndex</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetActivePageIndex</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">189</td>
<td class="TextItemNum AlignRight">186</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ActiveIsBold</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FActiveIsBold</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetActiveIsBold</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">190</td>
<td class="TextItemNum AlignRight">187</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">CloseBtnSkin</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinSection</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FCloseBtnSkin</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetCloseBtnSkin</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemNum AlignRight">188</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">RotateCaptions</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FRotateCaptions</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetRotateCaptions</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemNum AlignRight">189</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ShowCloseBtns</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FShowCloseBtns</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetShowCloseBtns</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemNum AlignRight">190</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ShowFocus</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FShowFocus</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetShowFocus</span> <span class="TextSegElementKeyword">default</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">SkinData</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsCommonData</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FCommonData</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">property</span> <span class="TextSegSigDiff">TabPadding</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span> <span class="TextSegSigDiff">read</span> <span class="TextSegSigDiff">FTabPadding</span> <span class="TextSegSigDiff">write</span> <span class="TextSegSigDiff">SetTabPadding</span> <span class="TextSegSigDiff">default</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; property On<span class="TextSegSigDiff">Page</span>Changing: TacTabChangingEvent read FOn<span class="TextSegSigDiff">Page</span>Changing write FOn<span class="TextSegSigDiff">Page</span>Changing;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemSigDel">&nbsp; &nbsp; property OnChanging: TacTabChangingEvent read FOnChanging write FOnChanging;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">OnCloseBtnClick</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacCloseBtnClick</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FOnCloseBtnClick</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FOnCloseBtnClick</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">DeletePage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Page</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Page removing without switching to the first page</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">implementation</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">527</td>
<td class="TextItemNum AlignRight">523</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DrawSkinTabs</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">528</td>
<td class="TextItemNum AlignRight">524</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">529</td>
<td class="TextItemNum AlignRight">525</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">530</td>
<td class="TextItemNum AlignRight">526</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">531</td>
<td class="TextItemNum AlignRight">527</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDestroying</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">532</td>
<td class="TextItemNum AlignRight">528</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Lock</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">533</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; for i := 0 to PageCount - 1 do if Pages[i].TabVisible and (<span class="TextSegSigDiff">(</span>Pages[i] &lt;&gt; ActivePage<span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TsTabSheet</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Pages</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">]).</span><span class="TextSegSigDiff">TabType</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">ttTab</span><span class="TextSegSigDiff">)</span>) then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">529</td>
<td class="TextItemSigDel">&nbsp; for i := 0 to PageCount - 1 do if Pages[i].TabVisible and (Pages[i] &lt;&gt; ActivePage) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">534</td>
<td class="TextItemNum AlignRight">530</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">DroppedDownItem</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">i</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">535</td>
<td class="TextItemNum AlignRight">531</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">DrawSkinTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">536</td>
<td class="TextItemNum AlignRight">532</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">DrawSkinTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CurItem</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">537</td>
<td class="TextItemNum AlignRight">533</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">538</td>
<td class="TextItemNum AlignRight">534</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// Draw active tab</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">539</td>
<td class="TextItemNum AlignRight">535</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Tabs</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ActivePage</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ActivePage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TabType</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ttTab</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">DrawSkinTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ActivePage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PageIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">653</td>
<td class="TextItemNum AlignRight">649</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">654</td>
<td class="TextItemNum AlignRight">650</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SpinSection</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">655</td>
<td class="TextItemNum AlignRight">651</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">656</td>
<td class="TextItemNum AlignRight">652</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetSkinIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s_UpDown</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">s_Button</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">s_UpDown</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">657</td>
<td class="TextItemNum AlignRight">653</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">658</td>
<td class="TextItemNum AlignRight">654</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">659</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">function</span> <span class="TextSegSigDiff">TsPageControl</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">TabIndexFromPageIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">PageIndex</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">Integer</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">Integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">660</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">661</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">i</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">662</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">663</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">664</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">i</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">min</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">PageIndex</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">PageCount</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">do</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">665</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Pages</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">TabVisible</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">inc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Result</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span>&nbsp; &nbsp; </td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">666</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">667</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">668</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">669</td>
<td class="TextItemNum AlignRight">655</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TabsRect</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">670</td>
<td class="TextItemNum AlignRight">656</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">671</td>
<td class="TextItemNum AlignRight">657</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">r</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">672</td>
<td class="TextItemNum AlignRight">658</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">659</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">673</td>
<td class="TextItemNum AlignRight">660</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Tabs</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">674</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">675</td>
<td class="TextItemNum AlignRight">661</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AdjustClientRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">r</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">676</td>
<td class="TextItemNum AlignRight">662</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">TabPosition</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">677</td>
<td class="TextItemNum AlignRight">663</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">tpTop</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">TopOffset</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">678</td>
<td class="TextItemNum AlignRight">664</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">tpBottom</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">BottomOffset</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">679</td>
<td class="TextItemNum AlignRight">665</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">tpLeft</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">LeftOffset</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">680</td>
<td class="TextItemNum AlignRight">666</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">tpRight</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">RightOffset</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">681</td>
<td class="TextItemNum AlignRight">667</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">682</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; end</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">683</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">668</td>
<td class="TextItemSigDel">&nbsp; end<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">684</td>
<td class="TextItemNum AlignRight">669</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">685</td>
<td class="TextItemNum AlignRight">670</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">686</td>
<td class="TextItemNum AlignRight">671</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateActivePage</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">687</td>
<td class="TextItemNum AlignRight">672</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">688</td>
<td class="TextItemNum AlignRight">673</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">689</td>
<td class="TextItemNum AlignRight">674</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">761</td>
<td class="TextItemNum AlignRight">746</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">762</td>
<td class="TextItemNum AlignRight">747</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">ChangedSkinSection</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">763</td>
<td class="TextItemNum AlignRight">748</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InitCacheBmp</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">764</td>
<td class="TextItemNum AlignRight">749</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetParentCache</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">765</td>
<td class="TextItemNum AlignRight">750</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">766</td>
<td class="TextItemNum AlignRight">751</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">PageRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">767</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintItemBG</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CI</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">r</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">768</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">769</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">with</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span> <span class="TextSegSigDiff">do</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">770</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">IsValidImgIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ImgTL</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">DrawSkinGlyph</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgTL</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MakeCacheInfo</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">771</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">IsValidImgIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ImgTR</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">DrawSkinGlyph</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">WidthOfImage</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgTR</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgTR</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MakeCacheInfo</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">772</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">IsValidImgIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ImgBL</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">DrawSkinGlyph</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">HeightOfImage</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgBL</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgBL</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MakeCacheInfo</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">773</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">IsValidImgIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ImgBR</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">DrawSkinGlyph</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Right</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">WidthOfImage</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgBR</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bottom</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">HeightOfImage</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgBR</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">ImgBR</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MakeCacheInfo</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">774</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">775</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">f</span> <span class="TextSegSigDiff">F</span>CommonData.<span class="TextSegSigDiff">Border</span>Index <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span> <span class="TextSegSigDiff">th</span><span class="TextSegSigDiff">en</span> D<span class="TextSegSigDiff">raw</span>Skin<span class="TextSegSigDiff">R</span>ect<span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FComm</span>on<span class="TextSegSigDiff">Data</span><span class="TextSegSigDiff">.</span>F<span class="TextSegSigDiff">CacheBmp</span>, R, Tr<span class="TextSegSigDiff">u</span><span class="TextSegSigDiff">e</span>, <span class="TextSegSigDiff">CI</span>, FCommonData.<span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span>FCommonData.<span class="TextSegSigDiff">Border</span>In<span class="TextSegSigDiff">d</span><span class="TextSegSigDiff">ex</span><span class="TextSegSigDiff">],</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span>);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">752</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintItem</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">F</span>CommonData.<span class="TextSegSigDiff">Skin</span>Index<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">C</span><span class="TextSegSigDiff">hange</span>dSkin<span class="TextSegSigDiff">S</span>ect<span class="TextSegSigDiff">i</span>on<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CI</span><span class="TextSegSigDiff">,</span> F<span class="TextSegSigDiff">alse</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span>, R, <span class="TextSegSigDiff">Poin</span>t<span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> R<span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Left</span>, <span class="TextSegSigDiff">Top</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">r</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span>, FCommonData.<span class="TextSegSigDiff">FC</span><span class="TextSegSigDiff">ach</span><span class="TextSegSigDiff">eB</span><span class="TextSegSigDiff">mp</span><span class="TextSegSigDiff">,</span> FCommonData.<span class="TextSegSigDiff">Sk</span>in<span class="TextSegSigDiff">Manage</span><span class="TextSegSigDiff">r</span>);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">776</td>
<td class="TextItemNum AlignRight">753</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">777</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if (ActivePage &lt;&gt; nil) and <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csDestroying</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ActivePage</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> (ActivePage.SkinData.SkinSection &lt;&gt; '') then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">754</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; if (ActivePage &lt;&gt; nil) and (ActivePage.SkinData.SkinSection &lt;&gt; '') then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">778</td>
<td class="TextItemNum AlignRight">755</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetSkinIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ActivePage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">779</td>
<td class="TextItemNum AlignRight">756</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">IsValidSkinIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">780</td>
<td class="TextItemNum AlignRight">757</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ActivePage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BoundsRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">781</td>
<td class="TextItemNum AlignRight">758</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ActivePage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">MakeCacheInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">782</td>
<td class="TextItemNum AlignRight">759</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">783</td>
<td class="TextItemNum AlignRight">760</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">834</td>
<td class="TextItemNum AlignRight">811</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">CanBeActive</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Page</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">PageControl</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">835</td>
<td class="TextItemNum AlignRight">812</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">836</td>
<td class="TextItemNum AlignRight">813</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">b</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">837</td>
<td class="TextItemNum AlignRight">814</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">838</td>
<td class="TextItemNum AlignRight">815</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">839</td>
<td class="TextItemNum AlignRight">816</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Page</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Page</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TabType</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">ttTab</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Page</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">840</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if Assigned(PageControl.On<span class="TextSegSigDiff">Page</span>Changing) then begin</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">841</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; PageControl.On<span class="TextSegSigDiff">Page</span>Changing(PageControl, Page, b);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">817</td>
<td class="TextItemSigDel">&nbsp; if Assigned(PageControl.OnChanging) then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">818</td>
<td class="TextItemSigDel">&nbsp; &nbsp; PageControl.OnChanging(PageControl, Page, b);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">842</td>
<td class="TextItemNum AlignRight">819</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">b</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">843</td>
<td class="TextItemNum AlignRight">820</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">844</td>
<td class="TextItemNum AlignRight">821</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">845</td>
<td class="TextItemNum AlignRight">822</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">846</td>
<td class="TextItemNum AlignRight">823</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">847</td>
<td class="TextItemNum AlignRight">824</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">949</td>
<td class="TextItemNum AlignRight">926</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PeekMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aMsg</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_PAINT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_PAINT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PM_REMOVE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Prevent automatic repainting</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">950</td>
<td class="TextItemNum AlignRight">927</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ProcessMessages</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">951</td>
<td class="TextItemNum AlignRight">928</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewItem</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewItem</span> <span class="TextSegElementOperator">&gt;</span><span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">PageCount</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">952</td>
<td class="TextItemNum AlignRight">929</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">953</td>
<td class="TextItemNum AlignRight">930</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FShowCloseBtns</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewItem</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">case</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TabType</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">954</td>
<td class="TextItemNum AlignRight">931</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ttTab</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Check if Close button was hovered</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">955</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitTabContentData(Canvas.Handle, Pages[NewItem], TabRect(<span class="TextSegSigDiff">TabIndexFromPageIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Ne</span>wItem<span class="TextSegSigDiff">)</span>), 1 + integer(Pages[NewItem] = ActivePage), False, TabData);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">932</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitTabContentData(Canvas.Handle, Pages[NewItem], TabRect(<span class="TextSegSigDiff">N</span><span class="TextSegSigDiff">e</span>wItem), 1 + integer(Pages[NewItem] = ActivePage), False, TabData);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">956</td>
<td class="TextItemNum AlignRight">933</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">PtInRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TabData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BtnRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">957</td>
<td class="TextItemNum AlignRight">934</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHoveredBtnIndex</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">958</td>
<td class="TextItemNum AlignRight">935</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHoveredBtnIndex</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">RepaintTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHoveredBtnIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">959</td>
<td class="TextItemNum AlignRight">936</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FHoveredBtnIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">960</td>
<td class="TextItemNum AlignRight">937</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RepaintTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FHoveredBtnIndex</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ActivePage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">961</td>
<td class="TextItemNum AlignRight">938</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1038</td>
<td class="TextItemNum AlignRight">1015</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RepaintTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1039</td>
<td class="TextItemNum AlignRight">1016</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnClickBtn</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnClickBtn</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1040</td>
<td class="TextItemNum AlignRight">1017</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1041</td>
<td class="TextItemNum AlignRight">1018</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1042</td>
<td class="TextItemNum AlignRight">1019</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1043</td>
<td class="TextItemNum AlignRight">1020</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FShowCloseBtns</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UseCloseBtn</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1044</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitTabContentData(Canvas.Handle, Pages[NewItem], TabRect(<span class="TextSegSigDiff">TabIndexFromPageIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Ne</span>wItem<span class="TextSegSigDiff">)</span>), 1 + integer(Pages[NewItem] = ActivePage), IsSpecialTab(NewItem), TabData);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1021</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitTabContentData(Canvas.Handle, Pages[NewItem], TabRect(<span class="TextSegSigDiff">N</span><span class="TextSegSigDiff">e</span>wItem), 1 + integer(Pages[NewItem] = ActivePage), IsSpecialTab(NewItem), TabData);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1045</td>
<td class="TextItemNum AlignRight">1022</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">PtInRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TabData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BtnRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">p</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1046</td>
<td class="TextItemNum AlignRight">1023</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_LBUTTONDOWN</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FPressedBtnIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1047</td>
<td class="TextItemNum AlignRight">1024</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RepaintTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ActivePage</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1048</td>
<td class="TextItemNum AlignRight">1025</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_LBUTTONUP</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1049</td>
<td class="TextItemNum AlignRight">1026</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">acBtnPressed</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1050</td>
<td class="TextItemNum AlignRight">1027</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Act</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">acaFree</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1051</td>
<td class="TextItemNum AlignRight">1028</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">b</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1052</td>
<td class="TextItemNum AlignRight">1029</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnCloseBtnClick</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OnCloseBtnClick</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">b</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Act</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1053</td>
<td class="TextItemNum AlignRight">1030</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">b</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1054</td>
<td class="TextItemNum AlignRight">1031</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ActivePageIndex</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1055</td>
<td class="TextItemNum AlignRight">1032</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1056</td>
<td class="TextItemNum AlignRight">1033</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Act</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">acaFree</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Free</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">NewItem</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TabVisible</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1057</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if <span class="TextSegSigDiff">(</span>i &gt;= <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">PageCount</span> <span class="TextSegSigDiff">&gt;</span> 0<span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1034</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if i &gt;= 0 then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1058</td>
<td class="TextItemNum AlignRight">1035</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ActivePage</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PageCount</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1059</td>
<td class="TextItemNum AlignRight">1036</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnChange</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OnChange</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1060</td>
<td class="TextItemNum AlignRight">1037</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1061</td>
<td class="TextItemNum AlignRight">1038</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1062</td>
<td class="TextItemNum AlignRight">1039</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1063</td>
<td class="TextItemNum AlignRight">1040</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1083</td>
<td class="TextItemNum AlignRight">1060</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LongInt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1084</td>
<td class="TextItemNum AlignRight">1061</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CommonWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1085</td>
<td class="TextItemNum AlignRight">1062</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CheckUpDown</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1086</td>
<td class="TextItemNum AlignRight">1063</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateBtnData</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1087</td>
<td class="TextItemNum AlignRight">1064</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1088</td>
<td class="TextItemNum AlignRight">1065</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AlphaBroadcast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1089</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">HandleAllocated</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">Showing</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csLoading</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csDestroying</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1090</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">RedrawWindow</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">RDW_ERASE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_INVALIDATE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_FRAME</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_UPDATENOW</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1091</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1092</td>
<td class="TextItemNum AlignRight">1066</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1093</td>
<td class="TextItemNum AlignRight">1067</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_REFRESH</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1094</td>
<td class="TextItemNum AlignRight">1068</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LongInt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1095</td>
<td class="TextItemNum AlignRight">1069</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CommonWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1096</td>
<td class="TextItemNum AlignRight">1070</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateBtnData</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1097</td>
<td class="TextItemNum AlignRight">1071</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">HandleAllocated</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Showing</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1107</td>
<td class="TextItemNum AlignRight">1081</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1108</td>
<td class="TextItemNum AlignRight">1082</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1109</td>
<td class="TextItemNum AlignRight">1083</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_SETNEWSKIN</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1110</td>
<td class="TextItemNum AlignRight">1084</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AlphaBroadcast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1111</td>
<td class="TextItemNum AlignRight">1085</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LongInt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">CommonWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1112</td>
<td class="TextItemNum AlignRight">1086</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateBtnData</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1113</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csLoading</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">SendMessage</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">WM_SIZE</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1114</td>
<td class="TextItemNum AlignRight">1087</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1115</td>
<td class="TextItemNum AlignRight">1088</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1116</td>
<td class="TextItemNum AlignRight">1089</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_PREPARING</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1117</td>
<td class="TextItemNum AlignRight">1090</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1118</td>
<td class="TextItemNum AlignRight">1091</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1119</td>
<td class="TextItemNum AlignRight">1092</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1329</td>
<td class="TextItemNum AlignRight">1302</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintButton</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ActivePage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemNum AlignRight">1303</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemNum AlignRight">1304</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">j</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemNum AlignRight">1305</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1333</td>
<td class="TextItemNum AlignRight">1306</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1334</td>
<td class="TextItemNum AlignRight">1307</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1335</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">var</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1336</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">bUpdating</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1337</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1338</td>
<td class="TextItemNum AlignRight">1308</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateBtnData</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1339</td>
<td class="TextItemNum AlignRight">1309</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1340</td>
<td class="TextItemNum AlignRight">1310</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">BtnWidth</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">iBtnWidth</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1341</td>
<td class="TextItemNum AlignRight">1311</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">BtnHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">iBtnHeight</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1342</td>
<td class="TextItemNum AlignRight">1312</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1345</td>
<td class="TextItemNum AlignRight">1315</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BtnIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetSkinIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CloseBtnSkin</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1346</td>
<td class="TextItemNum AlignRight">1316</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1347</td>
<td class="TextItemNum AlignRight">1317</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1348</td>
<td class="TextItemNum AlignRight">1318</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BtnIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaskIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">IndexGlobalInfo</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_GlobalInfo</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_SmallIconClose</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1349</td>
<td class="TextItemNum AlignRight">1319</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BtnIndex</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BtnIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaskIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">IndexGlobalInfo</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_GlobalInfo</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_BorderIconClose</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1350</td>
<td class="TextItemNum AlignRight">1320</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BtnIndex</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1351</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; BtnWidth := max(WidthOfImage(FCommonData.SkinManager.ma[BtnIndex]), 8);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1321</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; BtnWidth := max(WidthOfImage(FCommonData.SkinManager.ma[BtnIndex]), <span class="TextSegSigDiff">1</span>8);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1352</td>
<td class="TextItemNum AlignRight">1322</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BtnHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">HeightOfImage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">BtnIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1353</td>
<td class="TextItemNum AlignRight">1323</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1354</td>
<td class="TextItemNum AlignRight">1324</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1355</td>
<td class="TextItemNum AlignRight">1325</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1356</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">bUpdating</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1357</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">bUpdating</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1358</td>
<td class="TextItemNum AlignRight">1326</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SetPadding</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FShowCloseBtns</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1359</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">bUpdating</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1360</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1361</td>
<td class="TextItemNum AlignRight">1327</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1362</td>
<td class="TextItemNum AlignRight">1328</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemNum AlignRight">1329</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemNum AlignRight">1330</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetCloseBtnSkin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinSection</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemNum AlignRight">1331</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemNum AlignRight">1332</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCloseBtnSkin</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Value</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1382</td>
<td class="TextItemNum AlignRight">1348</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FindWindowEx</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">UPDOWN_CLASS</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1383</td>
<td class="TextItemNum AlignRight">1349</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">DestroyWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1384</td>
<td class="TextItemNum AlignRight">1350</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1385</td>
<td class="TextItemNum AlignRight">1351</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">RecreateWnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1386</td>
<td class="TextItemNum AlignRight">1352</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1387</td>
<td class="TextItemNum AlignRight">1353</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1388</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">TsPageControl</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SetTabPadding</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">const</span> <span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1389</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1390</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">FTabPadding</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">Value</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1391</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FTabPadding</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1392</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csLoading</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1393</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">UpdateBtnData</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1394</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">HandleAllocated</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Perform</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">WM_SIZE</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1395</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Invalidate</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1396</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1397</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1398</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1399</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1400</td>
<td class="TextItemNum AlignRight">1354</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetPadding</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1401</td>
<td class="TextItemNum AlignRight">1355</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemNum AlignRight">1356</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemNum AlignRight">1357</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1404</td>
<td class="TextItemNum AlignRight">1358</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Value</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1405</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if Images = nil then i <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">7</span> <span class="TextSegSigDiff">else</span> i <span class="TextSegSigDiff">:=</span> 4;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1406</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; SendMessage(Handle, TCM_SETPADDING, 0, MakeLParam(BtnWidth div 2 + i <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">FTabPadding</span>, 3))</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1359</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">i</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">4</span><span class="TextSegSigDiff">;</span>//2;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1360</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if Images = nil then i<span class="TextSegSigDiff">nc</span><span class="TextSegSigDiff">(</span>i<span class="TextSegSigDiff">,</span> 4<span class="TextSegSigDiff">)</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1361</td>
<td class="TextItemSigDel">&nbsp; &nbsp; SendMessage(Handle, TCM_SETPADDING, 0, MakeLParam(BtnWidth div 2 + i, 3))</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1407</td>
<td class="TextItemNum AlignRight">1362</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1408</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; else SendMessage(Handle, TCM_SETPADDING, 0, MakeLParam(6 <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">FTabPadding</span>, 3));</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1363</td>
<td class="TextItemSigDel">&nbsp; else SendMessage(Handle, TCM_SETPADDING, 0, MakeLParam(6, 3));</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1409</td>
<td class="TextItemNum AlignRight">1364</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1410</td>
<td class="TextItemNum AlignRight">1365</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1411</td>
<td class="TextItemNum AlignRight">1366</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BtnOffset</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TabHeight</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Active</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1412</td>
<td class="TextItemNum AlignRight">1367</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1413</td>
<td class="TextItemNum AlignRight">1368</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TabHeight</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">iBtnHeight</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">2</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1414</td>
<td class="TextItemNum AlignRight">1369</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1422</td>
<td class="TextItemNum AlignRight">1377</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1423</td>
<td class="TextItemNum AlignRight">1378</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1424</td>
<td class="TextItemNum AlignRight">1379</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CheckActiveTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TTabSheet</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1425</td>
<td class="TextItemNum AlignRight">1380</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1426</td>
<td class="TextItemNum AlignRight">1381</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1427</td>
<td class="TextItemNum AlignRight">1382</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1428</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if IsSpecialTab(PageIndex) <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">Pages</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">PageIndex</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">TabVisible</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1383</td>
<td class="TextItemSigDel">&nbsp; if IsSpecialTab(PageIndex) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1429</td>
<td class="TextItemNum AlignRight">1384</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">PageIndex</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">PageCount</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TabVisible</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">IsSpecialTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1430</td>
<td class="TextItemNum AlignRight">1385</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1431</td>
<td class="TextItemNum AlignRight">1386</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1432</td>
<td class="TextItemNum AlignRight">1387</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1433</td>
<td class="TextItemNum AlignRight">1388</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">PageIndex</span> <span class="TextSegElementKeyword">downto</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TabVisible</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">IsSpecialTab</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1434</td>
<td class="TextItemNum AlignRight">1389</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Pages</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1996</td>
<td class="TextItemNum AlignRight">1951</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetRotateCaptions</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1997</td>
<td class="TextItemNum AlignRight">1952</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1998</td>
<td class="TextItemNum AlignRight">1953</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1999</td>
<td class="TextItemNum AlignRight">1954</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2000</td>
<td class="TextItemNum AlignRight">1955</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FRotateCaptions</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Value</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2001</td>
<td class="TextItemNum AlignRight">1956</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FRotateCaptions</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2002</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if not (csLoading in ComponentState) and <span class="TextSegSigDiff">(</span>Visibl<span class="TextSegSigDiff">e</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csDesigning</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">))</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1957</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if not (csLoading in ComponentState) and Visibl<span class="TextSegSigDiff">e</span> then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2003</td>
<td class="TextItemNum AlignRight">1958</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2004</td>
<td class="TextItemNum AlignRight">1959</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FRotateCaptions</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2005</td>
<td class="TextItemNum AlignRight">1960</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">PageCount</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TabRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">24</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">24</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2006</td>
<td class="TextItemNum AlignRight">1961</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TabPosition</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">tpTop</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">tpBottom</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2007</td>
<td class="TextItemNum AlignRight">1962</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TabWidth</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2008</td>
<td class="TextItemNum AlignRight">1963</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TabHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">max</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">140</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2024</td>
<td class="TextItemNum AlignRight">1979</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2025</td>
<td class="TextItemNum AlignRight">1980</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2026</td>
<td class="TextItemNum AlignRight">1981</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetActiveIsBold</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2027</td>
<td class="TextItemNum AlignRight">1982</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2028</td>
<td class="TextItemNum AlignRight">1983</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FActiveIsBold</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Value</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2029</td>
<td class="TextItemNum AlignRight">1984</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FActiveIsBold</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2030</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if not (csLoading in ComponentState) and <span class="TextSegSigDiff">(</span>Visibl<span class="TextSegSigDiff">e</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csDesigning</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">))</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1985</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if not (csLoading in ComponentState) and Visibl<span class="TextSegSigDiff">e</span> then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2031</td>
<td class="TextItemNum AlignRight">1986</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2032</td>
<td class="TextItemNum AlignRight">1987</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2033</td>
<td class="TextItemNum AlignRight">1988</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2034</td>
<td class="TextItemNum AlignRight">1989</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2035</td>
<td class="TextItemNum AlignRight">1990</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2036</td>
<td class="TextItemNum AlignRight">1991</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2085</td>
<td class="TextItemNum AlignRight">2040</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2086</td>
<td class="TextItemNum AlignRight">2041</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2087</td>
<td class="TextItemNum AlignRight">2042</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetTabSkin</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinSection</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2088</td>
<td class="TextItemNum AlignRight">2043</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2089</td>
<td class="TextItemNum AlignRight">2044</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FTabSkin</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Value</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2090</td>
<td class="TextItemNum AlignRight">2045</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FTabSkin</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2091</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if (PageControl &lt;&gt; nil) and not (csLoading in PageControl.ComponentState) and <span class="TextSegSigDiff">(</span>Visible <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csDesigning</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">))</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2046</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if (PageControl &lt;&gt; nil) and not (csLoading in PageControl.ComponentState) and <span class="TextSegSigDiff">PageControl</span><span class="TextSegSigDiff">.</span>Visible then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2092</td>
<td class="TextItemNum AlignRight">2047</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2093</td>
<td class="TextItemNum AlignRight">2048</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2094</td>
<td class="TextItemNum AlignRight">2049</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2095</td>
<td class="TextItemNum AlignRight">2050</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2096</td>
<td class="TextItemNum AlignRight">2051</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2097</td>
<td class="TextItemNum AlignRight">2052</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2135</td>
<td class="TextItemNum AlignRight">2090</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2136</td>
<td class="TextItemNum AlignRight">2091</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2137</td>
<td class="TextItemNum AlignRight">2092</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsTabSheet</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WMNCPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TWMPaint</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2138</td>
<td class="TextItemNum AlignRight">2093</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2139</td>
<td class="TextItemNum AlignRight">2094</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hdc</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2140</td>
<td class="TextItemNum AlignRight">2095</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2141</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if not (csDestroying in ComponentState) and (BorderWidth &gt; 0) and Showing <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">InAnimationProcess</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2096</td>
<td class="TextItemSigDel">&nbsp; if not (csDestroying in ComponentState) and (BorderWidth &gt; 0) and Showing then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2142</td>
<td class="TextItemNum AlignRight">2097</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2143</td>
<td class="TextItemNum AlignRight">2098</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Updating</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2144</td>
<td class="TextItemNum AlignRight">2099</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2145</td>
<td class="TextItemNum AlignRight">2100</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CtrlSkinState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ACS_PRINTING</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ACS_PRINTING</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PrintDC</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetWindowDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2146</td>
<td class="TextItemNum AlignRight">2101</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBltBorder</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BorderWidth</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2147</td>
<td class="TextItemNum AlignRight">2102</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DC</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ReleaseDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2178</td>
<td class="TextItemNum AlignRight">2133</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AlphaBroadCast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2179</td>
<td class="TextItemNum AlignRight">2134</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2180</td>
<td class="TextItemNum AlignRight">2135</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_SETNEWSKIN</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2181</td>
<td class="TextItemNum AlignRight">2136</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AlphaBroadCast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2182</td>
<td class="TextItemNum AlignRight">2137</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2183</td>
<td class="TextItemNum AlignRight">2138</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_REFRESH</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2184</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if (Message.LParam = LongInt(TsPageControl(PageControl).SkinData.SkinManager)) and <span class="TextSegSigDiff">(</span>Visibl<span class="TextSegSigDiff">e</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csDesigning</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">))</span> then Repaint;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2139</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; if (Message.LParam = LongInt(TsPageControl(PageControl).SkinData.SkinManager)) and Visibl<span class="TextSegSigDiff">e</span> then Repaint;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2185</td>
<td class="TextItemNum AlignRight">2140</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AlphaBroadCast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2186</td>
<td class="TextItemNum AlignRight">2141</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2187</td>
<td class="TextItemNum AlignRight">2142</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_GETBG</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2188</td>
<td class="TextItemNum AlignRight">2143</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinSection</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementString">''</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2189</td>
<td class="TextItemNum AlignRight">2144</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PacBGInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BgType</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">btCache</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2190</td>
<td class="TextItemNum AlignRight">2145</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PacBGInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PageControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2238</td>
<td class="TextItemNum AlignRight">2193</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParamLo</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">WM_CREATE</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2239</td>
<td class="TextItemNum AlignRight">2194</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AddToAdapter</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2240</td>
<td class="TextItemNum AlignRight">2195</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SendAMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">THandle</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">AC_GETSKINSTATE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2241</td>
<td class="TextItemNum AlignRight">2196</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2242</td>
<td class="TextItemNum AlignRight">2197</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2243</td>
<td class="TextItemNum AlignRight">2198</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2244</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; WM_PAINT : if <span class="TextSegSigDiff">(</span>Visibl<span class="TextSegSigDiff">e</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">csDesigning</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">ComponentState</span><span class="TextSegSigDiff">))</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2199</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; WM_PAINT : if Visibl<span class="TextSegSigDiff">e</span> then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2245</td>
<td class="TextItemNum AlignRight">2200</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDestroying</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Parent</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Background update</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2246</td>
<td class="TextItemNum AlignRight">2201</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InvalidateRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Background update (for repaint of graphic controls and for tansheets refreshing)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2247</td>
<td class="TextItemNum AlignRight">2202</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2248</td>
<td class="TextItemNum AlignRight">2203</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BeginPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PS</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2249</td>
<td class="TextItemNum AlignRight">2204</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">EndPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PS</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2250</td>
<td class="TextItemNum AlignRight">2205</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2261</td>
<td class="TextItemNum AlignRight">2216</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2262</td>
<td class="TextItemNum AlignRight">2217</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2263</td>
<td class="TextItemNum AlignRight">2218</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span>&nbsp; &nbsp; </td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2264</td>
<td class="TextItemNum AlignRight">2219</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2265</td>
<td class="TextItemNum AlignRight">2220</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_ENABLEDCHANGED</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDestroying</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Parent</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2266</td>
<td class="TextItemNum AlignRight">2221</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TsPageControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Parent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2267</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">ed</span><span class="TextSegSigDiff">rawWindow</span>(Parent.<span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> R<span class="TextSegSigDiff">DW_ERASE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_</span>IN<span class="TextSegSigDiff">VALIDATE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_FRAME</span><span class="TextSegSigDiff">)</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2222</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">TsPageContr</span><span class="TextSegSigDiff">ol</span>(Parent<span class="TextSegSigDiff">)</span>.R<span class="TextSegSigDiff">epa</span>in<span class="TextSegSigDiff">t</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2268</td>
<td class="TextItemNum AlignRight">2223</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2269</td>
<td class="TextItemNum AlignRight">2224</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2270</td>
<td class="TextItemNum AlignRight">2225</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2271</td>
<td class="TextItemNum AlignRight">2226</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2272</td>
<td class="TextItemNum AlignRight">2227</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TsTabSkinData }</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2273</td>
<td class="TextItemNum AlignRight">2228</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sPanel.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemNum AlignRight">191</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">b</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UrgentPainting</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">PrepareCache</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemNum AlignRight">192</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CopyWinControlCache</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">NewDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemNum AlignRight">193</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">sVCLUtils</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PaintControls</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">b</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">RepaintIfMoved</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemNum AlignRight">194</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemNum AlignRight">195</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemNum AlignRight">196</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FCommonData.<span class="TextSegSigDiff">F</span>Updating := False;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">197</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; FCommonData.Updating := False;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemNum AlignRight">198</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinBorderMaxWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemNum AlignRight">199</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemNum AlignRight">200</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SavedDC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SaveDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewDC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemNum AlignRight">201</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemNum AlignRight">202</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ExcludeControls</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">actGraphic</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">203</td>
<td class="TextItemNum AlignRight">203</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ParentBG</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PleaseDraw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">230</td>
<td class="TextItemNum AlignRight">229</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementNumber">0</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">iffi</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomColor</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">231</td>
<td class="TextItemNum AlignRight">230</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementNumber">100</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ParentBG</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">232</td>
<td class="TextItemNum AlignRight">231</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">C</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">MixColors</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ParentBG</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">iffi</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomColor</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">gd</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinIndex</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Transparency</span> <span class="TextSegElementOperator">/</span> <span class="TextSegElementNumber">100</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">233</td>
<td class="TextItemNum AlignRight">232</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">234</td>
<td class="TextItemNum AlignRight">233</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">235</td>
<td class="TextItemNum AlignRight">234</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">236</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">gd</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Transparency</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">100</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">IsValidImgIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">DrawMode</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">BDM_FILL</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">BDM_FILL</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">237</td>
<td class="TextItemNum AlignRight">235</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">PaintBorderFast</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">238</td>
<td class="TextItemNum AlignRight">236</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">NewDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">C</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">239</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BitBltBorder(NewDC, 0, 0, Width, Height, FCommonData.FCacheBmp.Canvas.Handle, 0, 0, i);</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">240</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">237</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">i</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> BitBltBorder(NewDC, 0, 0, Width, Height, FCommonData.FCacheBmp.Canvas.Handle, 0, 0, i);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">241</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">242</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintBorderFast</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">NewDC</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">244</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">BitBlt</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">NewDC</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SRCCOPY</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">245</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">246</td>
<td class="TextItemNum AlignRight">238</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">247</td>
<td class="TextItemNum AlignRight">239</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">248</td>
<td class="TextItemNum AlignRight">240</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ClientRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">249</td>
<td class="TextItemNum AlignRight">241</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">BorderWidth</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BevelInner</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">bvNone</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">BevelWidth</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BevelOuter</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">bvNone</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">BevelWidth</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">250</td>
<td class="TextItemNum AlignRight">242</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InflateRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">251</td>
<td class="TextItemNum AlignRight">243</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">386</td>
<td class="TextItemNum AlignRight">374</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">387</td>
<td class="TextItemNum AlignRight">375</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">388</td>
<td class="TextItemNum AlignRight">376</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetParentUpdated</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">389</td>
<td class="TextItemNum AlignRight">377</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">390</td>
<td class="TextItemNum AlignRight">378</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">391</td>
<td class="TextItemNum AlignRight">379</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_PREPARING</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">392</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; Message.Result := integer(FCommonData.Updating or <span class="TextSegSigDiff">((</span>FCommonData.FCacheBmp.<span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheB</span>mp<span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Heigh</span>t <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">))</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">IsCached</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">)</span>);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">380</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; Message.Result := integer(FCommonData.Updating or FCommonData.FCacheBmp.<span class="TextSegSigDiff">E</span>mpt<span class="TextSegSigDiff">y</span>);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">393</td>
<td class="TextItemNum AlignRight">381</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">394</td>
<td class="TextItemNum AlignRight">382</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">395</td>
<td class="TextItemNum AlignRight">383</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">CommonMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">396</td>
<td class="TextItemNum AlignRight">384</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">397</td>
<td class="TextItemNum AlignRight">385</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">398</td>
<td class="TextItemNum AlignRight">386</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sPopupClndr.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemNum AlignRight">115</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsCustomDateEdit</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnChange</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">TsCustomDateEdit</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnChange</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsCustomDateEdit</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemNum AlignRight">116</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemNum AlignRight">117</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetFocus</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemNum AlignRight">118</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AutoSelect</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SelectAll</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemNum AlignRight">119</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemNum AlignRight">120</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Close</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">CloseUp</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemNum AlignRight">121</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemNum AlignRight">122</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">VK_ESCAPE</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">FEditor</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Visible</span> <span class="TextSegSigDiff">then</span> FEditor.SetFocus;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">123</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; FEditor.SetFocus;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemNum AlignRight">124</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Close</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">CloseUp</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemNum AlignRight">125</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">128</td>
<td class="TextItemNum AlignRight">126</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">129</td>
<td class="TextItemNum AlignRight">127</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">130</td>
<td class="TextItemNum AlignRight">128</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">131</td>
<td class="TextItemNum AlignRight">129</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPopupCalendar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormShow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TObject</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">132</td>
<td class="TextItemNum AlignRight">130</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">156</td>
<td class="TextItemNum AlignRight">154</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">CanAccept</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">157</td>
<td class="TextItemNum AlignRight">155</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TsCustomDateEdit</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Date</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">d</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">158</td>
<td class="TextItemNum AlignRight">156</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsCustomDateEdit</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnChange</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">TsCustomDateEdit</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnChange</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsCustomDateEdit</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemNum AlignRight">157</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Visible</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemNum AlignRight">158</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Visible</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemNum AlignRight">159</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FEditor</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetFocus</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">CloseUp</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if FEditor.<span class="TextSegSigDiff">Focused</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">FEditor</span><span class="TextSegSigDiff">.</span>AutoSelect then FEditor.SelectAll;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">160</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; if FEditor.AutoSelect then FEditor.SelectAll;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemNum AlignRight">161</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Closed already</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemNum AlignRight">162</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemNum AlignRight">163</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">167</td>
<td class="TextItemNum AlignRight">164</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">168</td>
<td class="TextItemNum AlignRight">165</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">CanAccept</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Close</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">169</td>
<td class="TextItemNum AlignRight">166</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">174</td>
<td class="TextItemNum AlignRight">171</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">175</td>
<td class="TextItemNum AlignRight">172</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">176</td>
<td class="TextItemNum AlignRight">173</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPopupCalendar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormClose</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TObject</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">Action</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCloseAction</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">177</td>
<td class="TextItemNum AlignRight">174</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">178</td>
<td class="TextItemNum AlignRight">175</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sMonthCalendar1</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FGrid</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Clicked</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">179</td>
<td class="TextItemNum AlignRight">176</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">Inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">177</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">CloseUp</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">180</td>
<td class="TextItemNum AlignRight">178</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">181</td>
<td class="TextItemNum AlignRight">179</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">182</td>
<td class="TextItemNum AlignRight">180</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsPopupCalendar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CreateParams</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">Params</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCreateParams</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">183</td>
<td class="TextItemNum AlignRight">181</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">184</td>
<td class="TextItemNum AlignRight">182</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">185</td>
<td class="TextItemNum AlignRight">183</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Params</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Params</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Style</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">WS_CLIPSIBLINGS</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sPropEditors.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemNum AlignRight">253</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemNum AlignRight">254</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinNameProperty</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetValues</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Proc</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TGetStrProc</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TSearchRec</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DosCode</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; s<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">sDir</span> : string;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemSigDel">&nbsp; s : string;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// Internal skins names loading</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">GetComponent</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InternalSkins</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">GetComponent</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InternalSkins</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Proc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">GetComponent</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InternalSkins</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Name</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemNum AlignRight">268</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// External skins names loading</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; s<span class="TextSegSigDiff">Dir</span> := TsSkinManager(GetComponent(0)).GetFullskinDirectory;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DirectoryExists</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sDir</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">s</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">sDir</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">'\*.*'</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">269</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DirectoryExists</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TsSkinManager</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">GetComponent</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">GetFullskinDirectory</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemSigDel">&nbsp; &nbsp; s := TsSkinManager(GetComponent(0)).GetFullskinDirectory <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">'\*.*'</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DosCode</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FindFirst</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">faVolumeID</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">faDirectory</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">while</span> <span class="TextSegElementIdentifier">DosCode</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Name</span><span class="TextSegElementOperator">[</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementString">'.'</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementComment">{(SkinType in. [stUnpacked, stAllSkins]) and}</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attr</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">faDirectory</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">faDirectory</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">FileExists</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sDir</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">FileInfo</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Name</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">'\'</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">OptionsDatName</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> Proc(FileInfo.Name); // If 'Options.dat' file exists</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Proc(FileInfo.Name);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementComment">{ (SkinType in [stPacked, stAllSkins]) and}</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Attr</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">faDirectory</span> <span class="TextSegElementOperator">&lt;&gt;</span> <span class="TextSegElementIdentifier">faDirectory</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ExtractFileExt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Name</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">'.'</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">acSkinExt</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">s</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ExtractWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FileInfo</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Name</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementString">'.'</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Proc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">s</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">284</td>
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sRadioButton.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">730</td>
<td class="TextItemNum AlignRight">730</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">WM_LBUTTONDBLCLK</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">731</td>
<td class="TextItemNum AlignRight">731</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnDblClick</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OnDblClick</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">732</td>
<td class="TextItemNum AlignRight">732</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">733</td>
<td class="TextItemNum AlignRight">733</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OnMouseDown</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OnMouseDown</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mbLeft</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">KeysToShiftState</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMMouse</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Keys</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TWMMouse</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">XPos</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">TWMMouse</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">YPos</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">734</td>
<td class="TextItemNum AlignRight">734</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">735</td>
<td class="TextItemNum AlignRight">735</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">736</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; WM_KEYUP : if <span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">and</span> not (csDesigning in ComponentState) and <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TWMKey</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Messag</span><span class="TextSegSigDiff">e</span><span class="TextSegSigDiff">).</span><span class="TextSegSigDiff">CharCode</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">VK_SPACE</span><span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">736</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; WM_KEYUP : if not (csDesigning in ComponentState) and <span class="TextSegSigDiff">En</span><span class="TextSegSigDiff">able</span><span class="TextSegSigDiff">d</span> then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">737</td>
<td class="TextItemNum AlignRight">737</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ReadOnly</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">738</td>
<td class="TextItemNum AlignRight">738</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FPressed</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">739</td>
<td class="TextItemNum AlignRight">739</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FPressed</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">740</td>
<td class="TextItemNum AlignRight">740</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Checked</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">741</td>
<td class="TextItemNum AlignRight">741</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">742</td>
<td class="TextItemNum AlignRight">742</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Repaint</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSkinManager.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">8</td>
<td class="TextItemNum AlignRight">8</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Windows</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Messages</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SysUtils</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Classes</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Graphics</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Controls</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Forms</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Dialogs</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sDefaults</span><span class="TextSegElementOperator">,</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">9</td>
<td class="TextItemNum AlignRight">9</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sConst</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">IniFiles</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sMaskData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sSkinMenus</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">jpeg</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sStyleSimply</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">acSkinPack</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">menus</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">acntUtils</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">10</td>
<td class="TextItemNum AlignRight">10</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementCompiler_32Directive">{$IFDEF LOGGED}</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sDebugMsgs</span><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">11</td>
<td class="TextItemNum AlignRight">11</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">12</td>
<td class="TextItemNum AlignRight">12</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF NOTFORHELP}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">13</td>
<td class="TextItemNum AlignRight">13</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">const</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">14</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; CurrentVersion = '7.4<span class="TextSegSigDiff">2</span>';</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">14</td>
<td class="TextItemSigDel">&nbsp; CurrentVersion = '7.4<span class="TextSegSigDiff">1</span>';</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">15</td>
<td class="TextItemNum AlignRight">15</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">16</td>
<td class="TextItemNum AlignRight">16</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span> <span class="TextSegElementComment">// NOTFORHELP</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">17</td>
<td class="TextItemNum AlignRight">17</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">18</td>
<td class="TextItemNum AlignRight">18</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$R sxb.res}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">19</td>
<td class="TextItemNum AlignRight">19</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">20</td>
<td class="TextItemNum AlignRight">20</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">type</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemNum AlignRight">255</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FActiveControl</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemNum AlignRight">256</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">GlobalHookInstalled</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemNum AlignRight">257</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FSkinningRules</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacSkinningRules</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemNum AlignRight">258</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FThirdParty</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">ThirdPartyList</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemNum AlignRight">259</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FExtendedBorders</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemNum AlignRight">260</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FEffects</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacSkinEffects</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FActiveGraphControl</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TGraphicControl</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemNum AlignRight">261</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetSkinName</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinName</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemNum AlignRight">262</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetSkinDirectory</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemNum AlignRight">263</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetActive</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemNum AlignRight">264</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetBuiltInSkins</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsStoredSkins</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemNum AlignRight">265</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetSkinnedPopups</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">267</td>
<td class="TextItemNum AlignRight">266</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetVersion</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemNum AlignRight">270</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetHueOffset</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemNum AlignRight">271</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetSaturation</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemNum AlignRight">272</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetIsDefault</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemNum AlignRight">273</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetIsDefault</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemNum AlignRight">274</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">MainWindowHook</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemNum AlignRight">275</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetActiveControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">SetActiveGraphControl</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">const</span> <span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TGraphicControl</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span> </td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemNum AlignRight">276</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetFSkinningRules</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacSkinningRules</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemNum AlignRight">277</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetExtendedBorders</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemNum AlignRight">278</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetAllowGlowing</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemNum AlignRight">279</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetExtendedBorders</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">282</td>
<td class="TextItemNum AlignRight">280</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">SetAllowGlowing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementCompiler_32Directive">{$IFDEF WARN_DEPRECATED}</span> <span class="TextSegElementKeyword">deprecated</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">283</td>
<td class="TextItemNum AlignRight">281</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">protected</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemNum AlignRight">326</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemNum AlignRight">327</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">Notification</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AComponent</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Operation</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TOperation</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">override</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemNum AlignRight">328</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">UpdateSkinSection</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SectionName</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemNum AlignRight">329</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">GroupIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FGroupIndex</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FGroupIndex</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemNum AlignRight">330</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">SkinableMenus</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinableMenus</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FSkinableMenus</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">FSkinableMenus</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemNum AlignRight">331</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">property</span> <span class="TextSegElementIdentifier">ActiveControl</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span> <span class="TextSegElementKeyword">read</span> <span class="TextSegElementIdentifier">FActiveControl</span> <span class="TextSegElementKeyword">write</span> <span class="TextSegElementIdentifier">SetActiveControl</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">property</span> <span class="TextSegSigDiff">ActiveGraphControl</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TGraphicControl</span> <span class="TextSegSigDiff">read</span> <span class="TextSegSigDiff">FActiveGraphControl</span> <span class="TextSegSigDiff">write</span> <span class="TextSegSigDiff">SetActiveGraphControl</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemNum AlignRight">332</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">RepaintForms</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DoLockForms</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemNum AlignRight">333</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetSkinIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SkinSection</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemNum AlignRight">334</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetMaskIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mask</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">overload</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemNum AlignRight">335</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetMaskIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mask</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">overload</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemNum AlignRight">336</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetTextureIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PropName</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemNum AlignRight">337</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">GetPatternIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinIndex</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">SkinSection</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">pattern</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">string</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">533</td>
<td class="TextItemNum AlignRight">530</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">534</td>
<td class="TextItemNum AlignRight">531</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Checkbits</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">535</td>
<td class="TextItemNum AlignRight">532</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">536</td>
<td class="TextItemNum AlignRight">533</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">537</td>
<td class="TextItemNum AlignRight">534</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Left bottom</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">538</td>
<td class="TextItemNum AlignRight">535</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">l</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">539</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; t := mask.R.Top + <span class="TextSegSigDiff">Heig</span><span class="TextSegSigDiff">ht</span>Of(mask.R) div (mask.MaskType + 1) - mask.WB;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">536</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; t := mask.R.Top + <span class="TextSegSigDiff">W</span><span class="TextSegSigDiff">idth</span>Of(mask.R) div (mask.MaskType + 1) - mask.WB;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">540</td>
<td class="TextItemNum AlignRight">537</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">w</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WL</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">541</td>
<td class="TextItemNum AlignRight">538</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">t</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WB</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">542</td>
<td class="TextItemNum AlignRight">539</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Checkbits</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">543</td>
<td class="TextItemNum AlignRight">540</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">544</td>
<td class="TextItemNum AlignRight">541</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">545</td>
<td class="TextItemNum AlignRight">542</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Right bottom</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">546</td>
<td class="TextItemNum AlignRight">543</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">l</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageCount</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WR</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">547</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; t := mask.R.Top + <span class="TextSegSigDiff">Heig</span><span class="TextSegSigDiff">ht</span>Of(mask.R) div (mask.MaskType + 1) - mask.WB;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">544</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; t := mask.R.Top + <span class="TextSegSigDiff">W</span><span class="TextSegSigDiff">idth</span>Of(mask.R) div (mask.MaskType + 1) - mask.WB;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">548</td>
<td class="TextItemNum AlignRight">545</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">w</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WL</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemNum AlignRight">546</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">h</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">min</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">t</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">mask</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WB</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">550</td>
<td class="TextItemNum AlignRight">547</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Checkbits</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">551</td>
<td class="TextItemNum AlignRight">548</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">552</td>
<td class="TextItemNum AlignRight">549</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">553</td>
<td class="TextItemNum AlignRight">550</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Fast32</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Free</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2878</td>
<td class="TextItemNum AlignRight">2875</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2879</td>
<td class="TextItemNum AlignRight">2876</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_DRAWMENUBORDER</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinnedPopups</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2880</td>
<td class="TextItemNum AlignRight">2877</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FMenuItem</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TMenuItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2881</td>
<td class="TextItemNum AlignRight">2878</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FMenuItem</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2882</td>
<td class="TextItemNum AlignRight">2879</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">GetMenuItemRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FMenuItem</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">GetMenuItemRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PopupList</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Window</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FMenuItem</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2883</td>
<td class="TextItemNum AlignRight">2880</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WindowFromPoint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">r</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">r</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">r</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">r</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2884</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Wnd &lt;&gt; 0) <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">GetWndClassName</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Wnd</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">'#32768'</span><span class="TextSegSigDiff">)</span> then begin // If menu is found</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2881</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Wnd &lt;&gt; 0) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2885</td>
<td class="TextItemNum AlignRight">2882</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">mi</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMenuInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FMenuItem</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2886</td>
<td class="TextItemNum AlignRight">2883</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DrawWndBorder</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2887</td>
<td class="TextItemNum AlignRight">2884</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2888</td>
<td class="TextItemNum AlignRight">2885</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2889</td>
<td class="TextItemNum AlignRight">2886</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2890</td>
<td class="TextItemNum AlignRight">2887</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2904</td>
<td class="TextItemNum AlignRight">2901</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">finally</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2905</td>
<td class="TextItemNum AlignRight">2902</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2906</td>
<td class="TextItemNum AlignRight">2903</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2907</td>
<td class="TextItemNum AlignRight">2904</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2908</td>
<td class="TextItemNum AlignRight">2905</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_DRAWMENUBORDER2</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SkinnedPopups</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2909</td>
<td class="TextItemNum AlignRight">2906</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">HWND</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2910</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if (Wnd &lt;&gt; 0) <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">GetWndClassName</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Wnd</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">'#32768'</span><span class="TextSegSigDiff">)</span> then begin // If menu is found</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2907</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; if (Wnd &lt;&gt; 0) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2911</td>
<td class="TextItemNum AlignRight">2908</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">mi</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMenuInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2912</td>
<td class="TextItemNum AlignRight">2909</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DrawWndBorder</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2913</td>
<td class="TextItemNum AlignRight">2910</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2914</td>
<td class="TextItemNum AlignRight">2911</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2915</td>
<td class="TextItemNum AlignRight">2912</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2916</td>
<td class="TextItemNum AlignRight">2913</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementNumber">$031A</span><span class="TextSegElementComment">{ &lt;- WM_THEMECHANGED}</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3175</td>
<td class="TextItemNum AlignRight">3172</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3176</td>
<td class="TextItemNum AlignRight">3173</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3177</td>
<td class="TextItemNum AlignRight">3174</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetActiveControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3178</td>
<td class="TextItemNum AlignRight">3175</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3179</td>
<td class="TextItemNum AlignRight">3176</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">OldHwnd</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">hwnd</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3180</td>
<td class="TextItemNum AlignRight">3177</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3181</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if <span class="TextSegSigDiff">(</span>FActiveControl &lt;&gt; Value<span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3178</td>
<td class="TextItemSigDel">&nbsp; if FActiveControl &lt;&gt; Value then begin</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3182</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3183</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FActiveControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FActiveGraphControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3184</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ActiveGraphControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3185</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FActiveGraphControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span> // If control is hot still</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3186</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3187</td>
<td class="TextItemNum AlignRight">3179</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">OldHwnd</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FActiveControl</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3188</td>
<td class="TextItemNum AlignRight">3180</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FActiveControl</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3189</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if OldHwnd &lt;&gt; 0 then SendAMessage(OldHwnd, AC_MOUSELEAVE, Long<span class="TextSegSigDiff">int</span>(Self));</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3190</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">FActiveControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3191</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; SendAMessage(FActiveControl, AC_MOUSEENTER, Long<span class="TextSegSigDiff">int</span>(Self));</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3192</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3181</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if OldHwnd &lt;&gt; 0 then SendAMessage(OldHwnd, AC_MOUSELEAVE, Long<span class="TextSegSigDiff">Word</span>(Self));</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3182</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">FActiveControl</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> SendAMessage(FActiveControl, AC_MOUSEENTER, Long<span class="TextSegSigDiff">Word</span>(Self));</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3193</td>
<td class="TextItemNum AlignRight">3183</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3194</td>
<td class="TextItemNum AlignRight">3184</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3195</td>
<td class="TextItemNum AlignRight">3185</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3196</td>
<td class="TextItemNum AlignRight">3186</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InstallHook</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3197</td>
<td class="TextItemNum AlignRight">3187</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3198</td>
<td class="TextItemNum AlignRight">3188</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">dwThreadID</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">DWORD</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3384</td>
<td class="TextItemNum AlignRight">3374</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3385</td>
<td class="TextItemNum AlignRight">3375</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SetAllowGlowing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">const</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3386</td>
<td class="TextItemNum AlignRight">3376</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3387</td>
<td class="TextItemNum AlignRight">3377</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Effects</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AllowGlowing</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Value</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3388</td>
<td class="TextItemNum AlignRight">3378</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3389</td>
<td class="TextItemNum AlignRight">3379</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3390</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">procedure</span> <span class="TextSegSigDiff">TsSkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SetActiveGraphControl</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">const</span> <span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TGraphicControl</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3391</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3392</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">OldControl</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">TGraphicControl</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3393</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">l</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3394</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3395</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Value</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">FActiveGraphControl</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3396</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3397</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Value</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FActiveGraphControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3398</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">l</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FActiveGraphControl</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Perform</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SM_ALPHACMD</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MakeWParam</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">AC_GETSKINDATA</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3399</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">l</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">TsCommonData</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">l</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FMouseAbove</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3400</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3401</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">OldControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FActiveGraphControl</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3402</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FActiveGraphControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Value</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3403</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FActiveGraphControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FActiveControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">ActiveControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3404</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">OldControl</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">OldControl</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Perform</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SM_ALPHACMD</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">MakeWParam</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">AC_MOUSELEAVE</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Longint</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3405</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3406</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd"><span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3407</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3408</td>
<td class="TextItemNum AlignRight">3380</td>
<td class="TextItemSame"><span class="TextSegElementComment">{ TsStoredSkins }</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3409</td>
<td class="TextItemNum AlignRight">3381</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3410</td>
<td class="TextItemNum AlignRight">3382</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsStoredSkins</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Assign</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Source</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TPersistent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3411</td>
<td class="TextItemNum AlignRight">3383</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3412</td>
<td class="TextItemNum AlignRight">3384</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSkinMenus.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemNum AlignRight">338</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Br</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Breaked</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemNum AlignRight">339</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TempControl</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemNum AlignRight">340</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ShowHintStored</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ShowHint</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">AppShowHint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemNum AlignRight">341</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SendAMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TControl</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TempControl</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_MOUSELEAVE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemNum AlignRight">342</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">TempControl</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemNum AlignRight">343</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">ACanvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Lock</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemNum AlignRight">344</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemNum AlignRight">345</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsNT</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">WindowFromDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">347</td>
<td class="TextItemNum AlignRight">346</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Wnd</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">GetWindowRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">348</td>
<td class="TextItemNum AlignRight">347</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TopLeft</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">349</td>
<td class="TextItemNum AlignRight">348</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ParentWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">BorderWidth</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">350</td>
<td class="TextItemNum AlignRight">349</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ParentHeight</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">BorderWidth</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">381</td>
<td class="TextItemNum AlignRight">380</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; end; problem of LC, must be checked}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">382</td>
<td class="TextItemNum AlignRight">381</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">383</td>
<td class="TextItemNum AlignRight">382</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">384</td>
<td class="TextItemNum AlignRight">383</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">385</td>
<td class="TextItemNum AlignRight">384</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">IsLine</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">386</td>
<td class="TextItemNum AlignRight">385</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintDivider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aCanvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGImage</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">387</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ACanvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">UnLock</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">388</td>
<td class="TextItemNum AlignRight">386</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">389</td>
<td class="TextItemNum AlignRight">387</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">390</td>
<td class="TextItemNum AlignRight">388</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsDivText</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">391</td>
<td class="TextItemNum AlignRight">389</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">mi</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetMenuInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Wnd</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">392</td>
<td class="TextItemNum AlignRight">390</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintCaption</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aCanvas</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGImage</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">393</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ACanvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">UnLock</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">394</td>
<td class="TextItemNum AlignRight">391</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">395</td>
<td class="TextItemNum AlignRight">392</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">396</td>
<td class="TextItemNum AlignRight">393</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">it</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">smNormal</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">397</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if BGImage = nil then <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">398</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ACanvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">UnLock</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">399</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">400</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">394</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if BGImage = nil then <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">401</td>
<td class="TextItemNum AlignRight">395</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">402</td>
<td class="TextItemNum AlignRight">396</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Check for multi-columned menus...</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">403</td>
<td class="TextItemNum AlignRight">397</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MenuIndex</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">404</td>
<td class="TextItemNum AlignRight">398</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Items</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MenuIndex</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Break</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">mbNone</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">405</td>
<td class="TextItemNum AlignRight">399</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGImage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">6</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGImage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bottom</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SrcCopy</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">406</td>
<td class="TextItemNum AlignRight">400</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">594</td>
<td class="TextItemNum AlignRight">588</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ExtraWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementIdentifier">Br</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGImage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BGImage</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">3</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">595</td>
<td class="TextItemNum AlignRight">589</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">596</td>
<td class="TextItemNum AlignRight">590</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">597</td>
<td class="TextItemNum AlignRight">591</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">598</td>
<td class="TextItemNum AlignRight">592</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ItemBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">599</td>
<td class="TextItemNum AlignRight">593</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">finally</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">600</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OnDrawItem</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OnDrawItem</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ACanvas</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ARect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">odSelected</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">State</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">601</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">ACanvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">UnLock</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">602</td>
<td class="TextItemNum AlignRight">594</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">595</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Assigned</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OnDrawItem</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OnDrawItem</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ACanvas</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ARect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">odSelected</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">State</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">603</td>
<td class="TextItemNum AlignRight">596</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">604</td>
<td class="TextItemNum AlignRight">597</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">605</td>
<td class="TextItemNum AlignRight">598</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InitItems</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">A</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">606</td>
<td class="TextItemNum AlignRight">599</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">607</td>
<td class="TextItemNum AlignRight">600</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">608</td>
<td class="TextItemNum AlignRight">601</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">ProcessComponent</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">c</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1063</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1064</td>
<td class="TextItemNum AlignRight">1055</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CustomMenuFont</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Assign</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CustomMenuFont</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Screen</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MenuFont</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Font</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Assign</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Screen</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MenuFont</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1065</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1066</td>
<td class="TextItemNum AlignRight">1056</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Text</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ReplaceStr</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Caption</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">'&amp;'</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementString">''</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1067</td>
<td class="TextItemNum AlignRight">1057</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">W</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ACanvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">TextWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1068</td>
<td class="TextItemNum AlignRight">1058</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Menu</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetParentMenu</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1069</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if Assigned(Menu.Images) <span class="TextSegSigDiff">a</span><span class="TextSegSigDiff">nd</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ImageIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1070</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">t</span>hen inc(W, Menu.Images.Width + 6)</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1059</td>
<td class="TextItemSigDel">&nbsp; if Assigned(Menu.Images) <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">b</span><span class="TextSegSigDiff">e</span><span class="TextSegSigDiff">g</span><span class="TextSegSigDiff">in</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1060</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Win32MajorVersion</span> <span class="TextSegSigDiff">&gt;</span><span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">6</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1061</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ImageIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">inc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">W</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Menu</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Images</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">inc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">W</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Menu</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Images</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">4</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1062</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1063</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1064</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ImageIndex</span> <span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">-</span><span class="TextSegSigDiff">1</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">t</span>hen inc(W, Menu.Images.Width + 6)<span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1065</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1066</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1071</td>
<td class="TextItemNum AlignRight">1067</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bitmap</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Empty</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">W</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bitmap</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">6</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1072</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1073</td>
<td class="TextItemNum AlignRight">1068</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementComment">// If last item (for a MDIChild buttons drawing)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1074</td>
<td class="TextItemNum AlignRight">1069</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">LastItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">W</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">40</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1075</td>
<td class="TextItemNum AlignRight">1070</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">W</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1076</td>
<td class="TextItemNum AlignRight">1071</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1077</td>
<td class="TextItemNum AlignRight">1072</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1078</td>
<td class="TextItemNum AlignRight">1073</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinableMenus</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">InitItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMenuItem</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">A</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1079</td>
<td class="TextItemNum AlignRight">1074</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1080</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; if Item.GetParentMenu &lt;&gt; nil then Item.GetParentMenu.OwnerDraw := A;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1075</td>
<td class="TextItemSigDel">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">GetParentMenu</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">nil</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Item</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">GetParentMenu</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OwnerDraw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">A</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1081</td>
<td class="TextItemNum AlignRight">1076</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">A</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1082</td>
<td class="TextItemNum AlignRight">1077</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">IsTopLine</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1083</td>
<td class="TextItemNum AlignRight">1078</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">TsSkinManager</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinnedPopups</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1084</td>
<td class="TextItemNum AlignRight">1079</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnAdvancedDrawItem</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnAdvancedDrawItem</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sAdvancedDrawItem</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1085</td>
<td class="TextItemNum AlignRight">1080</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnMeasureItem</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Item</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">OnMeasureItem</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sMeasureItem</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1086</td>
<td class="TextItemNum AlignRight">1081</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSkinProvider.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">209</td>
<td class="TextItemNum AlignRight">209</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">LockCount</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">210</td>
<td class="TextItemNum AlignRight">210</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">ClearButtons</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">211</td>
<td class="TextItemNum AlignRight">211</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">MenusInitialized</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">212</td>
<td class="TextItemNum AlignRight">212</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">RegionChanged</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemNum AlignRight">213</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CaptChanged</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemNum AlignRight">214</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CaptRgnChanged</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FMenuOwnerDraw</span><span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">boolean</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemNum AlignRight">215</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemNum AlignRight">216</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FGlow1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FGlow2</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemNum AlignRight">217</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CoverForm</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TForm</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemNum AlignRight">218</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CoverBmp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TBitmap</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemNum AlignRight">219</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">NormalBounds</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">221</td>
<td class="TextItemNum AlignRight">220</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1126</td>
<td class="TextItemNum AlignRight">1125</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetWindowLong</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GWL_EXSTYLE</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">WS_EX_LAYERED</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1127</td>
<td class="TextItemNum AlignRight">1126</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span><span class="TextSegElementComment">//False;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1128</td>
<td class="TextItemNum AlignRight">1127</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormActive</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1129</td>
<td class="TextItemNum AlignRight">1128</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ALLCHILDREN</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1130</td>
<td class="TextItemNum AlignRight">1129</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementComment">// Activate</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1131</td>
<td class="TextItemNum AlignRight">1130</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SWP_NOSENDCHANGING</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOREDRAW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOZORDER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOOWNERZORDER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOSIZE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOMOVE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1132</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">AeroIsEnabled</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">SendMessage</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">sp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">WM_NCPAINT</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span> // Menu repaint</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1133</td>
<td class="TextItemNum AlignRight">1131</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExBorderShowing</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1134</td>
<td class="TextItemNum AlignRight">1132</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">FS_BLENDMOVING</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Avoid a flickering</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1135</td>
<td class="TextItemNum AlignRight">1133</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateExBordersPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Redraw and update region and z-order</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1136</td>
<td class="TextItemNum AlignRight">1134</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FS_BLENDMOVING</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1137</td>
<td class="TextItemNum AlignRight">1135</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">AeroIsEnabled</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Menu</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1138</td>
<td class="TextItemNum AlignRight">1136</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemNum AlignRight">1398</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WidthOfImage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">HeightOfImage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemNum AlignRight">1399</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">p</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">RBGripPoint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1404</td>
<td class="TextItemNum AlignRight">1400</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">BG</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1405</td>
<td class="TextItemNum AlignRight">1401</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">BG</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PleaseDraw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1406</td>
<td class="TextItemNum AlignRight">1402</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Lock</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1407</td>
<td class="TextItemNum AlignRight">1403</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">GetBGInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">@</span><span class="TextSegElementIdentifier">BG</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1408</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; if BG.BgType <span class="TextSegSigDiff">&lt;&gt;</span> bt<span class="TextSegSigDiff">Cache</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1404</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if BG.BgType <span class="TextSegSigDiff">=</span> bt<span class="TextSegSigDiff">Fill</span> then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1409</td>
<td class="TextItemNum AlignRight">1405</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BG</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">BG</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1410</td>
<td class="TextItemNum AlignRight">1406</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">w1</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskWidthRight</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1411</td>
<td class="TextItemNum AlignRight">1407</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">h1</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskWidthBottom</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderIndex</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1412</td>
<td class="TextItemNum AlignRight">1408</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">w2</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SysBorderWidth</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1413</td>
<td class="TextItemNum AlignRight">1409</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">h2</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">w2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1414</td>
<td class="TextItemNum AlignRight">1410</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">dx</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">w1</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">w2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1585</td>
<td class="TextItemNum AlignRight">1581</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1586</td>
<td class="TextItemNum AlignRight">1582</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1587</td>
<td class="TextItemNum AlignRight">1583</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">ForbidDrawing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">MDIAlso</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1588</td>
<td class="TextItemNum AlignRight">1584</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1589</td>
<td class="TextItemNum AlignRight">1585</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BeginUpdate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1590</td>
<td class="TextItemNum AlignRight">1586</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1591</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if MDIAlso and (TForm(sp.Form).FormStyle = fsMDIChild) and Assigned(MDISkinProvider) <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span><span class="TextSegSigDiff">DrawNonClientArea</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1587</td>
<td class="TextItemSigDel">&nbsp; if MDIAlso and (TForm(sp.Form).FormStyle = fsMDIChild) and Assigned(MDISkinProvider) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1592</td>
<td class="TextItemNum AlignRight">1588</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BeginUpdate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1593</td>
<td class="TextItemNum AlignRight">1589</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1594</td>
<td class="TextItemNum AlignRight">1590</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1595</td>
<td class="TextItemNum AlignRight">1591</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1596</td>
<td class="TextItemNum AlignRight">1592</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1597</td>
<td class="TextItemNum AlignRight">1593</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">PermitDrawing</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">MDIAlso</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1598</td>
<td class="TextItemNum AlignRight">1594</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1599</td>
<td class="TextItemNum AlignRight">1595</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">EndUpdate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1600</td>
<td class="TextItemNum AlignRight">1596</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1601</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if MDIAlso and (TForm(sp.Form).FormStyle = fsMDIChild) and Assigned(MDISkinProvider) <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span><span class="TextSegSigDiff">DrawNonClientArea</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1597</td>
<td class="TextItemSigDel">&nbsp; if MDIAlso and (TForm(sp.Form).FormStyle = fsMDIChild) and Assigned(MDISkinProvider) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1602</td>
<td class="TextItemNum AlignRight">1598</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">EndUpdate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1603</td>
<td class="TextItemNum AlignRight">1599</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Perform</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1604</td>
<td class="TextItemNum AlignRight">1600</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1605</td>
<td class="TextItemNum AlignRight">1601</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1606</td>
<td class="TextItemNum AlignRight">1602</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1607</td>
<td class="TextItemNum AlignRight">1603</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">function</span> <span class="TextSegElementIdentifier">HaveBorder</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">sp</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2338</td>
<td class="TextItemNum AlignRight">2334</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2339</td>
<td class="TextItemNum AlignRight">2335</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">UpdateMainForm</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2340</td>
<td class="TextItemNum AlignRight">2336</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2341</td>
<td class="TextItemNum AlignRight">2337</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Flags</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Cardinal</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2342</td>
<td class="TextItemNum AlignRight">2338</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2343</td>
<td class="TextItemNum AlignRight">2339</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">with</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2344</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DrawNonClientArea</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2345</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FCommonData.BeginUpdate;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2346</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if Assigned(MDIForm) then TsMDIForm(MDIForm).UpdateMDIIconItem;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">2347</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FCommonData.BGChanged := True;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2340</td>
<td class="TextItemSigDel">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2341</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>FCommonData.BeginUpdate;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2342</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if Assigned(<span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>MDIForm) then TsMDIForm(<span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>MDIForm).UpdateMDIIconItem;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2343</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>FCommonData.BGChanged := True;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2348</td>
<td class="TextItemNum AlignRight">2344</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FGlow1</span> <span class="TextSegElementOperator">&lt;&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FGlow1</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2349</td>
<td class="TextItemNum AlignRight">2345</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FGlow2</span> <span class="TextSegElementOperator">&lt;&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FGlow2</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2350</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; MenuChanged := True;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2351</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FLinesCount := -1;</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">2352</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; FCommonData.EndUpdate;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2346</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>MenuChanged := True;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2347</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>FLinesCount := -1;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2348</td>
<td class="TextItemSigDel">&nbsp; &nbsp; <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>FCommonData.EndUpdate;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2353</td>
<td class="TextItemNum AlignRight">2349</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2354</td>
<td class="TextItemNum AlignRight">2350</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Flags</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INTERNALPAINT</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2355</td>
<td class="TextItemNum AlignRight">2351</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">UpdateNow</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Flags</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Flags</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2356</td>
<td class="TextItemNum AlignRight">2352</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2357</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; RedrawWindow(Form.ClientHandle, nil, 0, Flags);</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">2358</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; RedrawWindow(Form.Handle, nil, 0, RDW_FRAME or RDW_INVALIDATE);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2353</td>
<td class="TextItemSigDel">&nbsp; &nbsp; RedrawWindow(<span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>Form.ClientHandle, nil, 0, Flags);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2354</td>
<td class="TextItemSigDel">&nbsp; &nbsp; RedrawWindow(<span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>Form.Handle, nil, 0, RDW_FRAME or RDW_INVALIDATE);</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemNum AlignRight">2355</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if UpdateNow and (BorderForm &lt;&gt; nil) then BorderForm.UpdateExBordersPos;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">2362</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">RedrawWindow</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">RDW_FRAME</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_INVALIDATE</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">RDW_UPDATENOW</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2356</td>
<td class="TextItemSigDel">&nbsp; &nbsp; if UpdateNow and (<span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>BorderForm &lt;&gt; nil) then <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">).</span>BorderForm.UpdateExBordersPos;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2363</td>
<td class="TextItemNum AlignRight">2357</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2364</td>
<td class="TextItemNum AlignRight">2358</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2365</td>
<td class="TextItemNum AlignRight">2359</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2366</td>
<td class="TextItemNum AlignRight">2360</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">HandleEdge</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">Edge</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">SnapToEdge</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">ASnapBuffer</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">SnapDistance</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Integer</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2367</td>
<td class="TextItemNum AlignRight">2361</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2368</td>
<td class="TextItemNum AlignRight">2362</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Abs</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Edge</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">SnapDistance</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">SnapToEdge</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">&lt;</span> <span class="TextSegElementIdentifier">ASnapBuffer</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Edge</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SnapToEdge</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">SnapDistance</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2410</td>
<td class="TextItemNum AlignRight">2404</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF NOWNDANIMATION}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2411</td>
<td class="TextItemNum AlignRight">2405</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">bAnim</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">boolean</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2412</td>
<td class="TextItemNum AlignRight">2406</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">AnimType</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TacAnimType</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2413</td>
<td class="TextItemNum AlignRight">2407</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2414</td>
<td class="TextItemNum AlignRight">2408</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2415</td>
<td class="TextItemNum AlignRight">2409</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF LOGGED}</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2416</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">nil</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FormStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">fsMDIChild</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">2417</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">AddToLog</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2410</td>
<td class="TextItemSigDel">//&nbsp; if (Form &lt;&gt; nil) {and (Form.Tag = 1) }then</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2411</td>
<td class="TextItemSigDel">//&nbsp; &nbsp; AddToLog(Message);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2418</td>
<td class="TextItemNum AlignRight">2412</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2419</td>
<td class="TextItemNum AlignRight">2413</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">SM_ALPHACMD</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParamHi</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2420</td>
<td class="TextItemNum AlignRight">2414</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_REMOVESKIN</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2421</td>
<td class="TextItemNum AlignRight">2415</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">LongWord</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2422</td>
<td class="TextItemNum AlignRight">2416</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ListSW</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ListSW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2423</td>
<td class="TextItemNum AlignRight">2417</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InitDwm</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2515</td>
<td class="TextItemNum AlignRight">2509</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">FSysExHeight</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2516</td>
<td class="TextItemNum AlignRight">2510</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateIconsIndexes</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2517</td>
<td class="TextItemNum AlignRight">2511</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CheckSysMenu</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2518</td>
<td class="TextItemNum AlignRight">2512</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fsMDIForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Screen</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ActiveForm</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ActiveMDIChild</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FormActive</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2519</td>
<td class="TextItemNum AlignRight">2513</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Menus skinning</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2520</td>
<td class="TextItemNum AlignRight">2514</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csLoading</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2521</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Form.Menu &lt;&gt; nil) and FMenuOwnerDraw then MenusInitialized := True;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2515</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Form.Menu &lt;&gt; nil) and F<span class="TextSegSigDiff">or</span>m<span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">M</span>enu<span class="TextSegSigDiff">.</span>OwnerDraw then MenusInitialized := True;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2522</td>
<td class="TextItemNum AlignRight">2516</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InitMenuItems</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Update after skinning in run-time</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2523</td>
<td class="TextItemNum AlignRight">2517</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">MenusInitialized</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">MenusInitialized</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">UpdateMenu</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2524</td>
<td class="TextItemNum AlignRight">2518</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2525</td>
<td class="TextItemNum AlignRight">2519</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Menu Line refresh</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2526</td>
<td class="TextItemNum AlignRight">2520</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2527</td>
<td class="TextItemNum AlignRight">2521</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FLinesCount</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2528</td>
<td class="TextItemNum AlignRight">2522</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TForm</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fsMDIForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2529</td>
<td class="TextItemNum AlignRight">2523</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if not Assigned(MDIForm) then</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2530</td>
<td class="TextItemNum AlignRight">2524</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HookMDI</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2531</td>
<td class="TextItemNum AlignRight">2525</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2532</td>
<td class="TextItemNum AlignRight">2526</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">UseGlobalColor</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CustomColor</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Color</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetGlobalColor</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2533</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitDwm(Form.Handle, <span class="TextSegSigDiff">DrawNonClientArea</span><span class="TextSegSigDiff">);</span>//True);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">2527</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; InitDwm(Form.Handle, <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2534</td>
<td class="TextItemNum AlignRight">2528</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2535</td>
<td class="TextItemNum AlignRight">2529</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Adapter</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">AdapterCreate</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">TacCtrlAdapter</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Adapter</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AddAllItems</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2536</td>
<td class="TextItemNum AlignRight">2530</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2537</td>
<td class="TextItemNum AlignRight">2531</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2538</td>
<td class="TextItemNum AlignRight">2532</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2539</td>
<td class="TextItemNum AlignRight">2533</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2652</td>
<td class="TextItemNum AlignRight">2646</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2653</td>
<td class="TextItemNum AlignRight">2647</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FLinesCount</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2654</td>
<td class="TextItemNum AlignRight">2648</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_NCPaint</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2655</td>
<td class="TextItemNum AlignRight">2649</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TForm</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fsMDIForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementComment">{and not Assigned(MDIForm) }</span><span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">HookMDI</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2656</td>
<td class="TextItemNum AlignRight">2650</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2657</td>
<td class="TextItemNum AlignRight">2651</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2658</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">AC_MOUSELEAVE</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2659</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">SetHotHT</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2660</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">biClicked</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2661</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2662</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2663</td>
<td class="TextItemNum AlignRight">2652</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_BEFORESCROLL</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">RepaintIfMoved</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2664</td>
<td class="TextItemNum AlignRight">2653</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_AFTERSCROLL</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">RepaintIfMoved</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2665</td>
<td class="TextItemNum AlignRight">2654</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SETREDRAW</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2666</td>
<td class="TextItemNum AlignRight">2655</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementComment">{RDW_NOERASE or }</span><span class="TextSegElementIdentifier">RDW_UPDATENOW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ALLCHILDREN</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2667</td>
<td class="TextItemNum AlignRight">2656</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">MDISkinProvider</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Self</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ClientHandle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ALLCHILDREN</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_FRAME</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2668</td>
<td class="TextItemNum AlignRight">2657</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2671</td>
<td class="TextItemNum AlignRight">2660</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UrgentPainting</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">PaintAll</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2672</td>
<td class="TextItemNum AlignRight">2661</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2673</td>
<td class="TextItemNum AlignRight">2662</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2674</td>
<td class="TextItemNum AlignRight">2663</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2675</td>
<td class="TextItemNum AlignRight">2664</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2676</td>
<td class="TextItemNum AlignRight">2665</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_NCMOUSEMOVE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2677</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ActiveControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2678</td>
<td class="TextItemNum AlignRight">2666</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_NCMouseMove</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMNCMouseMove</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2679</td>
<td class="TextItemNum AlignRight">2667</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2680</td>
<td class="TextItemNum AlignRight">2668</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2681</td>
<td class="TextItemNum AlignRight">2669</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ALITE}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2682</td>
<td class="TextItemNum AlignRight">2670</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_MOUSEWHEEL</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2683</td>
<td class="TextItemNum AlignRight">2671</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2827</td>
<td class="TextItemNum AlignRight">2815</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2828</td>
<td class="TextItemNum AlignRight">2816</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderForm</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AnimEffects</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormHide</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Active</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2829</td>
<td class="TextItemNum AlignRight">2817</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2830</td>
<td class="TextItemNum AlignRight">2818</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2831</td>
<td class="TextItemNum AlignRight">2819</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// Backgrounds must be drawn by all controls for a blinking prevent</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2832</td>
<td class="TextItemNum AlignRight">2820</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">2833</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Updating</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2834</td>
<td class="TextItemNum AlignRight">2821</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">AeroIsEnabled</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_ALLCHILDREN</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2835</td>
<td class="TextItemNum AlignRight">2822</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2836</td>
<td class="TextItemNum AlignRight">2823</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2837</td>
<td class="TextItemNum AlignRight">2824</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2838</td>
<td class="TextItemNum AlignRight">2825</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_SHOWWINDOW</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2839</td>
<td class="TextItemNum AlignRight">2826</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">fsMDIChild</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2990</td>
<td class="TextItemNum AlignRight">2994</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FS_SIZING</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2991</td>
<td class="TextItemNum AlignRight">2995</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExBorderShowing</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2992</td>
<td class="TextItemNum AlignRight">2996</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Move ExtBorder on top</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2993</td>
<td class="TextItemNum AlignRight">2997</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SWP_NOACTIVATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOSENDCHANGING</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOOWNERZORDER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOREDRAW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOSIZE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOMOVE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2994</td>
<td class="TextItemNum AlignRight">2998</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExBorderShowing</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">2995</td>
<td class="TextItemNum AlignRight">2999</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">UpdateRgn</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">2996</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if not InAero then SetWindowRgn(BorderForm.AForm.Handle, BorderForm.MakeRgn, False); // Update borders region</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3000</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">SetWindowRgn</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">AForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">BorderForm</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">MakeRgn</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">);</span> // Update borders region</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">2997</td>
<td class="TextItemNum AlignRight">3001</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2998</td>
<td class="TextItemNum AlignRight">3002</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">2999</td>
<td class="TextItemNum AlignRight">3003</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3000</td>
<td class="TextItemNum AlignRight">3004</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_NCPAINT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Update region</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3001</td>
<td class="TextItemNum AlignRight">3005</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3002</td>
<td class="TextItemNum AlignRight">3006</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3015</td>
<td class="TextItemNum AlignRight">3019</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetWindowPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">AForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SWP_NOACTIVATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOSENDCHANGING</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOOWNERZORDER</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOREDRAW</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOSIZE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">SWP_NOMOVE</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3016</td>
<td class="TextItemNum AlignRight">3020</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ExBorderShowing</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3017</td>
<td class="TextItemNum AlignRight">3021</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3018</td>
<td class="TextItemNum AlignRight">3022</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_NOFRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_NOERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3019</td>
<td class="TextItemNum AlignRight">3023</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetParentUpdated</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3020</td>
<td class="TextItemNum AlignRight">3024</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3021</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if UpdateClient {and not InAero }then InvalidateRect(Form.Handle, nil, False);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3025</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else if UpdateClient <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">InAero</span> then InvalidateRect(Form.Handle, nil, False);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3022</td>
<td class="TextItemNum AlignRight">3026</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LastClientRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ClientWidth</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ClientHeight</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3023</td>
<td class="TextItemNum AlignRight">3027</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3024</td>
<td class="TextItemNum AlignRight">3028</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3025</td>
<td class="TextItemNum AlignRight">3029</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fsMDIForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">IsCached</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3026</td>
<td class="TextItemNum AlignRight">3030</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_NCPAINT</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3027</td>
<td class="TextItemNum AlignRight">3031</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3042</td>
<td class="TextItemNum AlignRight">3046</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3043</td>
<td class="TextItemNum AlignRight">3047</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3044</td>
<td class="TextItemNum AlignRight">3048</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3045</td>
<td class="TextItemNum AlignRight">3049</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3046</td>
<td class="TextItemNum AlignRight">3050</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_MOVE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3047</td>
<td class="TextItemNum AlignRight">3051</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">KillAnimations</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3048</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ClearGlows</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span> // Hide a glow effect on a focused control if exists</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3049</td>
<td class="TextItemNum AlignRight">3052</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3050</td>
<td class="TextItemNum AlignRight">3053</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3051</td>
<td class="TextItemNum AlignRight">3054</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_ENTERMENULOOP</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3052</td>
<td class="TextItemNum AlignRight">3055</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fsMDIForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">InMenu</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ActiveMDIChild</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ActiveMDIChild</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowState</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">wsMaximized</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3053</td>
<td class="TextItemNum AlignRight">3056</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">InMenu</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3054</td>
<td class="TextItemNum AlignRight">3057</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">MDIIconsForm</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">MDIIconsForm</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Application</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3074</td>
<td class="TextItemNum AlignRight">3077</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">RTInit</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3075</td>
<td class="TextItemNum AlignRight">3078</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RTInit</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3076</td>
<td class="TextItemNum AlignRight">3079</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LoadInit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3077</td>
<td class="TextItemNum AlignRight">3080</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3078</td>
<td class="TextItemNum AlignRight">3081</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">CaptionHeight</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FDrawNonClientArea</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3079</td>
<td class="TextItemNum AlignRight">3082</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">HTProcess</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TWMNCHitTest</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3080</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Hide standard border icons</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3081</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">HTMAXBUTTON</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">HTCLOSE</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">HTMINBUTTON</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FormStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">fsMDIChild</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3082</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">CheckSysMenu</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3083</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">case</span> <span class="TextSegSigDiff">M</span><span class="TextSegSigDiff">ess</span><span class="TextSegSigDiff">age</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">R</span><span class="TextSegSigDiff">esult</span> <span class="TextSegSigDiff">of</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3083</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3084</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Result</span> <span class="TextSegSigDiff">in</span> <span class="TextSegSigDiff">[</span>Windows.HTCAPTION, Windows.HTNOWHERE, HTMENU, HTCLIENT<span class="TextSegSigDiff">])</span> <span class="TextSegSigDiff">then</span> begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3084</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Windows.HTCAPTION, Windows.HTNOWHERE, HTMENU, HTCLIENT <span class="TextSegSigDiff">:</span> begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3085</td>
<td class="TextItemNum AlignRight">3085</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3086</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SetHotHT(0);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3086</td>
<td class="TextItemNum AlignRight">3087</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3088</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3087</td>
<td class="TextItemNum AlignRight">3089</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3088</td>
<td class="TextItemNum AlignRight">3090</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ResizeMode</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">rmBorder</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nDirection</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">HTCAPTION</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">HTLEFT</span><span class="TextSegElementOperator">.</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HTBOTTOMRIGHT</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3089</td>
<td class="TextItemNum AlignRight">3091</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">nDirection</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3090</td>
<td class="TextItemNum AlignRight">3092</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3091</td>
<td class="TextItemNum AlignRight">3093</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3092</td>
<td class="TextItemNum AlignRight">3094</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_SIZING</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3093</td>
<td class="TextItemNum AlignRight">3095</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3094</td>
<td class="TextItemNum AlignRight">3096</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">BorderForm</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateExBordersPos</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3095</td>
<td class="TextItemNum AlignRight">3097</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3096</td>
<td class="TextItemNum AlignRight">3098</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_MOUSELEAVE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CM_MOUSELEAVE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3097</td>
<td class="TextItemNum AlignRight">3099</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetHotHT</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3098</td>
<td class="TextItemNum AlignRight">3100</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">biClicked</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3099</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; if SkinData.SkinManager.ActiveControl &lt;&gt; 0 then SkinData.SkinManager.ActiveControl := 0;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3101</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ActiveControl</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ActiveControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3100</td>
<td class="TextItemNum AlignRight">3102</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3101</td>
<td class="TextItemNum AlignRight">3103</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3102</td>
<td class="TextItemNum AlignRight">3104</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_MOUSEENTER</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3103</td>
<td class="TextItemNum AlignRight">3105</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3104</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ActiveControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3105</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">{&nbsp; &nbsp; &nbsp; &nbsp; for i := 0 to Form.ControlCount - 1 do</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3106</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (Form.Controls[i] is TsSpeedButton) and (Form.Controls[i] &lt;&gt; Pointer(Message.LParam)) and TsSpeedButton(Form.Controls[i]).SkinData.FMouseAbove</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3107</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; then Form.Controls[i].Perform(CM_MOUSELEAVE, 0, 0);}</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3106</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">for</span> <span class="TextSegSigDiff">i</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span> <span class="TextSegSigDiff">to</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ControlCount</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">1</span> <span class="TextSegSigDiff">do</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3107</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Controls</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">]</span> <span class="TextSegSigDiff">is</span> <span class="TextSegSigDiff">TsSpeedButton</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Controls</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">]</span> <span class="TextSegSigDiff">&lt;&gt;</span> <span class="TextSegSigDiff">Pointer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">LParam</span><span class="TextSegSigDiff">))</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">TsSpeedButton</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Controls</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">]).</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FMouseAbove</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3108</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Controls</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">].</span><span class="TextSegSigDiff">Perform</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">CM_MOUSELEAVE</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3108</td>
<td class="TextItemNum AlignRight">3109</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderForm</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ResetRgn</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FS_SIZING</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">FS_SIZING</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3109</td>
<td class="TextItemNum AlignRight">3110</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BorderForm</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateRgn</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3110</td>
<td class="TextItemNum AlignRight">3111</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3111</td>
<td class="TextItemNum AlignRight">3112</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3112</td>
<td class="TextItemNum AlignRight">3113</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_NCCREATE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3113</td>
<td class="TextItemNum AlignRight">3114</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3349</td>
<td class="TextItemNum AlignRight">3350</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementComment">// Clear cache if form closing was cancelled</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3350</td>
<td class="TextItemNum AlignRight">3351</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetHotHT</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3351</td>
<td class="TextItemNum AlignRight">3352</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3352</td>
<td class="TextItemNum AlignRight">3353</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3353</td>
<td class="TextItemNum AlignRight">3354</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">HTMAXBUTTON</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">EnabledMax</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowState</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">wsMaximized</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">EnabledRestore</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3354</td>
<td class="TextItemNum AlignRight">3355</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">biClicked</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3356</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FormStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">fsMDIChild</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BeginUpdate</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3355</td>
<td class="TextItemNum AlignRight">3357</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetHotHT</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3356</td>
<td class="TextItemNum AlignRight">3358</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowState</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">wsMaximized</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3357</td>
<td class="TextItemNum AlignRight">3359</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">fsMDIChild</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">wsNormal</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">ChildProvider</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3358</td>
<td class="TextItemNum AlignRight">3360</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SYSCOMMAND</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SC_RESTORE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3359</td>
<td class="TextItemNum AlignRight">3361</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Repaint</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3360</td>
<td class="TextItemNum AlignRight">3362</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3361</td>
<td class="TextItemNum AlignRight">3363</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3362</td>
<td class="TextItemNum AlignRight">3364</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fsMDIChild</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3363</td>
<td class="TextItemNum AlignRight">3365</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">ChildProvider</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3364</td>
<td class="TextItemNum AlignRight">3366</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SYSCOMMAND</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SC_MAXIMIZE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3365</td>
<td class="TextItemNum AlignRight">3367</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3368</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FormStyle</span> <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">fsMDIChild</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">TsSkinProvider</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MDISkinProvider</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">EndUpdate</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3366</td>
<td class="TextItemNum AlignRight">3369</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateItems</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3367</td>
<td class="TextItemNum AlignRight">3370</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3368</td>
<td class="TextItemNum AlignRight">3371</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3369</td>
<td class="TextItemNum AlignRight">3372</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetHotHT</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3370</td>
<td class="TextItemNum AlignRight">3373</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3371</td>
<td class="TextItemNum AlignRight">3374</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3527</td>
<td class="TextItemNum AlignRight">3530</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; then DwmInvalidateIconicBitmaps(Application.Handle);</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3528</td>
<td class="TextItemNum AlignRight">3531</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; &nbsp; Message.Result := 0;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3529</td>
<td class="TextItemNum AlignRight">3532</td>
<td class="TextItemSame"><span class="TextSegElementComment">&nbsp; &nbsp; &nbsp; end;}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3530</td>
<td class="TextItemNum AlignRight">3533</td>
<td class="TextItemSame"><span class="TextSegElementComment">//&nbsp; &nbsp; &nbsp; 147, Std menu haven't captions if disabled</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3531</td>
<td class="TextItemNum AlignRight">3534</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementNumber">45132</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">48205</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3532</td>
<td class="TextItemNum AlignRight">3535</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_NCPAINT</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3533</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DrawNonClientArea</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3534</td>
<td class="TextItemNum AlignRight">3536</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CtrlSkinState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ACS_LOCKED</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ACS_LOCKED</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CtrlSkinState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">ACS_MNUPDATING</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ACS_MNUPDATING</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3535</td>
<td class="TextItemNum AlignRight">3537</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">IsMenuVisible</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Menu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowHandle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">))</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">FS_ANIMCLOSING</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">FS_ANIMCLOSING</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">3536</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3537</td>
<td class="TextItemNum AlignRight">3538</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">RTInit</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3538</td>
<td class="TextItemNum AlignRight">3539</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RTInit</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3539</td>
<td class="TextItemNum AlignRight">3540</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">LoadInit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3540</td>
<td class="TextItemNum AlignRight">3541</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3541</td>
<td class="TextItemNum AlignRight">3542</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Parent</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3542</td>
<td class="TextItemNum AlignRight">3543</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Updating</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3576</td>
<td class="TextItemNum AlignRight">3577</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3577</td>
<td class="TextItemNum AlignRight">3578</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3578</td>
<td class="TextItemNum AlignRight">3579</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3579</td>
<td class="TextItemNum AlignRight">3580</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3580</td>
<td class="TextItemNum AlignRight">3581</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3581</td>
<td class="TextItemNum AlignRight">3582</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3582</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">CopyWinControlCache</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">OffsetX</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">OffsetY</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">OffsetX</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ClientWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">OffsetY</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ClientHeight</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ClientWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ClientHeight</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">TWMPaint</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">DC</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3583</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; BitBlt(TWMPaint(Message).DC, 0, 0, Form.Width, Form.Height, FCommonData.FCacheBmp.Canvas.Handle, OffsetX, OffsetY, SRCCOPY);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3583</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">BitBlt</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">TWMPaint</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">).</span><span class="TextSegSigDiff">DC</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">OffsetX</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">OffsetY</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">SRCCOPY</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3584</td>
<td class="TextItemNum AlignRight">3584</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3585</td>
<td class="TextItemNum AlignRight">3585</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetParentUpdated</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3586</td>
<td class="TextItemNum AlignRight">3586</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3587</td>
<td class="TextItemNum AlignRight">3587</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3588</td>
<td class="TextItemNum AlignRight">3588</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3589</td>
<td class="TextItemNum AlignRight">3589</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WParam</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// From PaintTo</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3637</td>
<td class="TextItemNum AlignRight">3637</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF D2005}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3638</td>
<td class="TextItemNum AlignRight">3638</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFNDEF ALITE}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3639</td>
<td class="TextItemNum AlignRight">3639</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">acTaskBarChanging</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3640</td>
<td class="TextItemNum AlignRight">3640</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3641</td>
<td class="TextItemNum AlignRight">3641</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3642</td>
<td class="TextItemNum AlignRight">3642</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3643</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; WM_NCACTIVATE : if not (csDestroying in ComponentState) <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">DrawNonClientArea</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3643</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; WM_NCACTIVATE : if not (csDestroying in ComponentState) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3644</td>
<td class="TextItemNum AlignRight">3644</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FormState</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">FS_ACTIVATE</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3645</td>
<td class="TextItemNum AlignRight">3645</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FormActive</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TWMNCActivate</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Active</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3646</td>
<td class="TextItemNum AlignRight">3646</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FormActive</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ShowAction</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">saMaximize</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span> <span class="TextSegElementComment">// &lt;&lt;&lt;&lt;&lt; Caption blinking removing</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3647</td>
<td class="TextItemNum AlignRight">3647</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ShowAction</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">saIgnore</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3648</td>
<td class="TextItemNum AlignRight">3648</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3649</td>
<td class="TextItemNum AlignRight">3649</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ShowAction</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">saMaximize</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3841</td>
<td class="TextItemNum AlignRight">3841</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsIconic</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3842</td>
<td class="TextItemNum AlignRight">3842</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SendMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">WM_SYSCOMMAND</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SC_RESTORE</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3843</td>
<td class="TextItemNum AlignRight">3843</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateItems</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3844</td>
<td class="TextItemNum AlignRight">3844</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3845</td>
<td class="TextItemNum AlignRight">3845</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">TWMNCHitMessage</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HitTest</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3846</td>
<td class="TextItemNum AlignRight">3846</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3847</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else <span class="TextSegSigDiff">OldWndProc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">)</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3847</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else <span class="TextSegSigDiff">i</span><span class="TextSegSigDiff">nherit</span><span class="TextSegSigDiff">ed</span>;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3848</td>
<td class="TextItemNum AlignRight">3848</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3849</td>
<td class="TextItemNum AlignRight">3849</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3850</td>
<td class="TextItemNum AlignRight">3850</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">WM_MEASUREITEM</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3851</td>
<td class="TextItemNum AlignRight">3851</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FormStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">fsMDIForm</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">MDISkinProvider</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3852</td>
<td class="TextItemNum AlignRight">3852</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">IsMenuVisible</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PMeasureItemStruct</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span>^<span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">CtlType</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">ODT_MENU</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3853</td>
<td class="TextItemNum AlignRight">3853</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">mi</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Menu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FindItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">PMeasureItemStruct</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LParam</span><span class="TextSegElementOperator">)</span>^<span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">itemID</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">fkCommand</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3933</td>
<td class="TextItemNum AlignRight">3933</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3934</td>
<td class="TextItemNum AlignRight">3934</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3935</td>
<td class="TextItemNum AlignRight">3935</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SC_KEYMENU</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3936</td>
<td class="TextItemNum AlignRight">3936</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SC_RESTORE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3937</td>
<td class="TextItemNum AlignRight">3937</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowState</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">wsMinimized</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">UpdateClient</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3938</td>
<td class="TextItemNum AlignRight">3938</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">MDICreating</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">3939</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ForbidDrawing(Self, True);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3939</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">ForbidDrawing</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3940</td>
<td class="TextItemNum AlignRight">3940</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">OldWndProc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3941</td>
<td class="TextItemNum AlignRight">3941</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3942</td>
<td class="TextItemNum AlignRight">3942</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3943</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">DrawNonClientArea</span> <span class="TextSegSigDiff">then</span> SetWindowLong(Form.Handle, GWL_STYLE, GetWindowLong(Form.Handle, GWL_STYLE) and not WS_SYSMENU);</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">3944</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PermitDrawing(Self, True); !!!</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3943</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SetWindowLong(Form.Handle, GWL_STYLE, GetWindowLong(Form.Handle, GWL_STYLE) and not WS_SYSMENU);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">3944</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PermitDrawing</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">3945</td>
<td class="TextItemNum AlignRight">3945</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INVALIDATE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3946</td>
<td class="TextItemNum AlignRight">3946</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3947</td>
<td class="TextItemNum AlignRight">3947</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementComment">// Updating of childs</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3948</td>
<td class="TextItemNum AlignRight">3948</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MDIChildCount</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MDIChildren</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">Form</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">3949</td>
<td class="TextItemNum AlignRight">3949</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MDIChildren</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowState</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">wsMaximized</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MDIChildren</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowState</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">wsNormal</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">3950</td>
<td class="TextItemNum AlignRight">3950</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">RedrawWindow</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MDISkinProvider</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MDIChildren</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">i</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">RDW_FRAME</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_INTERNALPAINT</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_ERASE</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RDW_UPDATENOW</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5685</td>
<td class="TextItemNum AlignRight">5685</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5686</td>
<td class="TextItemNum AlignRight">5686</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5687</td>
<td class="TextItemNum AlignRight">5687</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5688</td>
<td class="TextItemNum AlignRight">5688</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PrepareForm</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5689</td>
<td class="TextItemNum AlignRight">5689</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5690</td>
<td class="TextItemNum AlignRight">5690</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">RTInit</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">RTEmpty</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Form</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">HandleAllocated</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5691</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if (Form.Menu &lt;&gt; nil) and Form.Menu.OwnerDraw then <span class="TextSegSigDiff">beg</span><span class="TextSegSigDiff">in</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5692</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FMenuOwnerDraw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Form</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Menu</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">OwnerDraw</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5693</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">MenusInitialized</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5694</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">5695</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">FMenuOwnerDraw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">5691</td>
<td class="TextItemSigDel">&nbsp; if (Form.Menu &lt;&gt; nil) and Form.Menu.OwnerDraw then <span class="TextSegSigDiff">MenusInitialized</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">5696</td>
<td class="TextItemNum AlignRight">5692</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Loaded</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5697</td>
<td class="TextItemNum AlignRight">5693</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">SystemMenu</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5698</td>
<td class="TextItemNum AlignRight">5694</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SystemMenu</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsSystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5699</td>
<td class="TextItemNum AlignRight">5695</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FForm</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Form</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">5700</td>
<td class="TextItemNum AlignRight">5696</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">WindowHandle</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">5701</td>
<td class="TextItemNum AlignRight">5697</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateItems</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">6266</td>
<td class="TextItemNum AlignRight">6262</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6267</td>
<td class="TextItemNum AlignRight">6263</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6268</td>
<td class="TextItemNum AlignRight">6264</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSkinProvider</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">LoadInit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6269</td>
<td class="TextItemNum AlignRight">6265</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6270</td>
<td class="TextItemNum AlignRight">6266</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">mi</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">6271</td>
<td class="TextItemNum AlignRight">6267</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">6272</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if Form.HandleAllocated then InitDwm(Form.Handle, <span class="TextSegSigDiff">DrawNonClientArea</span><span class="TextSegSigDiff">);</span>//True);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">6268</td>
<td class="TextItemSigDel">&nbsp; if Form.HandleAllocated then InitDwm(Form.Handle, <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">6273</td>
<td class="TextItemNum AlignRight">6269</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">PrepareForm</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6274</td>
<td class="TextItemNum AlignRight">6270</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Adapter</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementKeyword">nil</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">AdapterCreate</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6275</td>
<td class="TextItemNum AlignRight">6271</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">SystemMenu</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UpdateItems</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6276</td>
<td class="TextItemNum AlignRight">6272</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">6277</td>
<td class="TextItemNum AlignRight">6273</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">mi</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">GetMaskIndex</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">IndexGLobalInfo</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_GlobalInfo</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">s_TitleButtonMask</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">6278</td>
<td class="TextItemNum AlignRight">6274</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">i</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">TitleButtons</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSpeedButton.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">608</td>
<td class="TextItemNum AlignRight">611</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">tbsSeparator</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">609</td>
<td class="TextItemNum AlignRight">612</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ready</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">610</td>
<td class="TextItemNum AlignRight">613</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">BitBlt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBMP</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SRCCOPY</span><span class="TextSegElementOperator">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">611</td>
<td class="TextItemNum AlignRight">614</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBMP</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ClientRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FillColor</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">612</td>
<td class="TextItemNum AlignRight">615</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">613</td>
<td class="TextItemNum AlignRight">616</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">617</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">FDrawOverBorder</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">618</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintItemBG</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CurrentState</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ArrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBMP</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">619</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawCaption</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">620</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawGlyph</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">621</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Mode</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">GetMaskIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinSection</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">s_BordersMask</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">622</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">inc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">X</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">623</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">inc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Y</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">624</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">IsValidImgIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Mode</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">DrawSkinRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBMP</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ArrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">Mode</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CurrentState</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">625</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">626</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">627</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintItem</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CI</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CurrentState</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ArrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBMP</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">628</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawCaption</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">629</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawGlyph</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">630</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">614</td>
<td class="TextItemNum AlignRight">631</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FButtonStyle</span> <span class="TextSegElementOperator">=</span> <span class="TextSegElementIdentifier">tbsDropDown</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">615</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">x</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">HUEOffset</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">616</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">y</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Saturation</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">617</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FHUEOffset</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">618</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FSaturation</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">619</td>
<td class="TextItemNum AlignRight">632</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">DropDownMenu</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementIdentifier">DroppedDown</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementIdentifier">Down</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FState</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">bsDown</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">bsExclusive</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Mode</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ControlIsActive</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Mode</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">Mode</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">620</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">633</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">FDrawOverBorder</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">621</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">622</td>
<td class="TextItemNum AlignRight">634</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">PaintItemBG</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ci</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Mode</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ArrowWidth</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ArrowWidth</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBMP</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Down</span><span class="TextSegElementOperator">),</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Down</span><span class="TextSegElementOperator">));</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">623</td>
<td class="TextItemNum AlignRight">635</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ci</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">X</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">624</td>
<td class="TextItemNum AlignRight">636</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">inc</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ci</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Y</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">);</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">625</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; if FCommonData.SkinManager.IsValidImgIndex(<span class="TextSegSigDiff">FCom</span>mo<span class="TextSegSigDiff">nData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Bor</span>de<span class="TextSegSigDiff">rIndex</span>) then DrawSkinRect(FCommonData.FCacheBMP, Rect(Width - ArrowWidth, 0, Width, Height), True, ci, FCommonData.SkinManager.ma[<span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderIndex</span>], Mode, <span class="TextSegSigDiff">Tru</span>e);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">626</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">dec</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">X</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">627</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">dec</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Y</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">628</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">629</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FHUEOffset</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">x</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">630</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; FCommonData<span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FSa</span>tura<span class="TextSegSigDiff">t</span><span class="TextSegSigDiff">i</span>on <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">y</span>;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">637</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">w</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">GetMaskIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinIndex</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinSection</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">s_BordersMask</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">638</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if FCommonData.SkinManager.IsValidImgIndex(Mode) then DrawSkinRect(FCommonData.FCacheBMP, Rect(Width - ArrowWidth, 0, Width, Height), True, ci, FCommonData.SkinManager.ma[<span class="TextSegSigDiff">w</span>], Mode, <span class="TextSegSigDiff">Fals</span>e);</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">639</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">640</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">el</span><span class="TextSegSigDiff">se</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">641</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintItem</span><span class="TextSegSigDiff">(</span>FCommonData<span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CI</span><span class="TextSegSigDiff">,</span> T<span class="TextSegSigDiff">r</span>u<span class="TextSegSigDiff">e</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Mode</span><span class="TextSegSigDiff">,</span> R<span class="TextSegSigDiff">ect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> A<span class="TextSegSigDiff">rrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">),</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Left</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ArrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">),</span> <span class="TextSegSigDiff">FComm</span>on<span class="TextSegSigDiff">Data</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBMP</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">),</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">))</span>;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">642</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">631</td>
<td class="TextItemNum AlignRight">643</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskArrowBottom</span> <span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">with</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">632</td>
<td class="TextItemNum AlignRight">644</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">633</td>
<td class="TextItemNum AlignRight">645</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Width</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">ArrowWidth</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">634</td>
<td class="TextItemNum AlignRight">646</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Right</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">635</td>
<td class="TextItemNum AlignRight">647</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">636</td>
<td class="TextItemNum AlignRight">648</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">x</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ArrowWidth</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskArrowBottom</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">SkinManager</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskArrowBottom</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ImageCount</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">637</td>
<td class="TextItemNum AlignRight">649</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">y</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Height</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskArrowBottom</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">R</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskArrowBottom</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskType</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">div</span> <span class="TextSegElementNumber">2</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">638</td>
<td class="TextItemNum AlignRight">650</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">639</td>
<td class="TextItemNum AlignRight">651</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">DrawSkinGlyph</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">x</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">y</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Mode</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">ma</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">ConstData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">MaskArrowBottom</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">MakeCacheInfo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">640</td>
<td class="TextItemNum AlignRight">652</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">641</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">642</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">Mode</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">CurrentState</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">643</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">FDrawOverBorder</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">644</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintItemBG</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Mode</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ArrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBMP</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">645</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawCaption</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">646</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawGlyph</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">647</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">inc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">X</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">648</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">inc</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Y</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">649</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">IsValidImgIndex</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">DrawSkinRect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBMP</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ArrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">ci</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ma</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BorderIndex</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Mode</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">False</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">650</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">651</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">652</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">PaintItem</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">CI</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Mode</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">0</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">ArrowWidth</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Point</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Left</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Top</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBMP</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Down</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">653</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawCaption</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">654</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">DrawGlyph</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">655</td>
<td class="TextItemNum AlignRight">653</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">656</td>
<td class="TextItemNum AlignRight">654</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">657</td>
<td class="TextItemNum AlignRight">655</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">GetParentCache</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">658</td>
<td class="TextItemNum AlignRight">656</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">BmpDisabledKind</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FDisabledKind</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Parent</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Top</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">659</td>
<td class="TextItemNum AlignRight">657</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">660</td>
<td class="TextItemNum AlignRight">658</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOnPaint</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOnPaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">821</td>
<td class="TextItemNum AlignRight">819</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">822</td>
<td class="TextItemNum AlignRight">820</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">AC_INVALIDATE</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">823</td>
<td class="TextItemNum AlignRight">821</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FUpdating</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">824</td>
<td class="TextItemNum AlignRight">822</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">825</td>
<td class="TextItemNum AlignRight">823</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">GraphRepaint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">826</td>
<td class="TextItemNum AlignRight">824</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">827</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">AC_MOUSELEAVE</span> <span class="TextSegSigDiff">:</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">828</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Ac_CMMouseLeave</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Message</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">829</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">Exit</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">830</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">831</td>
<td class="TextItemNum AlignRight">825</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">832</td>
<td class="TextItemNum AlignRight">826</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">ControlIsReady</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">or</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Skinned</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">833</td>
<td class="TextItemNum AlignRight">827</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">case</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Msg</span> <span class="TextSegElementKeyword">of</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">834</td>
<td class="TextItemNum AlignRight">828</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">CM_MOUSEENTER</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Enabled</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csDesigning</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">ComponentState</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">835</td>
<td class="TextItemNum AlignRight">829</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FMouseAbove</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">836</td>
<td class="TextItemNum AlignRight">830</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOnMouseEnter</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOnMouseEnter</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionGap"><td colspan="3">&nbsp;</td></tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1031</td>
<td class="TextItemNum AlignRight">1025</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1032</td>
<td class="TextItemNum AlignRight">1026</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSpeedButton</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ac_CMMouseEnter</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1033</td>
<td class="TextItemNum AlignRight">1027</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1034</td>
<td class="TextItemNum AlignRight">1028</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOnMouseEnter</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOnMouseEnter</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1035</td>
<td class="TextItemNum AlignRight">1029</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FMouseAbove</span> <span class="TextSegElementKeyword">and</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ButtonStyle</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">tbsDivider</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">tbsSeparator</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1036</td>
<td class="TextItemNum AlignRight">1030</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FMouseAbove</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">1037</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FCommonData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">SkinManager</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">ActiveGraphControl</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">Self</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1038</td>
<td class="TextItemNum AlignRight">1031</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">DoChangePaint</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">EventEnabled</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">aeMouseEnter</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FAnimatEvents</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1039</td>
<td class="TextItemNum AlignRight">1032</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1040</td>
<td class="TextItemNum AlignRight">1033</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1041</td>
<td class="TextItemNum AlignRight">1034</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1042</td>
<td class="TextItemNum AlignRight">1035</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsSpeedButton</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ac_CMMouseLeave</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementKeyword">Message</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TMessage</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1043</td>
<td class="TextItemNum AlignRight">1036</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sSpinEdit.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1181</td>
<td class="TextItemNum AlignRight">1181</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsBaseSpinEdit</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PrepareCache</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1182</td>
<td class="TextItemNum AlignRight">1182</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">var</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1183</td>
<td class="TextItemNum AlignRight">1183</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">bw</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1184</td>
<td class="TextItemNum AlignRight">1184</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1185</td>
<td class="TextItemNum AlignRight">1185</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">InitCacheBmp</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1186</td>
<td class="TextItemNum AlignRight">1186</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">PaintItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetParentCache</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">ControlIsActive</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Rect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Width</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Height</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Left</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">top</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1187</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">CustomColor</span> <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1188</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">bw</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">BorderStyle</span> <span class="TextSegSigDiff">&lt;</span><span class="TextSegSigDiff">&gt;</span> <span class="TextSegSigDiff">bsNone</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">*</span> <span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">1</span> <span class="TextSegSigDiff">+</span> <span class="TextSegSigDiff">integer</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">Ctl3d</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1189</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">FillDC</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">FCacheBmp</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Canvas</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Handle</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Rect</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">bw</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">bw</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Width</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">bw</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Height</span> <span class="TextSegSigDiff">-</span> <span class="TextSegSigDiff">bw</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">)</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1190</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">end</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1191</td>
<td class="TextItemNum AlignRight">1187</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">PaintText</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1192</td>
<td class="TextItemNum AlignRight">1188</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1193</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if not Enabled <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">ControlIsActive</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">SkinData</span><span class="TextSegSigDiff">)</span> then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1189</td>
<td class="TextItemSigDel">&nbsp; if not Enabled then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1194</td>
<td class="TextItemNum AlignRight">1190</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">bw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">BorderStyle</span> <span class="TextSegElementOperator">&lt;</span><span class="TextSegElementOperator">&gt;</span> <span class="TextSegElementIdentifier">bsNone</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementOperator">*</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">1</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Ctl3d</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1195</td>
<td class="TextItemNum AlignRight">1191</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Lock</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1196</td>
<td class="TextItemNum AlignRight">1192</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FButton</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">PaintTo</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Handle</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Point</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FButton</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Left</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">bw</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">FButton</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Top</span> <span class="TextSegElementOperator">+</span> <span class="TextSegElementIdentifier">bw</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1197</td>
<td class="TextItemNum AlignRight">1193</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FCacheBmp</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Canvas</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">UnLock</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">1198</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; <span class="TextSegSigDiff">if</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">Enabled</span> <span class="TextSegSigDiff">then</span> BmpDisabledKind(SkinData.FCacheBmp, DisabledKind, Parent, GetParentCache(SkinData), Point(Left, Top));</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1194</td>
<td class="TextItemSigDel">&nbsp; &nbsp; BmpDisabledKind(SkinData.FCacheBmp, DisabledKind, Parent, GetParentCache(SkinData), Point(Left, Top));</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1199</td>
<td class="TextItemNum AlignRight">1195</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1200</td>
<td class="TextItemNum AlignRight">1196</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">SkinData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BGChanged</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1201</td>
<td class="TextItemNum AlignRight">1197</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1202</td>
<td class="TextItemNum AlignRight">1198</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1203</td>
<td class="TextItemNum AlignRight">1199</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">procedure</span> <span class="TextSegElementIdentifier">TsTimePicker</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">KeyDown</span><span class="TextSegElementOperator">(</span><span class="TextSegElementKeyword">var</span> <span class="TextSegElementIdentifier">Key</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">Word</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">Shift</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TShiftState</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1204</td>
<td class="TextItemNum AlignRight">1200</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sStrings.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">76</td>
<td class="TextItemNum AlignRight">76</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">s_Root</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">'Root :'</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">77</td>
<td class="TextItemNum AlignRight">77</td>
<td class="TextItemSame">&nbsp; </td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemNum AlignRight">78</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">s_DirWithSkins</span>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">'Directory with skins :'</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemNum AlignRight">79</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">s_SelectSkinTitle</span>&nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">'Select skin'</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemNum AlignRight">80</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">s_SkinPreview</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementOperator">=</span> <span class="TextSegElementString">'Skin preview'</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">s_InvalidDate</span>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">=</span> <span class="TextSegSigDiff">'Invalid date'</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemNum AlignRight">81</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemNum AlignRight">82</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">implementation</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemNum AlignRight">83</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemNum AlignRight">84</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$R sStrings.res}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">87</td>
<td class="TextItemNum AlignRight">85</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">88</td>
<td class="TextItemNum AlignRight">86</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">.</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sToolBar.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">135</td>
<td class="TextItemNum AlignRight">135</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">constructor</span> <span class="TextSegElementIdentifier">TsToolBar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TComponent</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemNum AlignRight">136</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemNum AlignRight">137</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">inherited</span> <span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">AOwner</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemNum AlignRight">138</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TsCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Create</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Self</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemNum AlignRight">139</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">COC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">COC_TsToolBar</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemNum AlignRight">140</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">FDisabledKind</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">DefDisabledKind</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionAll">
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; <span class="TextSegSigDiff">DoubleBuffered</span> <span class="TextSegSigDiff">:=</span> <span class="TextSegSigDiff">True</span><span class="TextSegSigDiff">;</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemNum AlignRight">141</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">HotButtonIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementOperator">-</span><span class="TextSegElementNumber">1</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemNum AlignRight">142</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemNum AlignRight">143</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemNum AlignRight">144</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">destructor</span> <span class="TextSegElementIdentifier">TsToolBar</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Destroy</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemNum AlignRight">145</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">147</td>
<td class="TextItemNum AlignRight">146</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FreeAndNil</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FCommonData</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sToolEdit.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">776</td>
<td class="TextItemNum AlignRight">776</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">777</td>
<td class="TextItemNum AlignRight">777</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">TextStored</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">778</td>
<td class="TextItemNum AlignRight">778</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">FFormatting</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">779</td>
<td class="TextItemNum AlignRight">779</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">try</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">780</td>
<td class="TextItemNum AlignRight">780</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$IFDEF DELPHI7UP}</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">781</td>
<td class="TextItemNum AlignRight">781</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">TryStrToDate</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">D</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">782</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; if Result then SetDate(D) else Raise EConvertError.CreateFmt(<span class="TextSegSigDiff">acs_Invali</span><span class="TextSegSigDiff">dDate</span>, [Text]);</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">782</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; if Result then SetDate(D) else Raise EConvertError.CreateFmt(<span class="TextSegSigDiff">'</span><span class="TextSegSigDiff">Invalid Date'</span>, [Text]);</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">783</td>
<td class="TextItemNum AlignRight">783</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ELSE}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">784</td>
<td class="TextItemNum AlignRight">784</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SetDate</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">StrToDateFmt</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FDateFormat</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Text</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">785</td>
<td class="TextItemNum AlignRight">785</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">Result</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">786</td>
<td class="TextItemNum AlignRight">786</td>
<td class="TextItemSame"><span class="TextSegElementCompiler_32Directive">{$ENDIF}</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">787</td>
<td class="TextItemNum AlignRight">787</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementKeyword">finally</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">788</td>
<td class="TextItemNum AlignRight">788</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">FFormatting</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sTreeView.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">95</td>
<td class="TextItemNum AlignRight">95</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">aRect</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TRect</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">96</td>
<td class="TextItemNum AlignRight">96</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">sNdx</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">integer</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">97</td>
<td class="TextItemNum AlignRight">97</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">CI</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TCacheInfo</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">98</td>
<td class="TextItemNum AlignRight">98</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DrawStyle</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">longint</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">99</td>
<td class="TextItemNum AlignRight">99</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DisabledKind</span> <span class="TextSegElementOperator">:</span> <span class="TextSegElementIdentifier">TsDisabledKind</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">100</td>
<td class="TextItemNum AlignRight">100</td>
<td class="TextItemSame"><span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">101</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if (csDesigning in ComponentState) <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">DefaultDraw</span> then Exit;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">101</td>
<td class="TextItemSigDel">&nbsp; if (csDesigning in ComponentState) then Exit;</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">102</td>
<td class="TextItemNum AlignRight">102</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementIdentifier">DefaultDraw</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">103</td>
<td class="TextItemNum AlignRight">103</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">Assigned</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">FOldDrawItem</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">FOldDrawItem</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Sender</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Node</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">State</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">Stage</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">PaintImages</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">DefaultDraw</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemNum AlignRight">104</td>
<td class="TextItemSame">&nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementIdentifier">DefaultDraw</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementIdentifier">Exit</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemNum AlignRight">105</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SubsectionAll">
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; if SkinData.Skinned and (Selected = Node) and (<span class="TextSegSigDiff">Focused</span> <span class="TextSegSigDiff">or</span> <span class="TextSegSigDiff">not</span> <span class="TextSegSigDiff">HideSelection</span><span class="TextSegSigDiff">)</span> <span class="TextSegSigDiff">and</span> <span class="TextSegSigDiff">(</span>Stage in [cdPostPaint]) then begin</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">106</td>
<td class="TextItemSigDel">&nbsp; if SkinData.Skinned and (Selected = Node) and (Stage in [cdPostPaint]) then begin</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemNum AlignRight">107</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">nRect</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">Node</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">DisplayRect</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemNum AlignRight">108</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateBmp32</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">WidthOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">HeightOf</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">nRect</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemNum AlignRight">109</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemNum AlignRight">110</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Bmp</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementKeyword">nil</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemNum AlignRight">111</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Ready</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">False</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemNum AlignRight">112</td>
<td class="TextItemSame">&nbsp; &nbsp; <span class="TextSegElementIdentifier">CI</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">FillColor</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">ColorToRGB</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">Color</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
&nbsp; &nbsp;
<br/>
File: sVclUtils.pas &nbsp;
<br/>
<table class="fc" cellspacing="0" cellpadding="0">
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1233</td>
<td class="TextItemNum AlignRight">1233</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">ReleaseDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">tDC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1234</td>
<td class="TextItemNum AlignRight">1234</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">MemDC</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">CreateCompatibleDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementNumber">0</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span> <span class="TextSegElementIdentifier">OldBitmap</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SelectObject</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MemDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">MemBitmap</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1235</td>
<td class="TextItemNum AlignRight">1235</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">MemDCExists</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">True</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1236</td>
<td class="TextItemNum AlignRight">1236</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">for</span> <span class="TextSegElementIdentifier">j</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementNumber">0</span> <span class="TextSegElementKeyword">to</span> <span class="TextSegElementIdentifier">Count</span> <span class="TextSegElementOperator">-</span> <span class="TextSegElementNumber">1</span> <span class="TextSegElementKeyword">do</span> <span class="TextSegElementComment">// Copy parent BG</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1237</td>
<td class="TextItemNum AlignRight">1237</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementIdentifier">ControlIsReady</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Controls</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">J</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1238</td>
<td class="TextItemNum AlignRight">1238</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">if</span> <span class="TextSegElementKeyword">not</span> <span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">csOpaque</span> <span class="TextSegElementKeyword">in</span> <span class="TextSegElementIdentifier">OwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Controls</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">J</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">ControlStyle</span><span class="TextSegElementOperator">)</span> <span class="TextSegElementComment">{???or (OwnerControl.Controls[J] is TGraphicControl)}</span> <span class="TextSegElementKeyword">then</span> <span class="TextSegElementKeyword">begin</span></td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1239</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if BGInfo.BgType = bt<span class="TextSegSigDiff">Cache</span> // If without cache</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1240</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">th</span><span class="TextSegSigDiff">en</span> BitBlt(MemDC, OwnerControl.Controls[J].Left, OwnerControl.Controls[J].Top, OwnerControl.Controls[J].Width, OwnerControl.Controls[J].Height, BGInfo.Bmp.Canvas.Handle, OwnerControl.Controls[J].Left + BGInfo.Offset.X, OwnerControl.Controls[J].Top + BGInfo.Offset.Y, SRCCOPY)</td>
</tr>
<tr class="SubsectionEnd">
<td class="TextItemNum AlignRight">1241</td>
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemSigAdd">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> <span class="TextSegSigDiff">FillDC</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MemDC</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">OwnerControl</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Controls</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">J</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BoundsRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">BGInfo</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1239</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if BGInfo.BgType = bt<span class="TextSegSigDiff">Fill</span> // If without cache</td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1240</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">then</span> <span class="TextSegSigDiff">FillDC</span><span class="TextSegSigDiff">(</span><span class="TextSegSigDiff">MemDC</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">OwnerControl</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Controls</span><span class="TextSegSigDiff">[</span><span class="TextSegSigDiff">J</span><span class="TextSegSigDiff">]</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">BoundsRect</span><span class="TextSegSigDiff">,</span> <span class="TextSegSigDiff">BGInfo</span><span class="TextSegSigDiff">.</span><span class="TextSegSigDiff">Color</span><span class="TextSegSigDiff">)</span></td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">&nbsp;</td>
<td class="TextItemNum AlignRight">1241</td>
<td class="TextItemSigDel">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegSigDiff">else</span> BitBlt(MemDC, OwnerControl.Controls[J].Left, OwnerControl.Controls[J].Top, OwnerControl.Controls[J].Width, OwnerControl.Controls[J].Height, BGInfo.Bmp.Canvas.Handle, OwnerControl.Controls[J].Left + BGInfo.Offset.X, OwnerControl.Controls[J].Top + BGInfo.Offset.Y, SRCCOPY)</td>
</tr>
<tr class="SectionBegin">
<td class="TextItemNum AlignRight">1242</td>
<td class="TextItemNum AlignRight">1242</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1243</td>
<td class="TextItemNum AlignRight">1243</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">else</span> <span class="TextSegElementIdentifier">FillDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MemDC</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">OwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Controls</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">J</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">BoundsRect</span><span class="TextSegElementOperator">,</span> <span class="TextSegElementIdentifier">GetControlColor</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">OwnerControl</span><span class="TextSegElementOperator">.</span><span class="TextSegElementIdentifier">Controls</span><span class="TextSegElementOperator">[</span><span class="TextSegElementIdentifier">J</span><span class="TextSegElementOperator">]</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1244</td>
<td class="TextItemNum AlignRight">1244</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1245</td>
<td class="TextItemNum AlignRight">1245</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementKeyword">end</span><span class="TextSegElementOperator">;</span></td>
</tr>
<tr class="SectionMiddle">
<td class="TextItemNum AlignRight">1246</td>
<td class="TextItemNum AlignRight">1246</td>
<td class="TextItemSame">&nbsp;</td>
</tr>
<tr class="SectionEnd">
<td class="TextItemNum AlignRight">1247</td>
<td class="TextItemNum AlignRight">1247</td>
<td class="TextItemSame">&nbsp; &nbsp; &nbsp; &nbsp; <span class="TextSegElementIdentifier">SaveIndex</span> <span class="TextSegElementOperator">:=</span> <span class="TextSegElementIdentifier">SaveDC</span><span class="TextSegElementOperator">(</span><span class="TextSegElementIdentifier">MemDC</span><span class="TextSegElementOperator">)</span><span class="TextSegElementOperator">;</span></td>
</tr>
</table>
<br/>
</body>
</html>
